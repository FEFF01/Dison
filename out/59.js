(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[59],{

/***/ "./node_modules/@babel/runtime/helpers/construct.js":
/*!**********************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/construct.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var setPrototypeOf = __webpack_require__(/*! ./setPrototypeOf */ \"./node_modules/@babel/runtime/helpers/setPrototypeOf.js\");\n\nvar isNativeReflectConstruct = __webpack_require__(/*! ./isNativeReflectConstruct */ \"./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jb25zdHJ1Y3QuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jb25zdHJ1Y3QuanM/YjE3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9zZXRQcm90b3R5cGVPZlwiKTtcblxudmFyIGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IHJlcXVpcmUoXCIuL2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdFwiKTtcblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gIGlmIChpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0O1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgICAgdmFyIGEgPSBbbnVsbF07XG4gICAgICBhLnB1c2guYXBwbHkoYSwgYXJncyk7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICAgIGlmIChDbGFzcykgc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NvbnN0cnVjdDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/construct.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/isNativeFunction.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/isNativeFunction.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pc05hdGl2ZUZ1bmN0aW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaXNOYXRpdmVGdW5jdGlvbi5qcz9jNWY3Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7XG4gIHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2lzTmF0aXZlRnVuY3Rpb247Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/isNativeFunction.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QuanM/NmY4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7XG5cbiAgdHJ5IHtcbiAgICBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/wrapNativeSuper.js":
/*!****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/wrapNativeSuper.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var getPrototypeOf = __webpack_require__(/*! ./getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nvar setPrototypeOf = __webpack_require__(/*! ./setPrototypeOf */ \"./node_modules/@babel/runtime/helpers/setPrototypeOf.js\");\n\nvar isNativeFunction = __webpack_require__(/*! ./isNativeFunction */ \"./node_modules/@babel/runtime/helpers/isNativeFunction.js\");\n\nvar construct = __webpack_require__(/*! ./construct */ \"./node_modules/@babel/runtime/helpers/construct.js\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy93cmFwTmF0aXZlU3VwZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy93cmFwTmF0aXZlU3VwZXIuanM/YTEyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9nZXRQcm90b3R5cGVPZlwiKTtcblxudmFyIHNldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4vc2V0UHJvdG90eXBlT2ZcIik7XG5cbnZhciBpc05hdGl2ZUZ1bmN0aW9uID0gcmVxdWlyZShcIi4vaXNOYXRpdmVGdW5jdGlvblwiKTtcblxudmFyIGNvbnN0cnVjdCA9IHJlcXVpcmUoXCIuL2NvbnN0cnVjdFwiKTtcblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIWlzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7XG5cbiAgICBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG5cbiAgICAgIF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFdyYXBwZXIoKSB7XG4gICAgICByZXR1cm4gY29uc3RydWN0KENsYXNzLCBhcmd1bWVudHMsIGdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICB9XG5cbiAgICBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogV3JhcHBlcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICB9O1xuXG4gIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfd3JhcE5hdGl2ZVN1cGVyOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/wrapNativeSuper.js\n");

/***/ }),

/***/ "./node_modules/regexpp/index.js":
/*!***************************************!*\
  !*** ./node_modules/regexpp/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/*! @author Toru Nagashima <https://github.com/mysticatea> */\n\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\n\nvar _inherits2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\"));\n\nvar _wrapNativeSuper2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/wrapNativeSuper */ \"./node_modules/@babel/runtime/helpers/wrapNativeSuper.js\"));\n\nvar _classCallCheck2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\"));\n\nvar _createClass2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\"));\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar ast = /*#__PURE__*/Object.freeze({});\nvar largeIdStartRanges = undefined;\nvar largeIdContinueRanges = undefined;\n\nfunction isIdStart(cp) {\n  if (cp < 0x41) return false;\n  if (cp < 0x5b) return true;\n  if (cp < 0x61) return false;\n  if (cp < 0x7b) return true;\n  return isLargeIdStart(cp);\n}\n\nfunction isIdContinue(cp) {\n  if (cp < 0x30) return false;\n  if (cp < 0x3a) return true;\n  if (cp < 0x41) return false;\n  if (cp < 0x5b) return true;\n  if (cp === 0x5f) return true;\n  if (cp < 0x61) return false;\n  if (cp < 0x7b) return true;\n  return isLargeIdStart(cp) || isLargeIdContinue(cp);\n}\n\nfunction isLargeIdStart(cp) {\n  return isInRange(cp, largeIdStartRanges || (largeIdStartRanges = initLargeIdStartRanges()));\n}\n\nfunction isLargeIdContinue(cp) {\n  return isInRange(cp, largeIdContinueRanges || (largeIdContinueRanges = initLargeIdContinueRanges()));\n}\n\nfunction initLargeIdStartRanges() {\n  return restoreRanges(\"170 0 11 0 5 0 6 22 2 30 2 457 5 11 15 4 8 0 2 0 130 4 2 1 3 3 2 0 7 0 2 2 2 0 2 19 2 82 2 138 9 165 2 37 3 0 7 40 72 26 5 3 46 42 36 1 2 98 2 0 16 1 8 1 11 2 3 0 17 0 2 29 30 88 12 0 25 32 10 1 5 0 6 21 5 0 10 0 4 0 24 24 8 10 54 20 2 17 61 53 4 0 19 0 8 9 16 15 5 7 3 1 3 21 2 6 2 0 4 3 4 0 17 0 14 1 2 2 15 1 11 0 9 5 5 1 3 21 2 6 2 1 2 1 2 1 32 3 2 0 20 2 17 8 2 2 2 21 2 6 2 1 2 4 4 0 19 0 16 1 24 0 12 7 3 1 3 21 2 6 2 1 2 4 4 0 31 1 2 2 16 0 18 0 2 5 4 2 2 3 4 1 2 0 2 1 4 1 4 2 4 11 23 0 53 7 2 2 2 22 2 15 4 0 27 2 6 1 31 0 5 7 2 2 2 22 2 9 2 4 4 0 33 0 2 1 16 1 18 8 2 2 2 40 3 0 17 0 6 2 9 2 25 5 6 17 4 23 2 8 2 0 3 6 59 47 2 1 13 6 59 1 2 0 2 4 2 23 2 0 2 9 2 1 10 0 3 4 2 0 22 3 33 0 64 7 2 35 28 4 116 42 21 0 17 5 5 3 4 0 4 1 8 2 5 12 13 0 18 37 2 0 6 0 3 42 2 332 2 3 3 6 2 0 2 3 3 40 2 3 3 32 2 3 3 6 2 0 2 3 3 14 2 56 2 3 3 66 38 15 17 85 3 5 4 619 3 16 2 25 6 74 4 10 8 12 2 3 15 17 15 17 15 12 2 2 16 51 36 0 5 0 68 88 8 40 2 0 6 69 11 30 50 29 3 4 12 43 5 25 55 22 10 52 83 0 94 46 18 6 56 29 14 1 11 43 27 35 42 2 11 35 3 8 8 42 3 2 42 3 2 5 2 1 4 0 6 191 65 277 3 5 3 37 3 5 3 7 2 0 2 0 2 0 2 30 3 52 2 6 2 0 4 2 2 6 4 3 3 5 5 12 6 2 2 6 117 0 14 0 17 12 102 0 5 0 3 9 2 0 3 5 7 0 2 0 2 0 2 15 3 3 6 4 5 0 18 40 2680 46 2 46 2 132 7 3 4 1 13 37 2 0 6 0 3 55 8 0 17 22 10 6 2 6 2 6 2 6 2 6 2 6 2 6 2 6 551 2 26 8 8 4 3 4 5 85 5 4 2 89 2 3 6 42 2 93 18 31 49 15 513 6591 65 20988 4 1164 68 45 3 268 4 15 11 1 21 46 17 30 3 79 40 8 3 102 3 52 3 8 43 12 2 2 2 3 2 22 30 51 15 49 63 5 4 0 2 1 12 27 11 22 26 28 8 46 29 0 17 4 2 9 11 4 2 40 24 2 2 7 21 22 4 0 4 49 2 0 4 1 3 4 3 0 2 0 25 2 3 10 8 2 13 5 3 5 3 5 10 6 2 6 2 42 2 13 7 114 30 11171 13 22 5 48 8453 365 3 105 39 6 13 4 6 0 2 9 2 12 2 4 2 0 2 1 2 1 2 107 34 362 19 63 3 53 41 11 117 4 2 134 37 25 7 25 12 88 4 5 3 5 3 5 3 2 36 11 2 25 2 18 2 1 2 14 3 13 35 122 70 52 268 28 4 48 48 31 14 29 6 37 11 29 3 35 5 7 2 4 43 157 19 35 5 35 5 39 9 51 157 310 10 21 11 7 153 5 3 0 2 43 2 1 4 0 3 22 11 22 10 30 66 18 2 1 11 21 11 25 71 55 7 1 65 0 16 3 2 2 2 28 43 28 4 28 36 7 2 27 28 53 11 21 11 18 14 17 111 72 56 50 14 50 14 35 349 41 7 1 79 28 11 0 9 21 107 20 28 22 13 52 76 44 33 24 27 35 30 0 3 0 9 34 4 0 13 47 15 3 22 0 2 0 36 17 2 24 85 6 2 0 2 3 2 14 2 9 8 46 39 7 3 1 3 21 2 6 2 1 2 4 4 0 19 0 13 4 159 52 19 3 21 2 31 47 21 1 2 0 185 46 42 3 37 47 21 0 60 42 14 0 72 26 230 43 117 63 32 7 3 0 3 7 2 1 2 23 16 0 2 0 95 7 3 38 17 0 2 0 29 0 11 39 8 0 22 0 12 45 20 0 35 56 264 8 2 36 18 0 50 29 113 6 2 1 2 37 22 0 26 5 2 1 2 31 15 0 328 18 190 0 80 921 103 110 18 195 2749 1070 4050 582 8634 568 8 30 114 29 19 47 17 3 32 20 6 18 689 63 129 74 6 0 67 12 65 1 2 0 29 6135 9 1237 43 8 8952 286 50 2 18 3 9 395 2309 106 6 12 4 8 8 9 5991 84 2 70 2 1 3 0 3 1 3 3 2 11 2 0 2 6 2 64 2 3 3 7 2 6 2 27 2 3 2 4 2 0 4 6 2 339 3 24 2 24 2 30 2 24 2 30 2 24 2 30 2 24 2 30 2 24 2 7 2357 44 11 6 17 0 370 43 1301 196 60 67 8 0 1205 3 2 26 2 1 2 0 3 0 2 9 2 3 2 0 2 0 7 0 5 0 2 0 2 0 2 2 2 1 2 0 3 0 2 0 2 0 2 0 2 0 2 1 2 0 3 3 2 6 2 3 2 3 2 0 2 9 2 16 6 2 2 4 2 16 4421 42717 35 4148 12 221 3 5761 15 7472 3104 541 1507 4938\");\n}\n\nfunction initLargeIdContinueRanges() {\n  return restoreRanges(\"183 0 585 111 24 0 252 4 266 44 2 0 2 1 2 1 2 0 73 10 49 30 7 0 102 6 3 5 3 1 2 3 3 9 24 0 31 26 92 10 16 9 34 8 10 0 25 3 2 8 2 2 2 4 44 2 120 14 2 32 55 2 2 17 2 6 11 1 3 9 18 2 57 0 2 6 3 1 3 2 10 0 11 1 3 9 15 0 3 2 57 0 2 4 5 1 3 2 4 0 21 11 4 0 12 2 57 0 2 7 2 2 2 2 21 1 3 9 11 5 2 2 57 0 2 6 3 1 3 2 8 2 11 1 3 9 19 0 60 4 4 2 2 3 10 0 15 9 17 4 58 6 2 2 2 3 8 1 12 1 3 9 18 2 57 0 2 6 2 2 2 3 8 1 12 1 3 9 17 3 56 1 2 6 2 2 2 3 10 0 11 1 3 9 18 2 71 0 5 5 2 0 2 7 7 9 3 1 62 0 3 6 13 7 2 9 88 0 3 8 12 5 3 9 63 1 7 9 12 0 2 0 2 0 5 1 50 19 2 1 6 10 2 35 10 0 101 19 2 9 13 3 5 2 2 2 3 6 4 3 14 11 2 14 704 2 10 8 929 2 30 2 30 1 31 1 65 31 10 0 3 9 34 2 3 9 144 0 119 11 5 11 11 9 129 10 61 4 58 9 2 28 3 10 7 9 23 13 2 1 64 4 48 16 12 9 18 8 13 2 31 12 3 9 45 13 49 19 9 9 7 9 119 2 2 20 5 0 7 0 3 2 199 57 2 4 576 1 20 0 124 12 5 0 4 11 3071 2 142 0 97 31 555 5 106 1 30086 9 70 0 5 9 33 1 81 1 273 0 4 0 5 0 24 4 5 0 84 1 51 17 11 9 7 17 14 10 29 7 26 12 45 3 48 13 16 9 12 0 11 9 48 13 13 0 9 1 3 9 34 2 51 0 2 2 3 1 6 1 2 0 42 4 6 1 237 7 2 1 3 9 20261 0 738 15 17 15 4 1 25 2 193 9 38 0 702 0 227 0 150 4 294 9 1368 2 2 1 6 3 41 2 5 0 166 1 574 3 9 9 370 1 154 10 176 2 54 14 32 9 16 3 46 10 54 9 7 2 37 13 2 9 6 1 45 0 13 2 49 13 9 3 2 11 83 11 7 0 161 11 6 9 7 3 56 1 2 6 3 1 3 2 10 0 11 1 3 6 4 4 193 17 10 9 5 0 82 19 13 9 214 6 3 8 28 1 83 16 16 9 82 12 9 9 84 14 5 9 243 14 166 9 71 5 2 1 3 3 2 0 2 1 13 9 120 6 3 6 4 0 29 9 41 6 2 3 9 0 10 10 47 15 406 7 2 7 17 9 57 21 2 13 123 5 4 0 2 1 2 6 2 0 9 9 49 4 2 1 2 4 9 9 330 3 19306 9 135 4 60 6 26 9 1014 0 2 54 8 3 82 0 12 1 19628 1 5319 4 4 5 9 7 3 6 31 3 149 2 1418 49 513 54 5 49 9 0 15 0 23 4 2 14 1361 6 2 16 3 6 2 1 2 4 262 6 10 9 419 13 1495 6 110 6 6 9 4759 9 787719 239\");\n}\n\nfunction isInRange(cp, ranges) {\n  var l = 0,\n      r = ranges.length / 2 | 0,\n      i = 0,\n      min = 0,\n      max = 0;\n\n  while (l < r) {\n    i = (l + r) / 2 | 0;\n    min = ranges[2 * i];\n    max = ranges[2 * i + 1];\n\n    if (cp < min) {\n      r = i;\n    } else if (cp > max) {\n      l = i + 1;\n    } else {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction restoreRanges(data) {\n  var last = 0;\n  return data.split(\" \").map(function (s) {\n    return last += parseInt(s, 10) | 0;\n  });\n}\n\nvar DataSet = /*#__PURE__*/function () {\n  function DataSet(raw2018, raw2019, raw2020) {\n    (0, _classCallCheck2.default)(this, DataSet);\n    this._raw2018 = raw2018;\n    this._raw2019 = raw2019;\n    this._raw2020 = raw2020;\n  }\n\n  (0, _createClass2.default)(DataSet, [{\n    key: \"es2018\",\n    get: function get() {\n      return this._set2018 || (this._set2018 = new Set(this._raw2018.split(\" \")));\n    }\n  }, {\n    key: \"es2019\",\n    get: function get() {\n      return this._set2019 || (this._set2019 = new Set(this._raw2019.split(\" \")));\n    }\n  }, {\n    key: \"es2020\",\n    get: function get() {\n      return this._set2020 || (this._set2020 = new Set(this._raw2020.split(\" \")));\n    }\n  }]);\n  return DataSet;\n}();\n\nvar gcNameSet = new Set([\"General_Category\", \"gc\"]);\nvar scNameSet = new Set([\"Script\", \"Script_Extensions\", \"sc\", \"scx\"]);\nvar gcValueSets = new DataSet(\"C Cased_Letter Cc Cf Close_Punctuation Cn Co Combining_Mark Connector_Punctuation Control Cs Currency_Symbol Dash_Punctuation Decimal_Number Enclosing_Mark Final_Punctuation Format Initial_Punctuation L LC Letter Letter_Number Line_Separator Ll Lm Lo Lowercase_Letter Lt Lu M Mark Math_Symbol Mc Me Mn Modifier_Letter Modifier_Symbol N Nd Nl No Nonspacing_Mark Number Open_Punctuation Other Other_Letter Other_Number Other_Punctuation Other_Symbol P Paragraph_Separator Pc Pd Pe Pf Pi Po Private_Use Ps Punctuation S Sc Separator Sk Sm So Space_Separator Spacing_Mark Surrogate Symbol Titlecase_Letter Unassigned Uppercase_Letter Z Zl Zp Zs cntrl digit punct\", \"\", \"\");\nvar scValueSets = new DataSet(\"Adlam Adlm Aghb Ahom Anatolian_Hieroglyphs Arab Arabic Armenian Armi Armn Avestan Avst Bali Balinese Bamu Bamum Bass Bassa_Vah Batak Batk Beng Bengali Bhaiksuki Bhks Bopo Bopomofo Brah Brahmi Brai Braille Bugi Buginese Buhd Buhid Cakm Canadian_Aboriginal Cans Cari Carian Caucasian_Albanian Chakma Cham Cher Cherokee Common Copt Coptic Cprt Cuneiform Cypriot Cyrillic Cyrl Deseret Deva Devanagari Dsrt Dupl Duployan Egyp Egyptian_Hieroglyphs Elba Elbasan Ethi Ethiopic Geor Georgian Glag Glagolitic Gonm Goth Gothic Gran Grantha Greek Grek Gujarati Gujr Gurmukhi Guru Han Hang Hangul Hani Hano Hanunoo Hatr Hatran Hebr Hebrew Hira Hiragana Hluw Hmng Hung Imperial_Aramaic Inherited Inscriptional_Pahlavi Inscriptional_Parthian Ital Java Javanese Kaithi Kali Kana Kannada Katakana Kayah_Li Khar Kharoshthi Khmer Khmr Khoj Khojki Khudawadi Knda Kthi Lana Lao Laoo Latin Latn Lepc Lepcha Limb Limbu Lina Linb Linear_A Linear_B Lisu Lyci Lycian Lydi Lydian Mahajani Mahj Malayalam Mand Mandaic Mani Manichaean Marc Marchen Masaram_Gondi Meetei_Mayek Mend Mende_Kikakui Merc Mero Meroitic_Cursive Meroitic_Hieroglyphs Miao Mlym Modi Mong Mongolian Mro Mroo Mtei Mult Multani Myanmar Mymr Nabataean Narb Nbat New_Tai_Lue Newa Nko Nkoo Nshu Nushu Ogam Ogham Ol_Chiki Olck Old_Hungarian Old_Italic Old_North_Arabian Old_Permic Old_Persian Old_South_Arabian Old_Turkic Oriya Orkh Orya Osage Osge Osma Osmanya Pahawh_Hmong Palm Palmyrene Pau_Cin_Hau Pauc Perm Phag Phags_Pa Phli Phlp Phnx Phoenician Plrd Prti Psalter_Pahlavi Qaac Qaai Rejang Rjng Runic Runr Samaritan Samr Sarb Saur Saurashtra Sgnw Sharada Shavian Shaw Shrd Sidd Siddham SignWriting Sind Sinh Sinhala Sora Sora_Sompeng Soyo Soyombo Sund Sundanese Sylo Syloti_Nagri Syrc Syriac Tagalog Tagb Tagbanwa Tai_Le Tai_Tham Tai_Viet Takr Takri Tale Talu Tamil Taml Tang Tangut Tavt Telu Telugu Tfng Tglg Thaa Thaana Thai Tibetan Tibt Tifinagh Tirh Tirhuta Ugar Ugaritic Vai Vaii Wara Warang_Citi Xpeo Xsux Yi Yiii Zanabazar_Square Zanb Zinh Zyyy\", \"Dogr Dogra Gong Gunjala_Gondi Hanifi_Rohingya Maka Makasar Medefaidrin Medf Old_Sogdian Rohg Sogd Sogdian Sogo\", \"Elym Elymaic Hmnp Nand Nandinagari Nyiakeng_Puachue_Hmong Wancho Wcho\");\nvar binPropertySets = new DataSet(\"AHex ASCII ASCII_Hex_Digit Alpha Alphabetic Any Assigned Bidi_C Bidi_Control Bidi_M Bidi_Mirrored CI CWCF CWCM CWKCF CWL CWT CWU Case_Ignorable Cased Changes_When_Casefolded Changes_When_Casemapped Changes_When_Lowercased Changes_When_NFKC_Casefolded Changes_When_Titlecased Changes_When_Uppercased DI Dash Default_Ignorable_Code_Point Dep Deprecated Dia Diacritic Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Ext Extender Gr_Base Gr_Ext Grapheme_Base Grapheme_Extend Hex Hex_Digit IDC IDS IDSB IDST IDS_Binary_Operator IDS_Trinary_Operator ID_Continue ID_Start Ideo Ideographic Join_C Join_Control LOE Logical_Order_Exception Lower Lowercase Math NChar Noncharacter_Code_Point Pat_Syn Pat_WS Pattern_Syntax Pattern_White_Space QMark Quotation_Mark RI Radical Regional_Indicator SD STerm Sentence_Terminal Soft_Dotted Term Terminal_Punctuation UIdeo Unified_Ideograph Upper Uppercase VS Variation_Selector White_Space XIDC XIDS XID_Continue XID_Start space\", \"Extended_Pictographic\", \"\");\n\nfunction isValidUnicodeProperty(version, name, value) {\n  if (gcNameSet.has(name)) {\n    return version >= 2018 && gcValueSets.es2018.has(value);\n  }\n\n  if (scNameSet.has(name)) {\n    return version >= 2018 && scValueSets.es2018.has(value) || version >= 2019 && scValueSets.es2019.has(value) || version >= 2020 && scValueSets.es2020.has(value);\n  }\n\n  return false;\n}\n\nfunction isValidLoneUnicodeProperty(version, value) {\n  return version >= 2018 && binPropertySets.es2018.has(value) || version >= 2019 && binPropertySets.es2019.has(value);\n}\n\nvar Backspace = 0x08;\nvar CharacterTabulation = 0x09;\nvar LineFeed = 0x0a;\nvar LineTabulation = 0x0b;\nvar FormFeed = 0x0c;\nvar CarriageReturn = 0x0d;\nvar ExclamationMark = 0x21;\nvar DollarSign = 0x24;\nvar LeftParenthesis = 0x28;\nvar RightParenthesis = 0x29;\nvar Asterisk = 0x2a;\nvar PlusSign = 0x2b;\nvar Comma = 0x2c;\nvar HyphenMinus = 0x2d;\nvar FullStop = 0x2e;\nvar Solidus = 0x2f;\nvar DigitZero = 0x30;\nvar DigitOne = 0x31;\nvar DigitSeven = 0x37;\nvar DigitNine = 0x39;\nvar Colon = 0x3a;\nvar LessThanSign = 0x3c;\nvar EqualsSign = 0x3d;\nvar GreaterThanSign = 0x3e;\nvar QuestionMark = 0x3f;\nvar LatinCapitalLetterA = 0x41;\nvar LatinCapitalLetterB = 0x42;\nvar LatinCapitalLetterD = 0x44;\nvar LatinCapitalLetterF = 0x46;\nvar LatinCapitalLetterP = 0x50;\nvar LatinCapitalLetterS = 0x53;\nvar LatinCapitalLetterW = 0x57;\nvar LatinCapitalLetterZ = 0x5a;\nvar LowLine = 0x5f;\nvar LatinSmallLetterA = 0x61;\nvar LatinSmallLetterB = 0x62;\nvar LatinSmallLetterC = 0x63;\nvar LatinSmallLetterD = 0x64;\nvar LatinSmallLetterF = 0x66;\nvar LatinSmallLetterG = 0x67;\nvar LatinSmallLetterI = 0x69;\nvar LatinSmallLetterK = 0x6b;\nvar LatinSmallLetterM = 0x6d;\nvar LatinSmallLetterN = 0x6e;\nvar LatinSmallLetterP = 0x70;\nvar LatinSmallLetterR = 0x72;\nvar LatinSmallLetterS = 0x73;\nvar LatinSmallLetterT = 0x74;\nvar LatinSmallLetterU = 0x75;\nvar LatinSmallLetterV = 0x76;\nvar LatinSmallLetterW = 0x77;\nvar LatinSmallLetterX = 0x78;\nvar LatinSmallLetterY = 0x79;\nvar LatinSmallLetterZ = 0x7a;\nvar LeftSquareBracket = 0x5b;\nvar ReverseSolidus = 0x5c;\nvar RightSquareBracket = 0x5d;\nvar CircumflexAccent = 0x5e;\nvar LeftCurlyBracket = 0x7b;\nvar VerticalLine = 0x7c;\nvar RightCurlyBracket = 0x7d;\nvar ZeroWidthNonJoiner = 0x200c;\nvar ZeroWidthJoiner = 0x200d;\nvar LineSeparator = 0x2028;\nvar ParagraphSeparator = 0x2029;\nvar MinCodePoint = 0x00;\nvar MaxCodePoint = 0x10ffff;\n\nfunction isLatinLetter(code) {\n  return code >= LatinCapitalLetterA && code <= LatinCapitalLetterZ || code >= LatinSmallLetterA && code <= LatinSmallLetterZ;\n}\n\nfunction isDecimalDigit(code) {\n  return code >= DigitZero && code <= DigitNine;\n}\n\nfunction isOctalDigit(code) {\n  return code >= DigitZero && code <= DigitSeven;\n}\n\nfunction isHexDigit(code) {\n  return code >= DigitZero && code <= DigitNine || code >= LatinCapitalLetterA && code <= LatinCapitalLetterF || code >= LatinSmallLetterA && code <= LatinSmallLetterF;\n}\n\nfunction isLineTerminator(code) {\n  return code === LineFeed || code === CarriageReturn || code === LineSeparator || code === ParagraphSeparator;\n}\n\nfunction isValidUnicode(code) {\n  return code >= MinCodePoint && code <= MaxCodePoint;\n}\n\nfunction digitToInt(code) {\n  if (code >= LatinSmallLetterA && code <= LatinSmallLetterF) {\n    return code - LatinSmallLetterA + 10;\n  }\n\n  if (code >= LatinCapitalLetterA && code <= LatinCapitalLetterF) {\n    return code - LatinCapitalLetterA + 10;\n  }\n\n  return code - DigitZero;\n}\n\nfunction isLeadSurrogate(code) {\n  return code >= 0xd800 && code <= 0xdbff;\n}\n\nfunction isTrailSurrogate(code) {\n  return code >= 0xdc00 && code <= 0xdfff;\n}\n\nfunction combineSurrogatePair(lead, trail) {\n  return (lead - 0xd800) * 0x400 + (trail - 0xdc00) + 0x10000;\n}\n\nvar legacyImpl = {\n  at: function at(s, end, i) {\n    return i < end ? s.charCodeAt(i) : -1;\n  },\n  width: function width(c) {\n    return 1;\n  }\n};\nvar unicodeImpl = {\n  at: function at(s, end, i) {\n    return i < end ? s.codePointAt(i) : -1;\n  },\n  width: function width(c) {\n    return c > 0xffff ? 2 : 1;\n  }\n};\n\nvar Reader = /*#__PURE__*/function () {\n  function Reader() {\n    (0, _classCallCheck2.default)(this, Reader);\n    this._impl = legacyImpl;\n    this._s = \"\";\n    this._i = 0;\n    this._end = 0;\n    this._cp1 = -1;\n    this._w1 = 1;\n    this._cp2 = -1;\n    this._w2 = 1;\n    this._cp3 = -1;\n    this._w3 = 1;\n    this._cp4 = -1;\n  }\n\n  (0, _createClass2.default)(Reader, [{\n    key: \"reset\",\n    value: function reset(source, start, end, uFlag) {\n      this._impl = uFlag ? unicodeImpl : legacyImpl;\n      this._s = source;\n      this._end = end;\n      this.rewind(start);\n    }\n  }, {\n    key: \"rewind\",\n    value: function rewind(index) {\n      var impl = this._impl;\n      this._i = index;\n      this._cp1 = impl.at(this._s, this._end, index);\n      this._w1 = impl.width(this._cp1);\n      this._cp2 = impl.at(this._s, this._end, index + this._w1);\n      this._w2 = impl.width(this._cp2);\n      this._cp3 = impl.at(this._s, this._end, index + this._w1 + this._w2);\n      this._w3 = impl.width(this._cp3);\n      this._cp4 = impl.at(this._s, this._end, index + this._w1 + this._w2 + this._w3);\n    }\n  }, {\n    key: \"advance\",\n    value: function advance() {\n      if (this._cp1 !== -1) {\n        var impl = this._impl;\n        this._i += this._w1;\n        this._cp1 = this._cp2;\n        this._w1 = this._w2;\n        this._cp2 = this._cp3;\n        this._w2 = impl.width(this._cp2);\n        this._cp3 = this._cp4;\n        this._w3 = impl.width(this._cp3);\n        this._cp4 = impl.at(this._s, this._end, this._i + this._w1 + this._w2 + this._w3);\n      }\n    }\n  }, {\n    key: \"eat\",\n    value: function eat(cp) {\n      if (this._cp1 === cp) {\n        this.advance();\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eat2\",\n    value: function eat2(cp1, cp2) {\n      if (this._cp1 === cp1 && this._cp2 === cp2) {\n        this.advance();\n        this.advance();\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eat3\",\n    value: function eat3(cp1, cp2, cp3) {\n      if (this._cp1 === cp1 && this._cp2 === cp2 && this._cp3 === cp3) {\n        this.advance();\n        this.advance();\n        this.advance();\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"source\",\n    get: function get() {\n      return this._s;\n    }\n  }, {\n    key: \"index\",\n    get: function get() {\n      return this._i;\n    }\n  }, {\n    key: \"currentCodePoint\",\n    get: function get() {\n      return this._cp1;\n    }\n  }, {\n    key: \"nextCodePoint\",\n    get: function get() {\n      return this._cp2;\n    }\n  }, {\n    key: \"nextCodePoint2\",\n    get: function get() {\n      return this._cp3;\n    }\n  }, {\n    key: \"nextCodePoint3\",\n    get: function get() {\n      return this._cp4;\n    }\n  }]);\n  return Reader;\n}();\n\nvar RegExpSyntaxError = /*#__PURE__*/function (_SyntaxError) {\n  (0, _inherits2.default)(RegExpSyntaxError, _SyntaxError);\n\n  var _super = _createSuper(RegExpSyntaxError);\n\n  function RegExpSyntaxError(source, uFlag, index, message) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, RegExpSyntaxError);\n\n    if (source) {\n      if (!source.startsWith(\"/\")) {\n        source = \"/\".concat(source, \"/\").concat(uFlag ? \"u\" : \"\");\n      }\n\n      source = \": \".concat(source);\n    }\n\n    _this = _super.call(this, \"Invalid regular expression\".concat(source, \": \").concat(message));\n    _this.index = index;\n    return _this;\n  }\n\n  return RegExpSyntaxError;\n}( /*#__PURE__*/(0, _wrapNativeSuper2.default)(SyntaxError));\n\nfunction isSyntaxCharacter(cp) {\n  return cp === CircumflexAccent || cp === DollarSign || cp === ReverseSolidus || cp === FullStop || cp === Asterisk || cp === PlusSign || cp === QuestionMark || cp === LeftParenthesis || cp === RightParenthesis || cp === LeftSquareBracket || cp === RightSquareBracket || cp === LeftCurlyBracket || cp === RightCurlyBracket || cp === VerticalLine;\n}\n\nfunction isRegExpIdentifierStart(cp) {\n  return isIdStart(cp) || cp === DollarSign || cp === LowLine;\n}\n\nfunction isRegExpIdentifierPart(cp) {\n  return isIdContinue(cp) || cp === DollarSign || cp === LowLine || cp === ZeroWidthNonJoiner || cp === ZeroWidthJoiner;\n}\n\nfunction isUnicodePropertyNameCharacter(cp) {\n  return isLatinLetter(cp) || cp === LowLine;\n}\n\nfunction isUnicodePropertyValueCharacter(cp) {\n  return isUnicodePropertyNameCharacter(cp) || isDecimalDigit(cp);\n}\n\nvar RegExpValidator = /*#__PURE__*/function () {\n  function RegExpValidator(options) {\n    (0, _classCallCheck2.default)(this, RegExpValidator);\n    this._reader = new Reader();\n    this._uFlag = false;\n    this._nFlag = false;\n    this._lastIntValue = 0;\n    this._lastMinValue = 0;\n    this._lastMaxValue = 0;\n    this._lastStrValue = \"\";\n    this._lastKeyValue = \"\";\n    this._lastValValue = \"\";\n    this._lastAssertionIsQuantifiable = false;\n    this._numCapturingParens = 0;\n    this._groupNames = new Set();\n    this._backreferenceNames = new Set();\n    this._options = options || {};\n  }\n\n  (0, _createClass2.default)(RegExpValidator, [{\n    key: \"validateLiteral\",\n    value: function validateLiteral(source) {\n      var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;\n      this._uFlag = this._nFlag = false;\n      this.reset(source, start, end);\n      this.onLiteralEnter(start);\n\n      if (this.eat(Solidus) && this.eatRegExpBody() && this.eat(Solidus)) {\n        var flagStart = this.index;\n        var uFlag = source.includes(\"u\", flagStart);\n        this.validateFlags(source, flagStart, end);\n        this.validatePattern(source, start + 1, flagStart - 1, uFlag);\n      } else if (start >= end) {\n        this.raise(\"Empty\");\n      } else {\n        var c = String.fromCodePoint(this.currentCodePoint);\n        this.raise(\"Unexpected character '\".concat(c, \"'\"));\n      }\n\n      this.onLiteralLeave(start, end);\n    }\n  }, {\n    key: \"validateFlags\",\n    value: function validateFlags(source) {\n      var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;\n      var existingFlags = new Set();\n      var global = false;\n      var ignoreCase = false;\n      var multiline = false;\n      var sticky = false;\n      var unicode = false;\n      var dotAll = false;\n\n      for (var i = start; i < end; ++i) {\n        var flag = source.charCodeAt(i);\n\n        if (existingFlags.has(flag)) {\n          this.raise(\"Duplicated flag '\".concat(source[i], \"'\"));\n        }\n\n        existingFlags.add(flag);\n\n        if (flag === LatinSmallLetterG) {\n          global = true;\n        } else if (flag === LatinSmallLetterI) {\n          ignoreCase = true;\n        } else if (flag === LatinSmallLetterM) {\n          multiline = true;\n        } else if (flag === LatinSmallLetterU && this.ecmaVersion >= 2015) {\n          unicode = true;\n        } else if (flag === LatinSmallLetterY && this.ecmaVersion >= 2015) {\n          sticky = true;\n        } else if (flag === LatinSmallLetterS && this.ecmaVersion >= 2018) {\n          dotAll = true;\n        } else {\n          this.raise(\"Invalid flag '\".concat(source[i], \"'\"));\n        }\n      }\n\n      this.onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll);\n    }\n  }, {\n    key: \"validatePattern\",\n    value: function validatePattern(source) {\n      var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;\n      var uFlag = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      this._uFlag = uFlag && this.ecmaVersion >= 2015;\n      this._nFlag = uFlag && this.ecmaVersion >= 2018;\n      this.reset(source, start, end);\n      this.consumePattern();\n\n      if (!this._nFlag && this.ecmaVersion >= 2018 && this._groupNames.size > 0) {\n        this._nFlag = true;\n        this.rewind(start);\n        this.consumePattern();\n      }\n    }\n  }, {\n    key: \"onLiteralEnter\",\n    value: function onLiteralEnter(start) {\n      if (this._options.onLiteralEnter) {\n        this._options.onLiteralEnter(start);\n      }\n    }\n  }, {\n    key: \"onLiteralLeave\",\n    value: function onLiteralLeave(start, end) {\n      if (this._options.onLiteralLeave) {\n        this._options.onLiteralLeave(start, end);\n      }\n    }\n  }, {\n    key: \"onFlags\",\n    value: function onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll) {\n      if (this._options.onFlags) {\n        this._options.onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll);\n      }\n    }\n  }, {\n    key: \"onPatternEnter\",\n    value: function onPatternEnter(start) {\n      if (this._options.onPatternEnter) {\n        this._options.onPatternEnter(start);\n      }\n    }\n  }, {\n    key: \"onPatternLeave\",\n    value: function onPatternLeave(start, end) {\n      if (this._options.onPatternLeave) {\n        this._options.onPatternLeave(start, end);\n      }\n    }\n  }, {\n    key: \"onDisjunctionEnter\",\n    value: function onDisjunctionEnter(start) {\n      if (this._options.onDisjunctionEnter) {\n        this._options.onDisjunctionEnter(start);\n      }\n    }\n  }, {\n    key: \"onDisjunctionLeave\",\n    value: function onDisjunctionLeave(start, end) {\n      if (this._options.onDisjunctionLeave) {\n        this._options.onDisjunctionLeave(start, end);\n      }\n    }\n  }, {\n    key: \"onAlternativeEnter\",\n    value: function onAlternativeEnter(start, index) {\n      if (this._options.onAlternativeEnter) {\n        this._options.onAlternativeEnter(start, index);\n      }\n    }\n  }, {\n    key: \"onAlternativeLeave\",\n    value: function onAlternativeLeave(start, end, index) {\n      if (this._options.onAlternativeLeave) {\n        this._options.onAlternativeLeave(start, end, index);\n      }\n    }\n  }, {\n    key: \"onGroupEnter\",\n    value: function onGroupEnter(start) {\n      if (this._options.onGroupEnter) {\n        this._options.onGroupEnter(start);\n      }\n    }\n  }, {\n    key: \"onGroupLeave\",\n    value: function onGroupLeave(start, end) {\n      if (this._options.onGroupLeave) {\n        this._options.onGroupLeave(start, end);\n      }\n    }\n  }, {\n    key: \"onCapturingGroupEnter\",\n    value: function onCapturingGroupEnter(start, name) {\n      if (this._options.onCapturingGroupEnter) {\n        this._options.onCapturingGroupEnter(start, name);\n      }\n    }\n  }, {\n    key: \"onCapturingGroupLeave\",\n    value: function onCapturingGroupLeave(start, end, name) {\n      if (this._options.onCapturingGroupLeave) {\n        this._options.onCapturingGroupLeave(start, end, name);\n      }\n    }\n  }, {\n    key: \"onQuantifier\",\n    value: function onQuantifier(start, end, min, max, greedy) {\n      if (this._options.onQuantifier) {\n        this._options.onQuantifier(start, end, min, max, greedy);\n      }\n    }\n  }, {\n    key: \"onLookaroundAssertionEnter\",\n    value: function onLookaroundAssertionEnter(start, kind, negate) {\n      if (this._options.onLookaroundAssertionEnter) {\n        this._options.onLookaroundAssertionEnter(start, kind, negate);\n      }\n    }\n  }, {\n    key: \"onLookaroundAssertionLeave\",\n    value: function onLookaroundAssertionLeave(start, end, kind, negate) {\n      if (this._options.onLookaroundAssertionLeave) {\n        this._options.onLookaroundAssertionLeave(start, end, kind, negate);\n      }\n    }\n  }, {\n    key: \"onEdgeAssertion\",\n    value: function onEdgeAssertion(start, end, kind) {\n      if (this._options.onEdgeAssertion) {\n        this._options.onEdgeAssertion(start, end, kind);\n      }\n    }\n  }, {\n    key: \"onWordBoundaryAssertion\",\n    value: function onWordBoundaryAssertion(start, end, kind, negate) {\n      if (this._options.onWordBoundaryAssertion) {\n        this._options.onWordBoundaryAssertion(start, end, kind, negate);\n      }\n    }\n  }, {\n    key: \"onAnyCharacterSet\",\n    value: function onAnyCharacterSet(start, end, kind) {\n      if (this._options.onAnyCharacterSet) {\n        this._options.onAnyCharacterSet(start, end, kind);\n      }\n    }\n  }, {\n    key: \"onEscapeCharacterSet\",\n    value: function onEscapeCharacterSet(start, end, kind, negate) {\n      if (this._options.onEscapeCharacterSet) {\n        this._options.onEscapeCharacterSet(start, end, kind, negate);\n      }\n    }\n  }, {\n    key: \"onUnicodePropertyCharacterSet\",\n    value: function onUnicodePropertyCharacterSet(start, end, kind, key, value, negate) {\n      if (this._options.onUnicodePropertyCharacterSet) {\n        this._options.onUnicodePropertyCharacterSet(start, end, kind, key, value, negate);\n      }\n    }\n  }, {\n    key: \"onCharacter\",\n    value: function onCharacter(start, end, value) {\n      if (this._options.onCharacter) {\n        this._options.onCharacter(start, end, value);\n      }\n    }\n  }, {\n    key: \"onBackreference\",\n    value: function onBackreference(start, end, ref) {\n      if (this._options.onBackreference) {\n        this._options.onBackreference(start, end, ref);\n      }\n    }\n  }, {\n    key: \"onCharacterClassEnter\",\n    value: function onCharacterClassEnter(start, negate) {\n      if (this._options.onCharacterClassEnter) {\n        this._options.onCharacterClassEnter(start, negate);\n      }\n    }\n  }, {\n    key: \"onCharacterClassLeave\",\n    value: function onCharacterClassLeave(start, end, negate) {\n      if (this._options.onCharacterClassLeave) {\n        this._options.onCharacterClassLeave(start, end, negate);\n      }\n    }\n  }, {\n    key: \"onCharacterClassRange\",\n    value: function onCharacterClassRange(start, end, min, max) {\n      if (this._options.onCharacterClassRange) {\n        this._options.onCharacterClassRange(start, end, min, max);\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(source, start, end) {\n      this._reader.reset(source, start, end, this._uFlag);\n    }\n  }, {\n    key: \"rewind\",\n    value: function rewind(index) {\n      this._reader.rewind(index);\n    }\n  }, {\n    key: \"advance\",\n    value: function advance() {\n      this._reader.advance();\n    }\n  }, {\n    key: \"eat\",\n    value: function eat(cp) {\n      return this._reader.eat(cp);\n    }\n  }, {\n    key: \"eat2\",\n    value: function eat2(cp1, cp2) {\n      return this._reader.eat2(cp1, cp2);\n    }\n  }, {\n    key: \"eat3\",\n    value: function eat3(cp1, cp2, cp3) {\n      return this._reader.eat3(cp1, cp2, cp3);\n    }\n  }, {\n    key: \"raise\",\n    value: function raise(message) {\n      throw new RegExpSyntaxError(this.source, this._uFlag, this.index, message);\n    }\n  }, {\n    key: \"eatRegExpBody\",\n    value: function eatRegExpBody() {\n      var start = this.index;\n      var inClass = false;\n      var escaped = false;\n\n      for (;;) {\n        var cp = this.currentCodePoint;\n\n        if (cp === -1 || isLineTerminator(cp)) {\n          var kind = inClass ? \"character class\" : \"regular expression\";\n          this.raise(\"Unterminated \".concat(kind));\n        }\n\n        if (escaped) {\n          escaped = false;\n        } else if (cp === ReverseSolidus) {\n          escaped = true;\n        } else if (cp === LeftSquareBracket) {\n          inClass = true;\n        } else if (cp === RightSquareBracket) {\n          inClass = false;\n        } else if (cp === Solidus && !inClass || cp === Asterisk && this.index === start) {\n          break;\n        }\n\n        this.advance();\n      }\n\n      return this.index !== start;\n    }\n  }, {\n    key: \"consumePattern\",\n    value: function consumePattern() {\n      var start = this.index;\n      this._numCapturingParens = this.countCapturingParens();\n\n      this._groupNames.clear();\n\n      this._backreferenceNames.clear();\n\n      this.onPatternEnter(start);\n      this.consumeDisjunction();\n      var cp = this.currentCodePoint;\n\n      if (this.currentCodePoint !== -1) {\n        if (cp === RightParenthesis) {\n          this.raise(\"Unmatched ')'\");\n        }\n\n        if (cp === ReverseSolidus) {\n          this.raise(\"\\\\ at end of pattern\");\n        }\n\n        if (cp === RightSquareBracket || cp === RightCurlyBracket) {\n          this.raise(\"Lone quantifier brackets\");\n        }\n\n        var c = String.fromCodePoint(cp);\n        this.raise(\"Unexpected character '\".concat(c, \"'\"));\n      }\n\n      var _iterator = _createForOfIteratorHelper(this._backreferenceNames),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var name = _step.value;\n\n          if (!this._groupNames.has(name)) {\n            this.raise(\"Invalid named capture referenced\");\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      this.onPatternLeave(start, this.index);\n    }\n  }, {\n    key: \"countCapturingParens\",\n    value: function countCapturingParens() {\n      var start = this.index;\n      var inClass = false;\n      var escaped = false;\n      var count = 0;\n      var cp = 0;\n\n      while ((cp = this.currentCodePoint) !== -1) {\n        if (escaped) {\n          escaped = false;\n        } else if (cp === ReverseSolidus) {\n          escaped = true;\n        } else if (cp === LeftSquareBracket) {\n          inClass = true;\n        } else if (cp === RightSquareBracket) {\n          inClass = false;\n        } else if (cp === LeftParenthesis && !inClass && (this.nextCodePoint !== QuestionMark || this.nextCodePoint2 === LessThanSign && this.nextCodePoint3 !== EqualsSign && this.nextCodePoint3 !== ExclamationMark)) {\n          count += 1;\n        }\n\n        this.advance();\n      }\n\n      this.rewind(start);\n      return count;\n    }\n  }, {\n    key: \"consumeDisjunction\",\n    value: function consumeDisjunction() {\n      var start = this.index;\n      var i = 0;\n      this.onDisjunctionEnter(start);\n\n      do {\n        this.consumeAlternative(i++);\n      } while (this.eat(VerticalLine));\n\n      if (this.consumeQuantifier(true)) {\n        this.raise(\"Nothing to repeat\");\n      }\n\n      if (this.eat(LeftCurlyBracket)) {\n        this.raise(\"Lone quantifier brackets\");\n      }\n\n      this.onDisjunctionLeave(start, this.index);\n    }\n  }, {\n    key: \"consumeAlternative\",\n    value: function consumeAlternative(i) {\n      var start = this.index;\n      this.onAlternativeEnter(start, i);\n\n      while (this.currentCodePoint !== -1 && this.consumeTerm()) {}\n\n      this.onAlternativeLeave(start, this.index, i);\n    }\n  }, {\n    key: \"consumeTerm\",\n    value: function consumeTerm() {\n      if (this._uFlag || this.strict) {\n        return this.consumeAssertion() || this.consumeAtom() && this.consumeOptionalQuantifier();\n      }\n\n      return this.consumeAssertion() && (!this._lastAssertionIsQuantifiable || this.consumeOptionalQuantifier()) || this.consumeExtendedAtom() && this.consumeOptionalQuantifier();\n    }\n  }, {\n    key: \"consumeOptionalQuantifier\",\n    value: function consumeOptionalQuantifier() {\n      this.consumeQuantifier();\n      return true;\n    }\n  }, {\n    key: \"consumeAssertion\",\n    value: function consumeAssertion() {\n      var start = this.index;\n      this._lastAssertionIsQuantifiable = false;\n\n      if (this.eat(CircumflexAccent)) {\n        this.onEdgeAssertion(start, this.index, \"start\");\n        return true;\n      }\n\n      if (this.eat(DollarSign)) {\n        this.onEdgeAssertion(start, this.index, \"end\");\n        return true;\n      }\n\n      if (this.eat2(ReverseSolidus, LatinCapitalLetterB)) {\n        this.onWordBoundaryAssertion(start, this.index, \"word\", true);\n        return true;\n      }\n\n      if (this.eat2(ReverseSolidus, LatinSmallLetterB)) {\n        this.onWordBoundaryAssertion(start, this.index, \"word\", false);\n        return true;\n      }\n\n      if (this.eat2(LeftParenthesis, QuestionMark)) {\n        var lookbehind = this.ecmaVersion >= 2018 && this.eat(LessThanSign);\n        var negate = false;\n\n        if (this.eat(EqualsSign) || (negate = this.eat(ExclamationMark))) {\n          var kind = lookbehind ? \"lookbehind\" : \"lookahead\";\n          this.onLookaroundAssertionEnter(start, kind, negate);\n          this.consumeDisjunction();\n\n          if (!this.eat(RightParenthesis)) {\n            this.raise(\"Unterminated group\");\n          }\n\n          this._lastAssertionIsQuantifiable = !lookbehind && !this.strict;\n          this.onLookaroundAssertionLeave(start, this.index, kind, negate);\n          return true;\n        }\n\n        this.rewind(start);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeQuantifier\",\n    value: function consumeQuantifier() {\n      var noConsume = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var start = this.index;\n      var min = 0;\n      var max = 0;\n      var greedy = false;\n\n      if (this.eat(Asterisk)) {\n        min = 0;\n        max = Number.POSITIVE_INFINITY;\n      } else if (this.eat(PlusSign)) {\n        min = 1;\n        max = Number.POSITIVE_INFINITY;\n      } else if (this.eat(QuestionMark)) {\n        min = 0;\n        max = 1;\n      } else if (this.eatBracedQuantifier(noConsume)) {\n        min = this._lastMinValue;\n        max = this._lastMaxValue;\n      } else {\n        return false;\n      }\n\n      greedy = !this.eat(QuestionMark);\n\n      if (!noConsume) {\n        this.onQuantifier(start, this.index, min, max, greedy);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"eatBracedQuantifier\",\n    value: function eatBracedQuantifier(noError) {\n      var start = this.index;\n\n      if (this.eat(LeftCurlyBracket)) {\n        this._lastMinValue = 0;\n        this._lastMaxValue = Number.POSITIVE_INFINITY;\n\n        if (this.eatDecimalDigits()) {\n          this._lastMinValue = this._lastMaxValue = this._lastIntValue;\n\n          if (this.eat(Comma)) {\n            this._lastMaxValue = this.eatDecimalDigits() ? this._lastIntValue : Number.POSITIVE_INFINITY;\n          }\n\n          if (this.eat(RightCurlyBracket)) {\n            if (!noError && this._lastMaxValue < this._lastMinValue) {\n              this.raise(\"numbers out of order in {} quantifier\");\n            }\n\n            return true;\n          }\n        }\n\n        if (!noError && (this._uFlag || this.strict)) {\n          this.raise(\"Incomplete quantifier\");\n        }\n\n        this.rewind(start);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeAtom\",\n    value: function consumeAtom() {\n      return this.consumePatternCharacter() || this.consumeDot() || this.consumeReverseSolidusAtomEscape() || this.consumeCharacterClass() || this.consumeUncapturingGroup() || this.consumeCapturingGroup();\n    }\n  }, {\n    key: \"consumeDot\",\n    value: function consumeDot() {\n      if (this.eat(FullStop)) {\n        this.onAnyCharacterSet(this.index - 1, this.index, \"any\");\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeReverseSolidusAtomEscape\",\n    value: function consumeReverseSolidusAtomEscape() {\n      var start = this.index;\n\n      if (this.eat(ReverseSolidus)) {\n        if (this.consumeAtomEscape()) {\n          return true;\n        }\n\n        this.rewind(start);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeUncapturingGroup\",\n    value: function consumeUncapturingGroup() {\n      var start = this.index;\n\n      if (this.eat3(LeftParenthesis, QuestionMark, Colon)) {\n        this.onGroupEnter(start);\n        this.consumeDisjunction();\n\n        if (!this.eat(RightParenthesis)) {\n          this.raise(\"Unterminated group\");\n        }\n\n        this.onGroupLeave(start, this.index);\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeCapturingGroup\",\n    value: function consumeCapturingGroup() {\n      var start = this.index;\n\n      if (this.eat(LeftParenthesis)) {\n        var name = null;\n\n        if (this.ecmaVersion >= 2018) {\n          if (this.consumeGroupSpecifier()) {\n            name = this._lastStrValue;\n          }\n        } else if (this.currentCodePoint === QuestionMark) {\n          this.raise(\"Invalid group\");\n        }\n\n        this.onCapturingGroupEnter(start, name);\n        this.consumeDisjunction();\n\n        if (!this.eat(RightParenthesis)) {\n          this.raise(\"Unterminated group\");\n        }\n\n        this.onCapturingGroupLeave(start, this.index, name);\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeExtendedAtom\",\n    value: function consumeExtendedAtom() {\n      return this.consumeDot() || this.consumeReverseSolidusAtomEscape() || this.consumeReverseSolidusFollowedByC() || this.consumeCharacterClass() || this.consumeUncapturingGroup() || this.consumeCapturingGroup() || this.consumeInvalidBracedQuantifier() || this.consumeExtendedPatternCharacter();\n    }\n  }, {\n    key: \"consumeReverseSolidusFollowedByC\",\n    value: function consumeReverseSolidusFollowedByC() {\n      var start = this.index;\n\n      if (this.currentCodePoint === ReverseSolidus && this.nextCodePoint === LatinSmallLetterC) {\n        this._lastIntValue = this.currentCodePoint;\n        this.advance();\n        this.onCharacter(start, this.index, ReverseSolidus);\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeInvalidBracedQuantifier\",\n    value: function consumeInvalidBracedQuantifier() {\n      if (this.eatBracedQuantifier(true)) {\n        this.raise(\"Nothing to repeat\");\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumePatternCharacter\",\n    value: function consumePatternCharacter() {\n      var start = this.index;\n      var cp = this.currentCodePoint;\n\n      if (cp !== -1 && !isSyntaxCharacter(cp)) {\n        this.advance();\n        this.onCharacter(start, this.index, cp);\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeExtendedPatternCharacter\",\n    value: function consumeExtendedPatternCharacter() {\n      var start = this.index;\n      var cp = this.currentCodePoint;\n\n      if (cp !== -1 && cp !== CircumflexAccent && cp !== DollarSign && cp !== ReverseSolidus && cp !== FullStop && cp !== Asterisk && cp !== PlusSign && cp !== QuestionMark && cp !== LeftParenthesis && cp !== RightParenthesis && cp !== LeftSquareBracket && cp !== VerticalLine) {\n        this.advance();\n        this.onCharacter(start, this.index, cp);\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeGroupSpecifier\",\n    value: function consumeGroupSpecifier() {\n      if (this.eat(QuestionMark)) {\n        if (this.eatGroupName()) {\n          if (!this._groupNames.has(this._lastStrValue)) {\n            this._groupNames.add(this._lastStrValue);\n\n            return true;\n          }\n\n          this.raise(\"Duplicate capture group name\");\n        }\n\n        this.raise(\"Invalid group\");\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeAtomEscape\",\n    value: function consumeAtomEscape() {\n      if (this.consumeBackreference() || this.consumeCharacterClassEscape() || this.consumeCharacterEscape() || this._nFlag && this.consumeKGroupName()) {\n        return true;\n      }\n\n      if (this.strict || this._uFlag) {\n        this.raise(\"Invalid escape\");\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeBackreference\",\n    value: function consumeBackreference() {\n      var start = this.index;\n\n      if (this.eatDecimalEscape()) {\n        var n = this._lastIntValue;\n\n        if (n <= this._numCapturingParens) {\n          this.onBackreference(start - 1, this.index, n);\n          return true;\n        }\n\n        if (this.strict || this._uFlag) {\n          this.raise(\"Invalid escape\");\n        }\n\n        this.rewind(start);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeCharacterClassEscape\",\n    value: function consumeCharacterClassEscape() {\n      var start = this.index;\n\n      if (this.eat(LatinSmallLetterD)) {\n        this._lastIntValue = -1;\n        this.onEscapeCharacterSet(start - 1, this.index, \"digit\", false);\n        return true;\n      }\n\n      if (this.eat(LatinCapitalLetterD)) {\n        this._lastIntValue = -1;\n        this.onEscapeCharacterSet(start - 1, this.index, \"digit\", true);\n        return true;\n      }\n\n      if (this.eat(LatinSmallLetterS)) {\n        this._lastIntValue = -1;\n        this.onEscapeCharacterSet(start - 1, this.index, \"space\", false);\n        return true;\n      }\n\n      if (this.eat(LatinCapitalLetterS)) {\n        this._lastIntValue = -1;\n        this.onEscapeCharacterSet(start - 1, this.index, \"space\", true);\n        return true;\n      }\n\n      if (this.eat(LatinSmallLetterW)) {\n        this._lastIntValue = -1;\n        this.onEscapeCharacterSet(start - 1, this.index, \"word\", false);\n        return true;\n      }\n\n      if (this.eat(LatinCapitalLetterW)) {\n        this._lastIntValue = -1;\n        this.onEscapeCharacterSet(start - 1, this.index, \"word\", true);\n        return true;\n      }\n\n      var negate = false;\n\n      if (this._uFlag && this.ecmaVersion >= 2018 && (this.eat(LatinSmallLetterP) || (negate = this.eat(LatinCapitalLetterP)))) {\n        this._lastIntValue = -1;\n\n        if (this.eat(LeftCurlyBracket) && this.eatUnicodePropertyValueExpression() && this.eat(RightCurlyBracket)) {\n          this.onUnicodePropertyCharacterSet(start - 1, this.index, \"property\", this._lastKeyValue, this._lastValValue || null, negate);\n          return true;\n        }\n\n        this.raise(\"Invalid property name\");\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeCharacterEscape\",\n    value: function consumeCharacterEscape() {\n      var start = this.index;\n\n      if (this.eatControlEscape() || this.eatCControlLetter() || this.eatZero() || this.eatHexEscapeSequence() || this.eatRegExpUnicodeEscapeSequence() || !this.strict && !this._uFlag && this.eatLegacyOctalEscapeSequence() || this.eatIdentityEscape()) {\n        this.onCharacter(start - 1, this.index, this._lastIntValue);\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeKGroupName\",\n    value: function consumeKGroupName() {\n      var start = this.index;\n\n      if (this.eat(LatinSmallLetterK)) {\n        if (this.eatGroupName()) {\n          var groupName = this._lastStrValue;\n\n          this._backreferenceNames.add(groupName);\n\n          this.onBackreference(start - 1, this.index, groupName);\n          return true;\n        }\n\n        this.raise(\"Invalid named reference\");\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeCharacterClass\",\n    value: function consumeCharacterClass() {\n      var start = this.index;\n\n      if (this.eat(LeftSquareBracket)) {\n        var negate = this.eat(CircumflexAccent);\n        this.onCharacterClassEnter(start, negate);\n        this.consumeClassRanges();\n\n        if (!this.eat(RightSquareBracket)) {\n          this.raise(\"Unterminated character class\");\n        }\n\n        this.onCharacterClassLeave(start, this.index, negate);\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeClassRanges\",\n    value: function consumeClassRanges() {\n      var strict = this.strict || this._uFlag;\n\n      for (;;) {\n        var rangeStart = this.index;\n\n        if (!this.consumeClassAtom()) {\n          break;\n        }\n\n        var min = this._lastIntValue;\n\n        if (!this.eat(HyphenMinus)) {\n          continue;\n        }\n\n        this.onCharacter(this.index - 1, this.index, HyphenMinus);\n\n        if (!this.consumeClassAtom()) {\n          break;\n        }\n\n        var max = this._lastIntValue;\n\n        if (min === -1 || max === -1) {\n          if (strict) {\n            this.raise(\"Invalid character class\");\n          }\n\n          continue;\n        }\n\n        if (min > max) {\n          this.raise(\"Range out of order in character class\");\n        }\n\n        this.onCharacterClassRange(rangeStart, this.index, min, max);\n      }\n    }\n  }, {\n    key: \"consumeClassAtom\",\n    value: function consumeClassAtom() {\n      var start = this.index;\n      var cp = this.currentCodePoint;\n\n      if (cp !== -1 && cp !== ReverseSolidus && cp !== RightSquareBracket) {\n        this.advance();\n        this._lastIntValue = cp;\n        this.onCharacter(start, this.index, this._lastIntValue);\n        return true;\n      }\n\n      if (this.eat(ReverseSolidus)) {\n        if (this.consumeClassEscape()) {\n          return true;\n        }\n\n        if (!this.strict && this.currentCodePoint === LatinSmallLetterC) {\n          this._lastIntValue = ReverseSolidus;\n          this.onCharacter(start, this.index, this._lastIntValue);\n          return true;\n        }\n\n        if (this.strict || this._uFlag) {\n          this.raise(\"Invalid escape\");\n        }\n\n        this.rewind(start);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"consumeClassEscape\",\n    value: function consumeClassEscape() {\n      var start = this.index;\n\n      if (this.eat(LatinSmallLetterB)) {\n        this._lastIntValue = Backspace;\n        this.onCharacter(start - 1, this.index, this._lastIntValue);\n        return true;\n      }\n\n      if (this._uFlag && this.eat(HyphenMinus)) {\n        this._lastIntValue = HyphenMinus;\n        this.onCharacter(start - 1, this.index, this._lastIntValue);\n        return true;\n      }\n\n      var cp = 0;\n\n      if (!this.strict && !this._uFlag && this.currentCodePoint === LatinSmallLetterC && (isDecimalDigit(cp = this.nextCodePoint) || cp === LowLine)) {\n        this.advance();\n        this.advance();\n        this._lastIntValue = cp % 0x20;\n        this.onCharacter(start - 1, this.index, this._lastIntValue);\n        return true;\n      }\n\n      return this.consumeCharacterClassEscape() || this.consumeCharacterEscape();\n    }\n  }, {\n    key: \"eatGroupName\",\n    value: function eatGroupName() {\n      if (this.eat(LessThanSign)) {\n        if (this.eatRegExpIdentifierName() && this.eat(GreaterThanSign)) {\n          return true;\n        }\n\n        this.raise(\"Invalid capture group name\");\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatRegExpIdentifierName\",\n    value: function eatRegExpIdentifierName() {\n      if (this.eatRegExpIdentifierStart()) {\n        this._lastStrValue = String.fromCodePoint(this._lastIntValue);\n\n        while (this.eatRegExpIdentifierPart()) {\n          this._lastStrValue += String.fromCodePoint(this._lastIntValue);\n        }\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatRegExpIdentifierStart\",\n    value: function eatRegExpIdentifierStart() {\n      var start = this.index;\n      var forceUFlag = !this._uFlag && this.ecmaVersion >= 2020;\n      var cp = this.currentCodePoint;\n      this.advance();\n\n      if (cp === ReverseSolidus && this.eatRegExpUnicodeEscapeSequence(forceUFlag)) {\n        cp = this._lastIntValue;\n      } else if (forceUFlag && isLeadSurrogate(cp) && isTrailSurrogate(this.currentCodePoint)) {\n        cp = combineSurrogatePair(cp, this.currentCodePoint);\n        this.advance();\n      }\n\n      if (isRegExpIdentifierStart(cp)) {\n        this._lastIntValue = cp;\n        return true;\n      }\n\n      if (this.index !== start) {\n        this.rewind(start);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatRegExpIdentifierPart\",\n    value: function eatRegExpIdentifierPart() {\n      var start = this.index;\n      var forceUFlag = !this._uFlag && this.ecmaVersion >= 2020;\n      var cp = this.currentCodePoint;\n      this.advance();\n\n      if (cp === ReverseSolidus && this.eatRegExpUnicodeEscapeSequence(forceUFlag)) {\n        cp = this._lastIntValue;\n      } else if (forceUFlag && isLeadSurrogate(cp) && isTrailSurrogate(this.currentCodePoint)) {\n        cp = combineSurrogatePair(cp, this.currentCodePoint);\n        this.advance();\n      }\n\n      if (isRegExpIdentifierPart(cp)) {\n        this._lastIntValue = cp;\n        return true;\n      }\n\n      if (this.index !== start) {\n        this.rewind(start);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatCControlLetter\",\n    value: function eatCControlLetter() {\n      var start = this.index;\n\n      if (this.eat(LatinSmallLetterC)) {\n        if (this.eatControlLetter()) {\n          return true;\n        }\n\n        this.rewind(start);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatZero\",\n    value: function eatZero() {\n      if (this.currentCodePoint === DigitZero && !isDecimalDigit(this.nextCodePoint)) {\n        this._lastIntValue = 0;\n        this.advance();\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatControlEscape\",\n    value: function eatControlEscape() {\n      if (this.eat(LatinSmallLetterF)) {\n        this._lastIntValue = FormFeed;\n        return true;\n      }\n\n      if (this.eat(LatinSmallLetterN)) {\n        this._lastIntValue = LineFeed;\n        return true;\n      }\n\n      if (this.eat(LatinSmallLetterR)) {\n        this._lastIntValue = CarriageReturn;\n        return true;\n      }\n\n      if (this.eat(LatinSmallLetterT)) {\n        this._lastIntValue = CharacterTabulation;\n        return true;\n      }\n\n      if (this.eat(LatinSmallLetterV)) {\n        this._lastIntValue = LineTabulation;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatControlLetter\",\n    value: function eatControlLetter() {\n      var cp = this.currentCodePoint;\n\n      if (isLatinLetter(cp)) {\n        this.advance();\n        this._lastIntValue = cp % 0x20;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatRegExpUnicodeEscapeSequence\",\n    value: function eatRegExpUnicodeEscapeSequence() {\n      var forceUFlag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var start = this.index;\n      var uFlag = forceUFlag || this._uFlag;\n\n      if (this.eat(LatinSmallLetterU)) {\n        if (uFlag && this.eatRegExpUnicodeSurrogatePairEscape() || this.eatFixedHexDigits(4) || uFlag && this.eatRegExpUnicodeCodePointEscape()) {\n          return true;\n        }\n\n        if (this.strict || uFlag) {\n          this.raise(\"Invalid unicode escape\");\n        }\n\n        this.rewind(start);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatRegExpUnicodeSurrogatePairEscape\",\n    value: function eatRegExpUnicodeSurrogatePairEscape() {\n      var start = this.index;\n\n      if (this.eatFixedHexDigits(4)) {\n        var lead = this._lastIntValue;\n\n        if (isLeadSurrogate(lead) && this.eat(ReverseSolidus) && this.eat(LatinSmallLetterU) && this.eatFixedHexDigits(4)) {\n          var trail = this._lastIntValue;\n\n          if (isTrailSurrogate(trail)) {\n            this._lastIntValue = combineSurrogatePair(lead, trail);\n            return true;\n          }\n        }\n\n        this.rewind(start);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatRegExpUnicodeCodePointEscape\",\n    value: function eatRegExpUnicodeCodePointEscape() {\n      var start = this.index;\n\n      if (this.eat(LeftCurlyBracket) && this.eatHexDigits() && this.eat(RightCurlyBracket) && isValidUnicode(this._lastIntValue)) {\n        return true;\n      }\n\n      this.rewind(start);\n      return false;\n    }\n  }, {\n    key: \"eatIdentityEscape\",\n    value: function eatIdentityEscape() {\n      var cp = this.currentCodePoint;\n\n      if (this.isValidIdentityEscape(cp)) {\n        this._lastIntValue = cp;\n        this.advance();\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"isValidIdentityEscape\",\n    value: function isValidIdentityEscape(cp) {\n      if (cp === -1) {\n        return false;\n      }\n\n      if (this._uFlag) {\n        return isSyntaxCharacter(cp) || cp === Solidus;\n      }\n\n      if (this.strict) {\n        return !isIdContinue(cp);\n      }\n\n      if (this._nFlag) {\n        return !(cp === LatinSmallLetterC || cp === LatinSmallLetterK);\n      }\n\n      return cp !== LatinSmallLetterC;\n    }\n  }, {\n    key: \"eatDecimalEscape\",\n    value: function eatDecimalEscape() {\n      this._lastIntValue = 0;\n      var cp = this.currentCodePoint;\n\n      if (cp >= DigitOne && cp <= DigitNine) {\n        do {\n          this._lastIntValue = 10 * this._lastIntValue + (cp - DigitZero);\n          this.advance();\n        } while ((cp = this.currentCodePoint) >= DigitZero && cp <= DigitNine);\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatUnicodePropertyValueExpression\",\n    value: function eatUnicodePropertyValueExpression() {\n      var start = this.index;\n\n      if (this.eatUnicodePropertyName() && this.eat(EqualsSign)) {\n        this._lastKeyValue = this._lastStrValue;\n\n        if (this.eatUnicodePropertyValue()) {\n          this._lastValValue = this._lastStrValue;\n\n          if (isValidUnicodeProperty(this.ecmaVersion, this._lastKeyValue, this._lastValValue)) {\n            return true;\n          }\n\n          this.raise(\"Invalid property name\");\n        }\n      }\n\n      this.rewind(start);\n\n      if (this.eatLoneUnicodePropertyNameOrValue()) {\n        var nameOrValue = this._lastStrValue;\n\n        if (isValidUnicodeProperty(this.ecmaVersion, \"General_Category\", nameOrValue)) {\n          this._lastKeyValue = \"General_Category\";\n          this._lastValValue = nameOrValue;\n          return true;\n        }\n\n        if (isValidLoneUnicodeProperty(this.ecmaVersion, nameOrValue)) {\n          this._lastKeyValue = nameOrValue;\n          this._lastValValue = \"\";\n          return true;\n        }\n\n        this.raise(\"Invalid property name\");\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatUnicodePropertyName\",\n    value: function eatUnicodePropertyName() {\n      this._lastStrValue = \"\";\n\n      while (isUnicodePropertyNameCharacter(this.currentCodePoint)) {\n        this._lastStrValue += String.fromCodePoint(this.currentCodePoint);\n        this.advance();\n      }\n\n      return this._lastStrValue !== \"\";\n    }\n  }, {\n    key: \"eatUnicodePropertyValue\",\n    value: function eatUnicodePropertyValue() {\n      this._lastStrValue = \"\";\n\n      while (isUnicodePropertyValueCharacter(this.currentCodePoint)) {\n        this._lastStrValue += String.fromCodePoint(this.currentCodePoint);\n        this.advance();\n      }\n\n      return this._lastStrValue !== \"\";\n    }\n  }, {\n    key: \"eatLoneUnicodePropertyNameOrValue\",\n    value: function eatLoneUnicodePropertyNameOrValue() {\n      return this.eatUnicodePropertyValue();\n    }\n  }, {\n    key: \"eatHexEscapeSequence\",\n    value: function eatHexEscapeSequence() {\n      var start = this.index;\n\n      if (this.eat(LatinSmallLetterX)) {\n        if (this.eatFixedHexDigits(2)) {\n          return true;\n        }\n\n        if (this._uFlag || this.strict) {\n          this.raise(\"Invalid escape\");\n        }\n\n        this.rewind(start);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatDecimalDigits\",\n    value: function eatDecimalDigits() {\n      var start = this.index;\n      this._lastIntValue = 0;\n\n      while (isDecimalDigit(this.currentCodePoint)) {\n        this._lastIntValue = 10 * this._lastIntValue + digitToInt(this.currentCodePoint);\n        this.advance();\n      }\n\n      return this.index !== start;\n    }\n  }, {\n    key: \"eatHexDigits\",\n    value: function eatHexDigits() {\n      var start = this.index;\n      this._lastIntValue = 0;\n\n      while (isHexDigit(this.currentCodePoint)) {\n        this._lastIntValue = 16 * this._lastIntValue + digitToInt(this.currentCodePoint);\n        this.advance();\n      }\n\n      return this.index !== start;\n    }\n  }, {\n    key: \"eatLegacyOctalEscapeSequence\",\n    value: function eatLegacyOctalEscapeSequence() {\n      if (this.eatOctalDigit()) {\n        var n1 = this._lastIntValue;\n\n        if (this.eatOctalDigit()) {\n          var n2 = this._lastIntValue;\n\n          if (n1 <= 3 && this.eatOctalDigit()) {\n            this._lastIntValue = n1 * 64 + n2 * 8 + this._lastIntValue;\n          } else {\n            this._lastIntValue = n1 * 8 + n2;\n          }\n        } else {\n          this._lastIntValue = n1;\n        }\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"eatOctalDigit\",\n    value: function eatOctalDigit() {\n      var cp = this.currentCodePoint;\n\n      if (isOctalDigit(cp)) {\n        this.advance();\n        this._lastIntValue = cp - DigitZero;\n        return true;\n      }\n\n      this._lastIntValue = 0;\n      return false;\n    }\n  }, {\n    key: \"eatFixedHexDigits\",\n    value: function eatFixedHexDigits(length) {\n      var start = this.index;\n      this._lastIntValue = 0;\n\n      for (var i = 0; i < length; ++i) {\n        var cp = this.currentCodePoint;\n\n        if (!isHexDigit(cp)) {\n          this.rewind(start);\n          return false;\n        }\n\n        this._lastIntValue = 16 * this._lastIntValue + digitToInt(cp);\n        this.advance();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"strict\",\n    get: function get() {\n      return Boolean(this._options.strict || this._uFlag);\n    }\n  }, {\n    key: \"ecmaVersion\",\n    get: function get() {\n      return this._options.ecmaVersion || 2020;\n    }\n  }, {\n    key: \"source\",\n    get: function get() {\n      return this._reader.source;\n    }\n  }, {\n    key: \"index\",\n    get: function get() {\n      return this._reader.index;\n    }\n  }, {\n    key: \"currentCodePoint\",\n    get: function get() {\n      return this._reader.currentCodePoint;\n    }\n  }, {\n    key: \"nextCodePoint\",\n    get: function get() {\n      return this._reader.nextCodePoint;\n    }\n  }, {\n    key: \"nextCodePoint2\",\n    get: function get() {\n      return this._reader.nextCodePoint2;\n    }\n  }, {\n    key: \"nextCodePoint3\",\n    get: function get() {\n      return this._reader.nextCodePoint3;\n    }\n  }]);\n  return RegExpValidator;\n}();\n\nvar DummyPattern = {};\nvar DummyFlags = {};\nvar DummyCapturingGroup = {};\n\nvar RegExpParserState = /*#__PURE__*/function () {\n  function RegExpParserState(options) {\n    (0, _classCallCheck2.default)(this, RegExpParserState);\n    this._node = DummyPattern;\n    this._flags = DummyFlags;\n    this._backreferences = [];\n    this._capturingGroups = [];\n    this.source = \"\";\n    this.strict = Boolean(options && options.strict);\n    this.ecmaVersion = options && options.ecmaVersion || 2020;\n  }\n\n  (0, _createClass2.default)(RegExpParserState, [{\n    key: \"onFlags\",\n    value: function onFlags(start, end, global, ignoreCase, multiline, unicode, sticky, dotAll) {\n      this._flags = {\n        type: \"Flags\",\n        parent: null,\n        start: start,\n        end: end,\n        raw: this.source.slice(start, end),\n        global: global,\n        ignoreCase: ignoreCase,\n        multiline: multiline,\n        unicode: unicode,\n        sticky: sticky,\n        dotAll: dotAll\n      };\n    }\n  }, {\n    key: \"onPatternEnter\",\n    value: function onPatternEnter(start) {\n      this._node = {\n        type: \"Pattern\",\n        parent: null,\n        start: start,\n        end: start,\n        raw: \"\",\n        alternatives: []\n      };\n      this._backreferences.length = 0;\n      this._capturingGroups.length = 0;\n    }\n  }, {\n    key: \"onPatternLeave\",\n    value: function onPatternLeave(start, end) {\n      var _this2 = this;\n\n      this._node.end = end;\n      this._node.raw = this.source.slice(start, end);\n\n      var _iterator2 = _createForOfIteratorHelper(this._backreferences),\n          _step2;\n\n      try {\n        var _loop = function _loop() {\n          var reference = _step2.value;\n          var ref = reference.ref;\n          var group = typeof ref === \"number\" ? _this2._capturingGroups[ref - 1] : _this2._capturingGroups.find(function (g) {\n            return g.name === ref;\n          });\n          reference.resolved = group;\n          group.references.push(reference);\n        };\n\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"onAlternativeEnter\",\n    value: function onAlternativeEnter(start) {\n      var parent = this._node;\n\n      if (parent.type !== \"Assertion\" && parent.type !== \"CapturingGroup\" && parent.type !== \"Group\" && parent.type !== \"Pattern\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      this._node = {\n        type: \"Alternative\",\n        parent: parent,\n        start: start,\n        end: start,\n        raw: \"\",\n        elements: []\n      };\n      parent.alternatives.push(this._node);\n    }\n  }, {\n    key: \"onAlternativeLeave\",\n    value: function onAlternativeLeave(start, end) {\n      var node = this._node;\n\n      if (node.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      node.end = end;\n      node.raw = this.source.slice(start, end);\n      this._node = node.parent;\n    }\n  }, {\n    key: \"onGroupEnter\",\n    value: function onGroupEnter(start) {\n      var parent = this._node;\n\n      if (parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      this._node = {\n        type: \"Group\",\n        parent: parent,\n        start: start,\n        end: start,\n        raw: \"\",\n        alternatives: []\n      };\n      parent.elements.push(this._node);\n    }\n  }, {\n    key: \"onGroupLeave\",\n    value: function onGroupLeave(start, end) {\n      var node = this._node;\n\n      if (node.type !== \"Group\" || node.parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      node.end = end;\n      node.raw = this.source.slice(start, end);\n      this._node = node.parent;\n    }\n  }, {\n    key: \"onCapturingGroupEnter\",\n    value: function onCapturingGroupEnter(start, name) {\n      var parent = this._node;\n\n      if (parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      this._node = {\n        type: \"CapturingGroup\",\n        parent: parent,\n        start: start,\n        end: start,\n        raw: \"\",\n        name: name,\n        alternatives: [],\n        references: []\n      };\n      parent.elements.push(this._node);\n\n      this._capturingGroups.push(this._node);\n    }\n  }, {\n    key: \"onCapturingGroupLeave\",\n    value: function onCapturingGroupLeave(start, end) {\n      var node = this._node;\n\n      if (node.type !== \"CapturingGroup\" || node.parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      node.end = end;\n      node.raw = this.source.slice(start, end);\n      this._node = node.parent;\n    }\n  }, {\n    key: \"onQuantifier\",\n    value: function onQuantifier(start, end, min, max, greedy) {\n      var parent = this._node;\n\n      if (parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      var element = parent.elements.pop();\n\n      if (element == null || element.type === \"Quantifier\" || element.type === \"Assertion\" && element.kind !== \"lookahead\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      var node = {\n        type: \"Quantifier\",\n        parent: parent,\n        start: element.start,\n        end: end,\n        raw: this.source.slice(element.start, end),\n        min: min,\n        max: max,\n        greedy: greedy,\n        element: element\n      };\n      parent.elements.push(node);\n      element.parent = node;\n    }\n  }, {\n    key: \"onLookaroundAssertionEnter\",\n    value: function onLookaroundAssertionEnter(start, kind, negate) {\n      var parent = this._node;\n\n      if (parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      var node = this._node = {\n        type: \"Assertion\",\n        parent: parent,\n        start: start,\n        end: start,\n        raw: \"\",\n        kind: kind,\n        negate: negate,\n        alternatives: []\n      };\n      parent.elements.push(node);\n    }\n  }, {\n    key: \"onLookaroundAssertionLeave\",\n    value: function onLookaroundAssertionLeave(start, end) {\n      var node = this._node;\n\n      if (node.type !== \"Assertion\" || node.parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      node.end = end;\n      node.raw = this.source.slice(start, end);\n      this._node = node.parent;\n    }\n  }, {\n    key: \"onEdgeAssertion\",\n    value: function onEdgeAssertion(start, end, kind) {\n      var parent = this._node;\n\n      if (parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      parent.elements.push({\n        type: \"Assertion\",\n        parent: parent,\n        start: start,\n        end: end,\n        raw: this.source.slice(start, end),\n        kind: kind\n      });\n    }\n  }, {\n    key: \"onWordBoundaryAssertion\",\n    value: function onWordBoundaryAssertion(start, end, kind, negate) {\n      var parent = this._node;\n\n      if (parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      parent.elements.push({\n        type: \"Assertion\",\n        parent: parent,\n        start: start,\n        end: end,\n        raw: this.source.slice(start, end),\n        kind: kind,\n        negate: negate\n      });\n    }\n  }, {\n    key: \"onAnyCharacterSet\",\n    value: function onAnyCharacterSet(start, end, kind) {\n      var parent = this._node;\n\n      if (parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      parent.elements.push({\n        type: \"CharacterSet\",\n        parent: parent,\n        start: start,\n        end: end,\n        raw: this.source.slice(start, end),\n        kind: kind\n      });\n    }\n  }, {\n    key: \"onEscapeCharacterSet\",\n    value: function onEscapeCharacterSet(start, end, kind, negate) {\n      var parent = this._node;\n\n      if (parent.type !== \"Alternative\" && parent.type !== \"CharacterClass\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      parent.elements.push({\n        type: \"CharacterSet\",\n        parent: parent,\n        start: start,\n        end: end,\n        raw: this.source.slice(start, end),\n        kind: kind,\n        negate: negate\n      });\n    }\n  }, {\n    key: \"onUnicodePropertyCharacterSet\",\n    value: function onUnicodePropertyCharacterSet(start, end, kind, key, value, negate) {\n      var parent = this._node;\n\n      if (parent.type !== \"Alternative\" && parent.type !== \"CharacterClass\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      parent.elements.push({\n        type: \"CharacterSet\",\n        parent: parent,\n        start: start,\n        end: end,\n        raw: this.source.slice(start, end),\n        kind: kind,\n        key: key,\n        value: value,\n        negate: negate\n      });\n    }\n  }, {\n    key: \"onCharacter\",\n    value: function onCharacter(start, end, value) {\n      var parent = this._node;\n\n      if (parent.type !== \"Alternative\" && parent.type !== \"CharacterClass\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      parent.elements.push({\n        type: \"Character\",\n        parent: parent,\n        start: start,\n        end: end,\n        raw: this.source.slice(start, end),\n        value: value\n      });\n    }\n  }, {\n    key: \"onBackreference\",\n    value: function onBackreference(start, end, ref) {\n      var parent = this._node;\n\n      if (parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      var node = {\n        type: \"Backreference\",\n        parent: parent,\n        start: start,\n        end: end,\n        raw: this.source.slice(start, end),\n        ref: ref,\n        resolved: DummyCapturingGroup\n      };\n      parent.elements.push(node);\n\n      this._backreferences.push(node);\n    }\n  }, {\n    key: \"onCharacterClassEnter\",\n    value: function onCharacterClassEnter(start, negate) {\n      var parent = this._node;\n\n      if (parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      this._node = {\n        type: \"CharacterClass\",\n        parent: parent,\n        start: start,\n        end: start,\n        raw: \"\",\n        negate: negate,\n        elements: []\n      };\n      parent.elements.push(this._node);\n    }\n  }, {\n    key: \"onCharacterClassLeave\",\n    value: function onCharacterClassLeave(start, end) {\n      var node = this._node;\n\n      if (node.type !== \"CharacterClass\" || node.parent.type !== \"Alternative\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      node.end = end;\n      node.raw = this.source.slice(start, end);\n      this._node = node.parent;\n    }\n  }, {\n    key: \"onCharacterClassRange\",\n    value: function onCharacterClassRange(start, end) {\n      var parent = this._node;\n\n      if (parent.type !== \"CharacterClass\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      var elements = parent.elements;\n      var max = elements.pop();\n      var hyphen = elements.pop();\n      var min = elements.pop();\n\n      if (!min || !max || !hyphen || min.type !== \"Character\" || max.type !== \"Character\" || hyphen.type !== \"Character\" || hyphen.value !== HyphenMinus) {\n        throw new Error(\"UnknownError\");\n      }\n\n      var node = {\n        type: \"CharacterClassRange\",\n        parent: parent,\n        start: start,\n        end: end,\n        raw: this.source.slice(start, end),\n        min: min,\n        max: max\n      };\n      min.parent = node;\n      max.parent = node;\n      elements.push(node);\n    }\n  }, {\n    key: \"pattern\",\n    get: function get() {\n      if (this._node.type !== \"Pattern\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      return this._node;\n    }\n  }, {\n    key: \"flags\",\n    get: function get() {\n      if (this._flags.type !== \"Flags\") {\n        throw new Error(\"UnknownError\");\n      }\n\n      return this._flags;\n    }\n  }]);\n  return RegExpParserState;\n}();\n\nvar RegExpParser = /*#__PURE__*/function () {\n  function RegExpParser(options) {\n    (0, _classCallCheck2.default)(this, RegExpParser);\n    this._state = new RegExpParserState(options);\n    this._validator = new RegExpValidator(this._state);\n  }\n\n  (0, _createClass2.default)(RegExpParser, [{\n    key: \"parseLiteral\",\n    value: function parseLiteral(source) {\n      var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;\n      this._state.source = source;\n\n      this._validator.validateLiteral(source, start, end);\n\n      var pattern = this._state.pattern;\n      var flags = this._state.flags;\n      var literal = {\n        type: \"RegExpLiteral\",\n        parent: null,\n        start: start,\n        end: end,\n        raw: source,\n        pattern: pattern,\n        flags: flags\n      };\n      pattern.parent = literal;\n      flags.parent = literal;\n      return literal;\n    }\n  }, {\n    key: \"parseFlags\",\n    value: function parseFlags(source) {\n      var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;\n      this._state.source = source;\n\n      this._validator.validateFlags(source, start, end);\n\n      return this._state.flags;\n    }\n  }, {\n    key: \"parsePattern\",\n    value: function parsePattern(source) {\n      var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;\n      var uFlag = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      this._state.source = source;\n\n      this._validator.validatePattern(source, start, end, uFlag);\n\n      return this._state.pattern;\n    }\n  }]);\n  return RegExpParser;\n}();\n\nvar RegExpVisitor = /*#__PURE__*/function () {\n  function RegExpVisitor(handlers) {\n    (0, _classCallCheck2.default)(this, RegExpVisitor);\n    this._handlers = handlers;\n  }\n\n  (0, _createClass2.default)(RegExpVisitor, [{\n    key: \"visit\",\n    value: function visit(node) {\n      switch (node.type) {\n        case \"Alternative\":\n          this.visitAlternative(node);\n          break;\n\n        case \"Assertion\":\n          this.visitAssertion(node);\n          break;\n\n        case \"Backreference\":\n          this.visitBackreference(node);\n          break;\n\n        case \"CapturingGroup\":\n          this.visitCapturingGroup(node);\n          break;\n\n        case \"Character\":\n          this.visitCharacter(node);\n          break;\n\n        case \"CharacterClass\":\n          this.visitCharacterClass(node);\n          break;\n\n        case \"CharacterClassRange\":\n          this.visitCharacterClassRange(node);\n          break;\n\n        case \"CharacterSet\":\n          this.visitCharacterSet(node);\n          break;\n\n        case \"Flags\":\n          this.visitFlags(node);\n          break;\n\n        case \"Group\":\n          this.visitGroup(node);\n          break;\n\n        case \"Pattern\":\n          this.visitPattern(node);\n          break;\n\n        case \"Quantifier\":\n          this.visitQuantifier(node);\n          break;\n\n        case \"RegExpLiteral\":\n          this.visitRegExpLiteral(node);\n          break;\n\n        default:\n          throw new Error(\"Unknown type: \".concat(node.type));\n      }\n    }\n  }, {\n    key: \"visitAlternative\",\n    value: function visitAlternative(node) {\n      if (this._handlers.onAlternativeEnter) {\n        this._handlers.onAlternativeEnter(node);\n      }\n\n      node.elements.forEach(this.visit, this);\n\n      if (this._handlers.onAlternativeLeave) {\n        this._handlers.onAlternativeLeave(node);\n      }\n    }\n  }, {\n    key: \"visitAssertion\",\n    value: function visitAssertion(node) {\n      if (this._handlers.onAssertionEnter) {\n        this._handlers.onAssertionEnter(node);\n      }\n\n      if (node.kind === \"lookahead\" || node.kind === \"lookbehind\") {\n        node.alternatives.forEach(this.visit, this);\n      }\n\n      if (this._handlers.onAssertionLeave) {\n        this._handlers.onAssertionLeave(node);\n      }\n    }\n  }, {\n    key: \"visitBackreference\",\n    value: function visitBackreference(node) {\n      if (this._handlers.onBackreferenceEnter) {\n        this._handlers.onBackreferenceEnter(node);\n      }\n\n      if (this._handlers.onBackreferenceLeave) {\n        this._handlers.onBackreferenceLeave(node);\n      }\n    }\n  }, {\n    key: \"visitCapturingGroup\",\n    value: function visitCapturingGroup(node) {\n      if (this._handlers.onCapturingGroupEnter) {\n        this._handlers.onCapturingGroupEnter(node);\n      }\n\n      node.alternatives.forEach(this.visit, this);\n\n      if (this._handlers.onCapturingGroupLeave) {\n        this._handlers.onCapturingGroupLeave(node);\n      }\n    }\n  }, {\n    key: \"visitCharacter\",\n    value: function visitCharacter(node) {\n      if (this._handlers.onCharacterEnter) {\n        this._handlers.onCharacterEnter(node);\n      }\n\n      if (this._handlers.onCharacterLeave) {\n        this._handlers.onCharacterLeave(node);\n      }\n    }\n  }, {\n    key: \"visitCharacterClass\",\n    value: function visitCharacterClass(node) {\n      if (this._handlers.onCharacterClassEnter) {\n        this._handlers.onCharacterClassEnter(node);\n      }\n\n      node.elements.forEach(this.visit, this);\n\n      if (this._handlers.onCharacterClassLeave) {\n        this._handlers.onCharacterClassLeave(node);\n      }\n    }\n  }, {\n    key: \"visitCharacterClassRange\",\n    value: function visitCharacterClassRange(node) {\n      if (this._handlers.onCharacterClassRangeEnter) {\n        this._handlers.onCharacterClassRangeEnter(node);\n      }\n\n      this.visitCharacter(node.min);\n      this.visitCharacter(node.max);\n\n      if (this._handlers.onCharacterClassRangeLeave) {\n        this._handlers.onCharacterClassRangeLeave(node);\n      }\n    }\n  }, {\n    key: \"visitCharacterSet\",\n    value: function visitCharacterSet(node) {\n      if (this._handlers.onCharacterSetEnter) {\n        this._handlers.onCharacterSetEnter(node);\n      }\n\n      if (this._handlers.onCharacterSetLeave) {\n        this._handlers.onCharacterSetLeave(node);\n      }\n    }\n  }, {\n    key: \"visitFlags\",\n    value: function visitFlags(node) {\n      if (this._handlers.onFlagsEnter) {\n        this._handlers.onFlagsEnter(node);\n      }\n\n      if (this._handlers.onFlagsLeave) {\n        this._handlers.onFlagsLeave(node);\n      }\n    }\n  }, {\n    key: \"visitGroup\",\n    value: function visitGroup(node) {\n      if (this._handlers.onGroupEnter) {\n        this._handlers.onGroupEnter(node);\n      }\n\n      node.alternatives.forEach(this.visit, this);\n\n      if (this._handlers.onGroupLeave) {\n        this._handlers.onGroupLeave(node);\n      }\n    }\n  }, {\n    key: \"visitPattern\",\n    value: function visitPattern(node) {\n      if (this._handlers.onPatternEnter) {\n        this._handlers.onPatternEnter(node);\n      }\n\n      node.alternatives.forEach(this.visit, this);\n\n      if (this._handlers.onPatternLeave) {\n        this._handlers.onPatternLeave(node);\n      }\n    }\n  }, {\n    key: \"visitQuantifier\",\n    value: function visitQuantifier(node) {\n      if (this._handlers.onQuantifierEnter) {\n        this._handlers.onQuantifierEnter(node);\n      }\n\n      this.visit(node.element);\n\n      if (this._handlers.onQuantifierLeave) {\n        this._handlers.onQuantifierLeave(node);\n      }\n    }\n  }, {\n    key: \"visitRegExpLiteral\",\n    value: function visitRegExpLiteral(node) {\n      if (this._handlers.onRegExpLiteralEnter) {\n        this._handlers.onRegExpLiteralEnter(node);\n      }\n\n      this.visitPattern(node.pattern);\n      this.visitFlags(node.flags);\n\n      if (this._handlers.onRegExpLiteralLeave) {\n        this._handlers.onRegExpLiteralLeave(node);\n      }\n    }\n  }]);\n  return RegExpVisitor;\n}();\n\nfunction parseRegExpLiteral(source, options) {\n  return new RegExpParser(options).parseLiteral(String(source));\n}\n\nfunction validateRegExpLiteral(source, options) {\n  return new RegExpValidator(options).validateLiteral(source);\n}\n\nfunction visitRegExpAST(node, handlers) {\n  new RegExpVisitor(handlers).visit(node);\n}\n\nexports.AST = ast;\nexports.RegExpParser = RegExpParser;\nexports.RegExpValidator = RegExpValidator;\nexports.parseRegExpLiteral = parseRegExpLiteral;\nexports.validateRegExpLiteral = validateRegExpLiteral;\nexports.visitRegExpAST = visitRegExpAST;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVnZXhwcC9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8udGVtcC91bmljb2RlL3NyYy91bmljb2RlL2lkcy50cz8zZjIzIiwid2VicGFjazovLy8udGVtcC91bmljb2RlL3NyYy91bmljb2RlL3Byb3BlcnRpZXMudHM/NzViMiIsIndlYnBhY2s6Ly8vLnRlbXAvdW5pY29kZS9zcmMvdW5pY29kZS9pbmRleC50cz9iZjQyIiwid2VicGFjazovLy8udGVtcC9zcmMvcmVhZGVyLnRzP2I2OTIiLCJ3ZWJwYWNrOi8vLy50ZW1wL3NyYy9yZWdleHAtc3ludGF4LWVycm9yLnRzPzJkOWUiLCJ3ZWJwYWNrOi8vLy50ZW1wL3NyYy92YWxpZGF0b3IudHM/OWY1NyIsIndlYnBhY2s6Ly8vLnRlbXAvc3JjL3BhcnNlci50cz8yMDExIiwid2VicGFjazovLy8udGVtcC9zcmMvdmlzaXRvci50cz81ZTkyIiwid2VicGFjazovLy8udGVtcC9zcmMvaW5kZXgudHM/MDBmMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF1dGhvciBUb3J1IE5hZ2FzaGltYSA8aHR0cHM6Ly9naXRodWIuY29tL215c3RpY2F0ZWE+ICovXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cblxuXG52YXIgYXN0ID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuXG59KTtcblxubGV0IGxhcmdlSWRTdGFydFJhbmdlcyA9IHVuZGVmaW5lZDtcbmxldCBsYXJnZUlkQ29udGludWVSYW5nZXMgPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBpc0lkU3RhcnQoY3ApIHtcbiAgICBpZiAoY3AgPCAweDQxKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGNwIDwgMHg1YilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNwIDwgMHg2MSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChjcCA8IDB4N2IpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBpc0xhcmdlSWRTdGFydChjcCk7XG59XG5mdW5jdGlvbiBpc0lkQ29udGludWUoY3ApIHtcbiAgICBpZiAoY3AgPCAweDMwKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGNwIDwgMHgzYSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNwIDwgMHg0MSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChjcCA8IDB4NWIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChjcCA9PT0gMHg1ZilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNwIDwgMHg2MSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChjcCA8IDB4N2IpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBpc0xhcmdlSWRTdGFydChjcCkgfHwgaXNMYXJnZUlkQ29udGludWUoY3ApO1xufVxuZnVuY3Rpb24gaXNMYXJnZUlkU3RhcnQoY3ApIHtcbiAgICByZXR1cm4gaXNJblJhbmdlKGNwLCBsYXJnZUlkU3RhcnRSYW5nZXMgfHwgKGxhcmdlSWRTdGFydFJhbmdlcyA9IGluaXRMYXJnZUlkU3RhcnRSYW5nZXMoKSkpO1xufVxuZnVuY3Rpb24gaXNMYXJnZUlkQ29udGludWUoY3ApIHtcbiAgICByZXR1cm4gaXNJblJhbmdlKGNwLCBsYXJnZUlkQ29udGludWVSYW5nZXMgfHxcbiAgICAgICAgKGxhcmdlSWRDb250aW51ZVJhbmdlcyA9IGluaXRMYXJnZUlkQ29udGludWVSYW5nZXMoKSkpO1xufVxuZnVuY3Rpb24gaW5pdExhcmdlSWRTdGFydFJhbmdlcygpIHtcbiAgICByZXR1cm4gcmVzdG9yZVJhbmdlcyhcIjE3MCAwIDExIDAgNSAwIDYgMjIgMiAzMCAyIDQ1NyA1IDExIDE1IDQgOCAwIDIgMCAxMzAgNCAyIDEgMyAzIDIgMCA3IDAgMiAyIDIgMCAyIDE5IDIgODIgMiAxMzggOSAxNjUgMiAzNyAzIDAgNyA0MCA3MiAyNiA1IDMgNDYgNDIgMzYgMSAyIDk4IDIgMCAxNiAxIDggMSAxMSAyIDMgMCAxNyAwIDIgMjkgMzAgODggMTIgMCAyNSAzMiAxMCAxIDUgMCA2IDIxIDUgMCAxMCAwIDQgMCAyNCAyNCA4IDEwIDU0IDIwIDIgMTcgNjEgNTMgNCAwIDE5IDAgOCA5IDE2IDE1IDUgNyAzIDEgMyAyMSAyIDYgMiAwIDQgMyA0IDAgMTcgMCAxNCAxIDIgMiAxNSAxIDExIDAgOSA1IDUgMSAzIDIxIDIgNiAyIDEgMiAxIDIgMSAzMiAzIDIgMCAyMCAyIDE3IDggMiAyIDIgMjEgMiA2IDIgMSAyIDQgNCAwIDE5IDAgMTYgMSAyNCAwIDEyIDcgMyAxIDMgMjEgMiA2IDIgMSAyIDQgNCAwIDMxIDEgMiAyIDE2IDAgMTggMCAyIDUgNCAyIDIgMyA0IDEgMiAwIDIgMSA0IDEgNCAyIDQgMTEgMjMgMCA1MyA3IDIgMiAyIDIyIDIgMTUgNCAwIDI3IDIgNiAxIDMxIDAgNSA3IDIgMiAyIDIyIDIgOSAyIDQgNCAwIDMzIDAgMiAxIDE2IDEgMTggOCAyIDIgMiA0MCAzIDAgMTcgMCA2IDIgOSAyIDI1IDUgNiAxNyA0IDIzIDIgOCAyIDAgMyA2IDU5IDQ3IDIgMSAxMyA2IDU5IDEgMiAwIDIgNCAyIDIzIDIgMCAyIDkgMiAxIDEwIDAgMyA0IDIgMCAyMiAzIDMzIDAgNjQgNyAyIDM1IDI4IDQgMTE2IDQyIDIxIDAgMTcgNSA1IDMgNCAwIDQgMSA4IDIgNSAxMiAxMyAwIDE4IDM3IDIgMCA2IDAgMyA0MiAyIDMzMiAyIDMgMyA2IDIgMCAyIDMgMyA0MCAyIDMgMyAzMiAyIDMgMyA2IDIgMCAyIDMgMyAxNCAyIDU2IDIgMyAzIDY2IDM4IDE1IDE3IDg1IDMgNSA0IDYxOSAzIDE2IDIgMjUgNiA3NCA0IDEwIDggMTIgMiAzIDE1IDE3IDE1IDE3IDE1IDEyIDIgMiAxNiA1MSAzNiAwIDUgMCA2OCA4OCA4IDQwIDIgMCA2IDY5IDExIDMwIDUwIDI5IDMgNCAxMiA0MyA1IDI1IDU1IDIyIDEwIDUyIDgzIDAgOTQgNDYgMTggNiA1NiAyOSAxNCAxIDExIDQzIDI3IDM1IDQyIDIgMTEgMzUgMyA4IDggNDIgMyAyIDQyIDMgMiA1IDIgMSA0IDAgNiAxOTEgNjUgMjc3IDMgNSAzIDM3IDMgNSAzIDcgMiAwIDIgMCAyIDAgMiAzMCAzIDUyIDIgNiAyIDAgNCAyIDIgNiA0IDMgMyA1IDUgMTIgNiAyIDIgNiAxMTcgMCAxNCAwIDE3IDEyIDEwMiAwIDUgMCAzIDkgMiAwIDMgNSA3IDAgMiAwIDIgMCAyIDE1IDMgMyA2IDQgNSAwIDE4IDQwIDI2ODAgNDYgMiA0NiAyIDEzMiA3IDMgNCAxIDEzIDM3IDIgMCA2IDAgMyA1NSA4IDAgMTcgMjIgMTAgNiAyIDYgMiA2IDIgNiAyIDYgMiA2IDIgNiAyIDYgNTUxIDIgMjYgOCA4IDQgMyA0IDUgODUgNSA0IDIgODkgMiAzIDYgNDIgMiA5MyAxOCAzMSA0OSAxNSA1MTMgNjU5MSA2NSAyMDk4OCA0IDExNjQgNjggNDUgMyAyNjggNCAxNSAxMSAxIDIxIDQ2IDE3IDMwIDMgNzkgNDAgOCAzIDEwMiAzIDUyIDMgOCA0MyAxMiAyIDIgMiAzIDIgMjIgMzAgNTEgMTUgNDkgNjMgNSA0IDAgMiAxIDEyIDI3IDExIDIyIDI2IDI4IDggNDYgMjkgMCAxNyA0IDIgOSAxMSA0IDIgNDAgMjQgMiAyIDcgMjEgMjIgNCAwIDQgNDkgMiAwIDQgMSAzIDQgMyAwIDIgMCAyNSAyIDMgMTAgOCAyIDEzIDUgMyA1IDMgNSAxMCA2IDIgNiAyIDQyIDIgMTMgNyAxMTQgMzAgMTExNzEgMTMgMjIgNSA0OCA4NDUzIDM2NSAzIDEwNSAzOSA2IDEzIDQgNiAwIDIgOSAyIDEyIDIgNCAyIDAgMiAxIDIgMSAyIDEwNyAzNCAzNjIgMTkgNjMgMyA1MyA0MSAxMSAxMTcgNCAyIDEzNCAzNyAyNSA3IDI1IDEyIDg4IDQgNSAzIDUgMyA1IDMgMiAzNiAxMSAyIDI1IDIgMTggMiAxIDIgMTQgMyAxMyAzNSAxMjIgNzAgNTIgMjY4IDI4IDQgNDggNDggMzEgMTQgMjkgNiAzNyAxMSAyOSAzIDM1IDUgNyAyIDQgNDMgMTU3IDE5IDM1IDUgMzUgNSAzOSA5IDUxIDE1NyAzMTAgMTAgMjEgMTEgNyAxNTMgNSAzIDAgMiA0MyAyIDEgNCAwIDMgMjIgMTEgMjIgMTAgMzAgNjYgMTggMiAxIDExIDIxIDExIDI1IDcxIDU1IDcgMSA2NSAwIDE2IDMgMiAyIDIgMjggNDMgMjggNCAyOCAzNiA3IDIgMjcgMjggNTMgMTEgMjEgMTEgMTggMTQgMTcgMTExIDcyIDU2IDUwIDE0IDUwIDE0IDM1IDM0OSA0MSA3IDEgNzkgMjggMTEgMCA5IDIxIDEwNyAyMCAyOCAyMiAxMyA1MiA3NiA0NCAzMyAyNCAyNyAzNSAzMCAwIDMgMCA5IDM0IDQgMCAxMyA0NyAxNSAzIDIyIDAgMiAwIDM2IDE3IDIgMjQgODUgNiAyIDAgMiAzIDIgMTQgMiA5IDggNDYgMzkgNyAzIDEgMyAyMSAyIDYgMiAxIDIgNCA0IDAgMTkgMCAxMyA0IDE1OSA1MiAxOSAzIDIxIDIgMzEgNDcgMjEgMSAyIDAgMTg1IDQ2IDQyIDMgMzcgNDcgMjEgMCA2MCA0MiAxNCAwIDcyIDI2IDIzMCA0MyAxMTcgNjMgMzIgNyAzIDAgMyA3IDIgMSAyIDIzIDE2IDAgMiAwIDk1IDcgMyAzOCAxNyAwIDIgMCAyOSAwIDExIDM5IDggMCAyMiAwIDEyIDQ1IDIwIDAgMzUgNTYgMjY0IDggMiAzNiAxOCAwIDUwIDI5IDExMyA2IDIgMSAyIDM3IDIyIDAgMjYgNSAyIDEgMiAzMSAxNSAwIDMyOCAxOCAxOTAgMCA4MCA5MjEgMTAzIDExMCAxOCAxOTUgMjc0OSAxMDcwIDQwNTAgNTgyIDg2MzQgNTY4IDggMzAgMTE0IDI5IDE5IDQ3IDE3IDMgMzIgMjAgNiAxOCA2ODkgNjMgMTI5IDc0IDYgMCA2NyAxMiA2NSAxIDIgMCAyOSA2MTM1IDkgMTIzNyA0MyA4IDg5NTIgMjg2IDUwIDIgMTggMyA5IDM5NSAyMzA5IDEwNiA2IDEyIDQgOCA4IDkgNTk5MSA4NCAyIDcwIDIgMSAzIDAgMyAxIDMgMyAyIDExIDIgMCAyIDYgMiA2NCAyIDMgMyA3IDIgNiAyIDI3IDIgMyAyIDQgMiAwIDQgNiAyIDMzOSAzIDI0IDIgMjQgMiAzMCAyIDI0IDIgMzAgMiAyNCAyIDMwIDIgMjQgMiAzMCAyIDI0IDIgNyAyMzU3IDQ0IDExIDYgMTcgMCAzNzAgNDMgMTMwMSAxOTYgNjAgNjcgOCAwIDEyMDUgMyAyIDI2IDIgMSAyIDAgMyAwIDIgOSAyIDMgMiAwIDIgMCA3IDAgNSAwIDIgMCAyIDAgMiAyIDIgMSAyIDAgMyAwIDIgMCAyIDAgMiAwIDIgMCAyIDEgMiAwIDMgMyAyIDYgMiAzIDIgMyAyIDAgMiA5IDIgMTYgNiAyIDIgNCAyIDE2IDQ0MjEgNDI3MTcgMzUgNDE0OCAxMiAyMjEgMyA1NzYxIDE1IDc0NzIgMzEwNCA1NDEgMTUwNyA0OTM4XCIpO1xufVxuZnVuY3Rpb24gaW5pdExhcmdlSWRDb250aW51ZVJhbmdlcygpIHtcbiAgICByZXR1cm4gcmVzdG9yZVJhbmdlcyhcIjE4MyAwIDU4NSAxMTEgMjQgMCAyNTIgNCAyNjYgNDQgMiAwIDIgMSAyIDEgMiAwIDczIDEwIDQ5IDMwIDcgMCAxMDIgNiAzIDUgMyAxIDIgMyAzIDkgMjQgMCAzMSAyNiA5MiAxMCAxNiA5IDM0IDggMTAgMCAyNSAzIDIgOCAyIDIgMiA0IDQ0IDIgMTIwIDE0IDIgMzIgNTUgMiAyIDE3IDIgNiAxMSAxIDMgOSAxOCAyIDU3IDAgMiA2IDMgMSAzIDIgMTAgMCAxMSAxIDMgOSAxNSAwIDMgMiA1NyAwIDIgNCA1IDEgMyAyIDQgMCAyMSAxMSA0IDAgMTIgMiA1NyAwIDIgNyAyIDIgMiAyIDIxIDEgMyA5IDExIDUgMiAyIDU3IDAgMiA2IDMgMSAzIDIgOCAyIDExIDEgMyA5IDE5IDAgNjAgNCA0IDIgMiAzIDEwIDAgMTUgOSAxNyA0IDU4IDYgMiAyIDIgMyA4IDEgMTIgMSAzIDkgMTggMiA1NyAwIDIgNiAyIDIgMiAzIDggMSAxMiAxIDMgOSAxNyAzIDU2IDEgMiA2IDIgMiAyIDMgMTAgMCAxMSAxIDMgOSAxOCAyIDcxIDAgNSA1IDIgMCAyIDcgNyA5IDMgMSA2MiAwIDMgNiAxMyA3IDIgOSA4OCAwIDMgOCAxMiA1IDMgOSA2MyAxIDcgOSAxMiAwIDIgMCAyIDAgNSAxIDUwIDE5IDIgMSA2IDEwIDIgMzUgMTAgMCAxMDEgMTkgMiA5IDEzIDMgNSAyIDIgMiAzIDYgNCAzIDE0IDExIDIgMTQgNzA0IDIgMTAgOCA5MjkgMiAzMCAyIDMwIDEgMzEgMSA2NSAzMSAxMCAwIDMgOSAzNCAyIDMgOSAxNDQgMCAxMTkgMTEgNSAxMSAxMSA5IDEyOSAxMCA2MSA0IDU4IDkgMiAyOCAzIDEwIDcgOSAyMyAxMyAyIDEgNjQgNCA0OCAxNiAxMiA5IDE4IDggMTMgMiAzMSAxMiAzIDkgNDUgMTMgNDkgMTkgOSA5IDcgOSAxMTkgMiAyIDIwIDUgMCA3IDAgMyAyIDE5OSA1NyAyIDQgNTc2IDEgMjAgMCAxMjQgMTIgNSAwIDQgMTEgMzA3MSAyIDE0MiAwIDk3IDMxIDU1NSA1IDEwNiAxIDMwMDg2IDkgNzAgMCA1IDkgMzMgMSA4MSAxIDI3MyAwIDQgMCA1IDAgMjQgNCA1IDAgODQgMSA1MSAxNyAxMSA5IDcgMTcgMTQgMTAgMjkgNyAyNiAxMiA0NSAzIDQ4IDEzIDE2IDkgMTIgMCAxMSA5IDQ4IDEzIDEzIDAgOSAxIDMgOSAzNCAyIDUxIDAgMiAyIDMgMSA2IDEgMiAwIDQyIDQgNiAxIDIzNyA3IDIgMSAzIDkgMjAyNjEgMCA3MzggMTUgMTcgMTUgNCAxIDI1IDIgMTkzIDkgMzggMCA3MDIgMCAyMjcgMCAxNTAgNCAyOTQgOSAxMzY4IDIgMiAxIDYgMyA0MSAyIDUgMCAxNjYgMSA1NzQgMyA5IDkgMzcwIDEgMTU0IDEwIDE3NiAyIDU0IDE0IDMyIDkgMTYgMyA0NiAxMCA1NCA5IDcgMiAzNyAxMyAyIDkgNiAxIDQ1IDAgMTMgMiA0OSAxMyA5IDMgMiAxMSA4MyAxMSA3IDAgMTYxIDExIDYgOSA3IDMgNTYgMSAyIDYgMyAxIDMgMiAxMCAwIDExIDEgMyA2IDQgNCAxOTMgMTcgMTAgOSA1IDAgODIgMTkgMTMgOSAyMTQgNiAzIDggMjggMSA4MyAxNiAxNiA5IDgyIDEyIDkgOSA4NCAxNCA1IDkgMjQzIDE0IDE2NiA5IDcxIDUgMiAxIDMgMyAyIDAgMiAxIDEzIDkgMTIwIDYgMyA2IDQgMCAyOSA5IDQxIDYgMiAzIDkgMCAxMCAxMCA0NyAxNSA0MDYgNyAyIDcgMTcgOSA1NyAyMSAyIDEzIDEyMyA1IDQgMCAyIDEgMiA2IDIgMCA5IDkgNDkgNCAyIDEgMiA0IDkgOSAzMzAgMyAxOTMwNiA5IDEzNSA0IDYwIDYgMjYgOSAxMDE0IDAgMiA1NCA4IDMgODIgMCAxMiAxIDE5NjI4IDEgNTMxOSA0IDQgNSA5IDcgMyA2IDMxIDMgMTQ5IDIgMTQxOCA0OSA1MTMgNTQgNSA0OSA5IDAgMTUgMCAyMyA0IDIgMTQgMTM2MSA2IDIgMTYgMyA2IDIgMSAyIDQgMjYyIDYgMTAgOSA0MTkgMTMgMTQ5NSA2IDExMCA2IDYgOSA0NzU5IDkgNzg3NzE5IDIzOVwiKTtcbn1cbmZ1bmN0aW9uIGlzSW5SYW5nZShjcCwgcmFuZ2VzKSB7XG4gICAgbGV0IGwgPSAwLCByID0gKHJhbmdlcy5sZW5ndGggLyAyKSB8IDAsIGkgPSAwLCBtaW4gPSAwLCBtYXggPSAwO1xuICAgIHdoaWxlIChsIDwgcikge1xuICAgICAgICBpID0gKChsICsgcikgLyAyKSB8IDA7XG4gICAgICAgIG1pbiA9IHJhbmdlc1syICogaV07XG4gICAgICAgIG1heCA9IHJhbmdlc1syICogaSArIDFdO1xuICAgICAgICBpZiAoY3AgPCBtaW4pIHtcbiAgICAgICAgICAgIHIgPSBpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNwID4gbWF4KSB7XG4gICAgICAgICAgICBsID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiByZXN0b3JlUmFuZ2VzKGRhdGEpIHtcbiAgICBsZXQgbGFzdCA9IDA7XG4gICAgcmV0dXJuIGRhdGEuc3BsaXQoXCIgXCIpLm1hcChzID0+IChsYXN0ICs9IHBhcnNlSW50KHMsIDEwKSB8IDApKTtcbn1cblxuY2xhc3MgRGF0YVNldCB7XG4gICAgY29uc3RydWN0b3IocmF3MjAxOCwgcmF3MjAxOSwgcmF3MjAyMCkge1xuICAgICAgICB0aGlzLl9yYXcyMDE4ID0gcmF3MjAxODtcbiAgICAgICAgdGhpcy5fcmF3MjAxOSA9IHJhdzIwMTk7XG4gICAgICAgIHRoaXMuX3JhdzIwMjAgPSByYXcyMDIwO1xuICAgIH1cbiAgICBnZXQgZXMyMDE4KCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3NldDIwMTggfHwgKHRoaXMuX3NldDIwMTggPSBuZXcgU2V0KHRoaXMuX3JhdzIwMTguc3BsaXQoXCIgXCIpKSkpO1xuICAgIH1cbiAgICBnZXQgZXMyMDE5KCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3NldDIwMTkgfHwgKHRoaXMuX3NldDIwMTkgPSBuZXcgU2V0KHRoaXMuX3JhdzIwMTkuc3BsaXQoXCIgXCIpKSkpO1xuICAgIH1cbiAgICBnZXQgZXMyMDIwKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3NldDIwMjAgfHwgKHRoaXMuX3NldDIwMjAgPSBuZXcgU2V0KHRoaXMuX3JhdzIwMjAuc3BsaXQoXCIgXCIpKSkpO1xuICAgIH1cbn1cbmNvbnN0IGdjTmFtZVNldCA9IG5ldyBTZXQoW1wiR2VuZXJhbF9DYXRlZ29yeVwiLCBcImdjXCJdKTtcbmNvbnN0IHNjTmFtZVNldCA9IG5ldyBTZXQoW1wiU2NyaXB0XCIsIFwiU2NyaXB0X0V4dGVuc2lvbnNcIiwgXCJzY1wiLCBcInNjeFwiXSk7XG5jb25zdCBnY1ZhbHVlU2V0cyA9IG5ldyBEYXRhU2V0KFwiQyBDYXNlZF9MZXR0ZXIgQ2MgQ2YgQ2xvc2VfUHVuY3R1YXRpb24gQ24gQ28gQ29tYmluaW5nX01hcmsgQ29ubmVjdG9yX1B1bmN0dWF0aW9uIENvbnRyb2wgQ3MgQ3VycmVuY3lfU3ltYm9sIERhc2hfUHVuY3R1YXRpb24gRGVjaW1hbF9OdW1iZXIgRW5jbG9zaW5nX01hcmsgRmluYWxfUHVuY3R1YXRpb24gRm9ybWF0IEluaXRpYWxfUHVuY3R1YXRpb24gTCBMQyBMZXR0ZXIgTGV0dGVyX051bWJlciBMaW5lX1NlcGFyYXRvciBMbCBMbSBMbyBMb3dlcmNhc2VfTGV0dGVyIEx0IEx1IE0gTWFyayBNYXRoX1N5bWJvbCBNYyBNZSBNbiBNb2RpZmllcl9MZXR0ZXIgTW9kaWZpZXJfU3ltYm9sIE4gTmQgTmwgTm8gTm9uc3BhY2luZ19NYXJrIE51bWJlciBPcGVuX1B1bmN0dWF0aW9uIE90aGVyIE90aGVyX0xldHRlciBPdGhlcl9OdW1iZXIgT3RoZXJfUHVuY3R1YXRpb24gT3RoZXJfU3ltYm9sIFAgUGFyYWdyYXBoX1NlcGFyYXRvciBQYyBQZCBQZSBQZiBQaSBQbyBQcml2YXRlX1VzZSBQcyBQdW5jdHVhdGlvbiBTIFNjIFNlcGFyYXRvciBTayBTbSBTbyBTcGFjZV9TZXBhcmF0b3IgU3BhY2luZ19NYXJrIFN1cnJvZ2F0ZSBTeW1ib2wgVGl0bGVjYXNlX0xldHRlciBVbmFzc2lnbmVkIFVwcGVyY2FzZV9MZXR0ZXIgWiBabCBacCBacyBjbnRybCBkaWdpdCBwdW5jdFwiLCBcIlwiLCBcIlwiKTtcbmNvbnN0IHNjVmFsdWVTZXRzID0gbmV3IERhdGFTZXQoXCJBZGxhbSBBZGxtIEFnaGIgQWhvbSBBbmF0b2xpYW5fSGllcm9nbHlwaHMgQXJhYiBBcmFiaWMgQXJtZW5pYW4gQXJtaSBBcm1uIEF2ZXN0YW4gQXZzdCBCYWxpIEJhbGluZXNlIEJhbXUgQmFtdW0gQmFzcyBCYXNzYV9WYWggQmF0YWsgQmF0ayBCZW5nIEJlbmdhbGkgQmhhaWtzdWtpIEJoa3MgQm9wbyBCb3BvbW9mbyBCcmFoIEJyYWhtaSBCcmFpIEJyYWlsbGUgQnVnaSBCdWdpbmVzZSBCdWhkIEJ1aGlkIENha20gQ2FuYWRpYW5fQWJvcmlnaW5hbCBDYW5zIENhcmkgQ2FyaWFuIENhdWNhc2lhbl9BbGJhbmlhbiBDaGFrbWEgQ2hhbSBDaGVyIENoZXJva2VlIENvbW1vbiBDb3B0IENvcHRpYyBDcHJ0IEN1bmVpZm9ybSBDeXByaW90IEN5cmlsbGljIEN5cmwgRGVzZXJldCBEZXZhIERldmFuYWdhcmkgRHNydCBEdXBsIER1cGxveWFuIEVneXAgRWd5cHRpYW5fSGllcm9nbHlwaHMgRWxiYSBFbGJhc2FuIEV0aGkgRXRoaW9waWMgR2VvciBHZW9yZ2lhbiBHbGFnIEdsYWdvbGl0aWMgR29ubSBHb3RoIEdvdGhpYyBHcmFuIEdyYW50aGEgR3JlZWsgR3JlayBHdWphcmF0aSBHdWpyIEd1cm11a2hpIEd1cnUgSGFuIEhhbmcgSGFuZ3VsIEhhbmkgSGFubyBIYW51bm9vIEhhdHIgSGF0cmFuIEhlYnIgSGVicmV3IEhpcmEgSGlyYWdhbmEgSGx1dyBIbW5nIEh1bmcgSW1wZXJpYWxfQXJhbWFpYyBJbmhlcml0ZWQgSW5zY3JpcHRpb25hbF9QYWhsYXZpIEluc2NyaXB0aW9uYWxfUGFydGhpYW4gSXRhbCBKYXZhIEphdmFuZXNlIEthaXRoaSBLYWxpIEthbmEgS2FubmFkYSBLYXRha2FuYSBLYXlhaF9MaSBLaGFyIEtoYXJvc2h0aGkgS2htZXIgS2htciBLaG9qIEtob2praSBLaHVkYXdhZGkgS25kYSBLdGhpIExhbmEgTGFvIExhb28gTGF0aW4gTGF0biBMZXBjIExlcGNoYSBMaW1iIExpbWJ1IExpbmEgTGluYiBMaW5lYXJfQSBMaW5lYXJfQiBMaXN1IEx5Y2kgTHljaWFuIEx5ZGkgTHlkaWFuIE1haGFqYW5pIE1haGogTWFsYXlhbGFtIE1hbmQgTWFuZGFpYyBNYW5pIE1hbmljaGFlYW4gTWFyYyBNYXJjaGVuIE1hc2FyYW1fR29uZGkgTWVldGVpX01heWVrIE1lbmQgTWVuZGVfS2lrYWt1aSBNZXJjIE1lcm8gTWVyb2l0aWNfQ3Vyc2l2ZSBNZXJvaXRpY19IaWVyb2dseXBocyBNaWFvIE1seW0gTW9kaSBNb25nIE1vbmdvbGlhbiBNcm8gTXJvbyBNdGVpIE11bHQgTXVsdGFuaSBNeWFubWFyIE15bXIgTmFiYXRhZWFuIE5hcmIgTmJhdCBOZXdfVGFpX0x1ZSBOZXdhIE5rbyBOa29vIE5zaHUgTnVzaHUgT2dhbSBPZ2hhbSBPbF9DaGlraSBPbGNrIE9sZF9IdW5nYXJpYW4gT2xkX0l0YWxpYyBPbGRfTm9ydGhfQXJhYmlhbiBPbGRfUGVybWljIE9sZF9QZXJzaWFuIE9sZF9Tb3V0aF9BcmFiaWFuIE9sZF9UdXJraWMgT3JpeWEgT3JraCBPcnlhIE9zYWdlIE9zZ2UgT3NtYSBPc21hbnlhIFBhaGF3aF9IbW9uZyBQYWxtIFBhbG15cmVuZSBQYXVfQ2luX0hhdSBQYXVjIFBlcm0gUGhhZyBQaGFnc19QYSBQaGxpIFBobHAgUGhueCBQaG9lbmljaWFuIFBscmQgUHJ0aSBQc2FsdGVyX1BhaGxhdmkgUWFhYyBRYWFpIFJlamFuZyBSam5nIFJ1bmljIFJ1bnIgU2FtYXJpdGFuIFNhbXIgU2FyYiBTYXVyIFNhdXJhc2h0cmEgU2dudyBTaGFyYWRhIFNoYXZpYW4gU2hhdyBTaHJkIFNpZGQgU2lkZGhhbSBTaWduV3JpdGluZyBTaW5kIFNpbmggU2luaGFsYSBTb3JhIFNvcmFfU29tcGVuZyBTb3lvIFNveW9tYm8gU3VuZCBTdW5kYW5lc2UgU3lsbyBTeWxvdGlfTmFncmkgU3lyYyBTeXJpYWMgVGFnYWxvZyBUYWdiIFRhZ2JhbndhIFRhaV9MZSBUYWlfVGhhbSBUYWlfVmlldCBUYWtyIFRha3JpIFRhbGUgVGFsdSBUYW1pbCBUYW1sIFRhbmcgVGFuZ3V0IFRhdnQgVGVsdSBUZWx1Z3UgVGZuZyBUZ2xnIFRoYWEgVGhhYW5hIFRoYWkgVGliZXRhbiBUaWJ0IFRpZmluYWdoIFRpcmggVGlyaHV0YSBVZ2FyIFVnYXJpdGljIFZhaSBWYWlpIFdhcmEgV2FyYW5nX0NpdGkgWHBlbyBYc3V4IFlpIFlpaWkgWmFuYWJhemFyX1NxdWFyZSBaYW5iIFppbmggWnl5eVwiLCBcIkRvZ3IgRG9ncmEgR29uZyBHdW5qYWxhX0dvbmRpIEhhbmlmaV9Sb2hpbmd5YSBNYWthIE1ha2FzYXIgTWVkZWZhaWRyaW4gTWVkZiBPbGRfU29nZGlhbiBSb2hnIFNvZ2QgU29nZGlhbiBTb2dvXCIsIFwiRWx5bSBFbHltYWljIEhtbnAgTmFuZCBOYW5kaW5hZ2FyaSBOeWlha2VuZ19QdWFjaHVlX0htb25nIFdhbmNobyBXY2hvXCIpO1xuY29uc3QgYmluUHJvcGVydHlTZXRzID0gbmV3IERhdGFTZXQoXCJBSGV4IEFTQ0lJIEFTQ0lJX0hleF9EaWdpdCBBbHBoYSBBbHBoYWJldGljIEFueSBBc3NpZ25lZCBCaWRpX0MgQmlkaV9Db250cm9sIEJpZGlfTSBCaWRpX01pcnJvcmVkIENJIENXQ0YgQ1dDTSBDV0tDRiBDV0wgQ1dUIENXVSBDYXNlX0lnbm9yYWJsZSBDYXNlZCBDaGFuZ2VzX1doZW5fQ2FzZWZvbGRlZCBDaGFuZ2VzX1doZW5fQ2FzZW1hcHBlZCBDaGFuZ2VzX1doZW5fTG93ZXJjYXNlZCBDaGFuZ2VzX1doZW5fTkZLQ19DYXNlZm9sZGVkIENoYW5nZXNfV2hlbl9UaXRsZWNhc2VkIENoYW5nZXNfV2hlbl9VcHBlcmNhc2VkIERJIERhc2ggRGVmYXVsdF9JZ25vcmFibGVfQ29kZV9Qb2ludCBEZXAgRGVwcmVjYXRlZCBEaWEgRGlhY3JpdGljIEVtb2ppIEVtb2ppX0NvbXBvbmVudCBFbW9qaV9Nb2RpZmllciBFbW9qaV9Nb2RpZmllcl9CYXNlIEVtb2ppX1ByZXNlbnRhdGlvbiBFeHQgRXh0ZW5kZXIgR3JfQmFzZSBHcl9FeHQgR3JhcGhlbWVfQmFzZSBHcmFwaGVtZV9FeHRlbmQgSGV4IEhleF9EaWdpdCBJREMgSURTIElEU0IgSURTVCBJRFNfQmluYXJ5X09wZXJhdG9yIElEU19UcmluYXJ5X09wZXJhdG9yIElEX0NvbnRpbnVlIElEX1N0YXJ0IElkZW8gSWRlb2dyYXBoaWMgSm9pbl9DIEpvaW5fQ29udHJvbCBMT0UgTG9naWNhbF9PcmRlcl9FeGNlcHRpb24gTG93ZXIgTG93ZXJjYXNlIE1hdGggTkNoYXIgTm9uY2hhcmFjdGVyX0NvZGVfUG9pbnQgUGF0X1N5biBQYXRfV1MgUGF0dGVybl9TeW50YXggUGF0dGVybl9XaGl0ZV9TcGFjZSBRTWFyayBRdW90YXRpb25fTWFyayBSSSBSYWRpY2FsIFJlZ2lvbmFsX0luZGljYXRvciBTRCBTVGVybSBTZW50ZW5jZV9UZXJtaW5hbCBTb2Z0X0RvdHRlZCBUZXJtIFRlcm1pbmFsX1B1bmN0dWF0aW9uIFVJZGVvIFVuaWZpZWRfSWRlb2dyYXBoIFVwcGVyIFVwcGVyY2FzZSBWUyBWYXJpYXRpb25fU2VsZWN0b3IgV2hpdGVfU3BhY2UgWElEQyBYSURTIFhJRF9Db250aW51ZSBYSURfU3RhcnQgc3BhY2VcIiwgXCJFeHRlbmRlZF9QaWN0b2dyYXBoaWNcIiwgXCJcIik7XG5mdW5jdGlvbiBpc1ZhbGlkVW5pY29kZVByb3BlcnR5KHZlcnNpb24sIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKGdjTmFtZVNldC5oYXMobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHZlcnNpb24gPj0gMjAxOCAmJiBnY1ZhbHVlU2V0cy5lczIwMTguaGFzKHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHNjTmFtZVNldC5oYXMobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICgodmVyc2lvbiA+PSAyMDE4ICYmIHNjVmFsdWVTZXRzLmVzMjAxOC5oYXModmFsdWUpKSB8fFxuICAgICAgICAgICAgKHZlcnNpb24gPj0gMjAxOSAmJiBzY1ZhbHVlU2V0cy5lczIwMTkuaGFzKHZhbHVlKSkgfHxcbiAgICAgICAgICAgICh2ZXJzaW9uID49IDIwMjAgJiYgc2NWYWx1ZVNldHMuZXMyMDIwLmhhcyh2YWx1ZSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNWYWxpZExvbmVVbmljb2RlUHJvcGVydHkodmVyc2lvbiwgdmFsdWUpIHtcbiAgICByZXR1cm4gKCh2ZXJzaW9uID49IDIwMTggJiYgYmluUHJvcGVydHlTZXRzLmVzMjAxOC5oYXModmFsdWUpKSB8fFxuICAgICAgICAodmVyc2lvbiA+PSAyMDE5ICYmIGJpblByb3BlcnR5U2V0cy5lczIwMTkuaGFzKHZhbHVlKSkpO1xufVxuXG5jb25zdCBCYWNrc3BhY2UgPSAweDA4O1xuY29uc3QgQ2hhcmFjdGVyVGFidWxhdGlvbiA9IDB4MDk7XG5jb25zdCBMaW5lRmVlZCA9IDB4MGE7XG5jb25zdCBMaW5lVGFidWxhdGlvbiA9IDB4MGI7XG5jb25zdCBGb3JtRmVlZCA9IDB4MGM7XG5jb25zdCBDYXJyaWFnZVJldHVybiA9IDB4MGQ7XG5jb25zdCBFeGNsYW1hdGlvbk1hcmsgPSAweDIxO1xuY29uc3QgRG9sbGFyU2lnbiA9IDB4MjQ7XG5jb25zdCBMZWZ0UGFyZW50aGVzaXMgPSAweDI4O1xuY29uc3QgUmlnaHRQYXJlbnRoZXNpcyA9IDB4Mjk7XG5jb25zdCBBc3RlcmlzayA9IDB4MmE7XG5jb25zdCBQbHVzU2lnbiA9IDB4MmI7XG5jb25zdCBDb21tYSA9IDB4MmM7XG5jb25zdCBIeXBoZW5NaW51cyA9IDB4MmQ7XG5jb25zdCBGdWxsU3RvcCA9IDB4MmU7XG5jb25zdCBTb2xpZHVzID0gMHgyZjtcbmNvbnN0IERpZ2l0WmVybyA9IDB4MzA7XG5jb25zdCBEaWdpdE9uZSA9IDB4MzE7XG5jb25zdCBEaWdpdFNldmVuID0gMHgzNztcbmNvbnN0IERpZ2l0TmluZSA9IDB4Mzk7XG5jb25zdCBDb2xvbiA9IDB4M2E7XG5jb25zdCBMZXNzVGhhblNpZ24gPSAweDNjO1xuY29uc3QgRXF1YWxzU2lnbiA9IDB4M2Q7XG5jb25zdCBHcmVhdGVyVGhhblNpZ24gPSAweDNlO1xuY29uc3QgUXVlc3Rpb25NYXJrID0gMHgzZjtcbmNvbnN0IExhdGluQ2FwaXRhbExldHRlckEgPSAweDQxO1xuY29uc3QgTGF0aW5DYXBpdGFsTGV0dGVyQiA9IDB4NDI7XG5jb25zdCBMYXRpbkNhcGl0YWxMZXR0ZXJEID0gMHg0NDtcbmNvbnN0IExhdGluQ2FwaXRhbExldHRlckYgPSAweDQ2O1xuY29uc3QgTGF0aW5DYXBpdGFsTGV0dGVyUCA9IDB4NTA7XG5jb25zdCBMYXRpbkNhcGl0YWxMZXR0ZXJTID0gMHg1MztcbmNvbnN0IExhdGluQ2FwaXRhbExldHRlclcgPSAweDU3O1xuY29uc3QgTGF0aW5DYXBpdGFsTGV0dGVyWiA9IDB4NWE7XG5jb25zdCBMb3dMaW5lID0gMHg1ZjtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJBID0gMHg2MTtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJCID0gMHg2MjtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJDID0gMHg2MztcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJEID0gMHg2NDtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJGID0gMHg2NjtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJHID0gMHg2NztcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJJID0gMHg2OTtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJLID0gMHg2YjtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJNID0gMHg2ZDtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJOID0gMHg2ZTtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJQID0gMHg3MDtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJSID0gMHg3MjtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJTID0gMHg3MztcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJUID0gMHg3NDtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJVID0gMHg3NTtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJWID0gMHg3NjtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJXID0gMHg3NztcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJYID0gMHg3ODtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJZID0gMHg3OTtcbmNvbnN0IExhdGluU21hbGxMZXR0ZXJaID0gMHg3YTtcbmNvbnN0IExlZnRTcXVhcmVCcmFja2V0ID0gMHg1YjtcbmNvbnN0IFJldmVyc2VTb2xpZHVzID0gMHg1YztcbmNvbnN0IFJpZ2h0U3F1YXJlQnJhY2tldCA9IDB4NWQ7XG5jb25zdCBDaXJjdW1mbGV4QWNjZW50ID0gMHg1ZTtcbmNvbnN0IExlZnRDdXJseUJyYWNrZXQgPSAweDdiO1xuY29uc3QgVmVydGljYWxMaW5lID0gMHg3YztcbmNvbnN0IFJpZ2h0Q3VybHlCcmFja2V0ID0gMHg3ZDtcbmNvbnN0IFplcm9XaWR0aE5vbkpvaW5lciA9IDB4MjAwYztcbmNvbnN0IFplcm9XaWR0aEpvaW5lciA9IDB4MjAwZDtcbmNvbnN0IExpbmVTZXBhcmF0b3IgPSAweDIwMjg7XG5jb25zdCBQYXJhZ3JhcGhTZXBhcmF0b3IgPSAweDIwMjk7XG5jb25zdCBNaW5Db2RlUG9pbnQgPSAweDAwO1xuY29uc3QgTWF4Q29kZVBvaW50ID0gMHgxMGZmZmY7XG5mdW5jdGlvbiBpc0xhdGluTGV0dGVyKGNvZGUpIHtcbiAgICByZXR1cm4gKChjb2RlID49IExhdGluQ2FwaXRhbExldHRlckEgJiYgY29kZSA8PSBMYXRpbkNhcGl0YWxMZXR0ZXJaKSB8fFxuICAgICAgICAoY29kZSA+PSBMYXRpblNtYWxsTGV0dGVyQSAmJiBjb2RlIDw9IExhdGluU21hbGxMZXR0ZXJaKSk7XG59XG5mdW5jdGlvbiBpc0RlY2ltYWxEaWdpdChjb2RlKSB7XG4gICAgcmV0dXJuIGNvZGUgPj0gRGlnaXRaZXJvICYmIGNvZGUgPD0gRGlnaXROaW5lO1xufVxuZnVuY3Rpb24gaXNPY3RhbERpZ2l0KGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA+PSBEaWdpdFplcm8gJiYgY29kZSA8PSBEaWdpdFNldmVuO1xufVxuZnVuY3Rpb24gaXNIZXhEaWdpdChjb2RlKSB7XG4gICAgcmV0dXJuICgoY29kZSA+PSBEaWdpdFplcm8gJiYgY29kZSA8PSBEaWdpdE5pbmUpIHx8XG4gICAgICAgIChjb2RlID49IExhdGluQ2FwaXRhbExldHRlckEgJiYgY29kZSA8PSBMYXRpbkNhcGl0YWxMZXR0ZXJGKSB8fFxuICAgICAgICAoY29kZSA+PSBMYXRpblNtYWxsTGV0dGVyQSAmJiBjb2RlIDw9IExhdGluU21hbGxMZXR0ZXJGKSk7XG59XG5mdW5jdGlvbiBpc0xpbmVUZXJtaW5hdG9yKGNvZGUpIHtcbiAgICByZXR1cm4gKGNvZGUgPT09IExpbmVGZWVkIHx8XG4gICAgICAgIGNvZGUgPT09IENhcnJpYWdlUmV0dXJuIHx8XG4gICAgICAgIGNvZGUgPT09IExpbmVTZXBhcmF0b3IgfHxcbiAgICAgICAgY29kZSA9PT0gUGFyYWdyYXBoU2VwYXJhdG9yKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRVbmljb2RlKGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA+PSBNaW5Db2RlUG9pbnQgJiYgY29kZSA8PSBNYXhDb2RlUG9pbnQ7XG59XG5mdW5jdGlvbiBkaWdpdFRvSW50KGNvZGUpIHtcbiAgICBpZiAoY29kZSA+PSBMYXRpblNtYWxsTGV0dGVyQSAmJiBjb2RlIDw9IExhdGluU21hbGxMZXR0ZXJGKSB7XG4gICAgICAgIHJldHVybiBjb2RlIC0gTGF0aW5TbWFsbExldHRlckEgKyAxMDtcbiAgICB9XG4gICAgaWYgKGNvZGUgPj0gTGF0aW5DYXBpdGFsTGV0dGVyQSAmJiBjb2RlIDw9IExhdGluQ2FwaXRhbExldHRlckYpIHtcbiAgICAgICAgcmV0dXJuIGNvZGUgLSBMYXRpbkNhcGl0YWxMZXR0ZXJBICsgMTA7XG4gICAgfVxuICAgIHJldHVybiBjb2RlIC0gRGlnaXRaZXJvO1xufVxuZnVuY3Rpb24gaXNMZWFkU3Vycm9nYXRlKGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA+PSAweGQ4MDAgJiYgY29kZSA8PSAweGRiZmY7XG59XG5mdW5jdGlvbiBpc1RyYWlsU3Vycm9nYXRlKGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA+PSAweGRjMDAgJiYgY29kZSA8PSAweGRmZmY7XG59XG5mdW5jdGlvbiBjb21iaW5lU3Vycm9nYXRlUGFpcihsZWFkLCB0cmFpbCkge1xuICAgIHJldHVybiAobGVhZCAtIDB4ZDgwMCkgKiAweDQwMCArICh0cmFpbCAtIDB4ZGMwMCkgKyAweDEwMDAwO1xufVxuXG5jb25zdCBsZWdhY3lJbXBsID0ge1xuICAgIGF0KHMsIGVuZCwgaSkge1xuICAgICAgICByZXR1cm4gaSA8IGVuZCA/IHMuY2hhckNvZGVBdChpKSA6IC0xO1xuICAgIH0sXG4gICAgd2lkdGgoYykge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9LFxufTtcbmNvbnN0IHVuaWNvZGVJbXBsID0ge1xuICAgIGF0KHMsIGVuZCwgaSkge1xuICAgICAgICByZXR1cm4gaSA8IGVuZCA/IHMuY29kZVBvaW50QXQoaSkgOiAtMTtcbiAgICB9LFxuICAgIHdpZHRoKGMpIHtcbiAgICAgICAgcmV0dXJuIGMgPiAweGZmZmYgPyAyIDogMTtcbiAgICB9LFxufTtcbmNsYXNzIFJlYWRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2ltcGwgPSBsZWdhY3lJbXBsO1xuICAgICAgICB0aGlzLl9zID0gXCJcIjtcbiAgICAgICAgdGhpcy5faSA9IDA7XG4gICAgICAgIHRoaXMuX2VuZCA9IDA7XG4gICAgICAgIHRoaXMuX2NwMSA9IC0xO1xuICAgICAgICB0aGlzLl93MSA9IDE7XG4gICAgICAgIHRoaXMuX2NwMiA9IC0xO1xuICAgICAgICB0aGlzLl93MiA9IDE7XG4gICAgICAgIHRoaXMuX2NwMyA9IC0xO1xuICAgICAgICB0aGlzLl93MyA9IDE7XG4gICAgICAgIHRoaXMuX2NwNCA9IC0xO1xuICAgIH1cbiAgICBnZXQgc291cmNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcztcbiAgICB9XG4gICAgZ2V0IGluZGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faTtcbiAgICB9XG4gICAgZ2V0IGN1cnJlbnRDb2RlUG9pbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcDE7XG4gICAgfVxuICAgIGdldCBuZXh0Q29kZVBvaW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3AyO1xuICAgIH1cbiAgICBnZXQgbmV4dENvZGVQb2ludDIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcDM7XG4gICAgfVxuICAgIGdldCBuZXh0Q29kZVBvaW50MygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NwNDtcbiAgICB9XG4gICAgcmVzZXQoc291cmNlLCBzdGFydCwgZW5kLCB1RmxhZykge1xuICAgICAgICB0aGlzLl9pbXBsID0gdUZsYWcgPyB1bmljb2RlSW1wbCA6IGxlZ2FjeUltcGw7XG4gICAgICAgIHRoaXMuX3MgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMuX2VuZCA9IGVuZDtcbiAgICAgICAgdGhpcy5yZXdpbmQoc3RhcnQpO1xuICAgIH1cbiAgICByZXdpbmQoaW5kZXgpIHtcbiAgICAgICAgY29uc3QgaW1wbCA9IHRoaXMuX2ltcGw7XG4gICAgICAgIHRoaXMuX2kgPSBpbmRleDtcbiAgICAgICAgdGhpcy5fY3AxID0gaW1wbC5hdCh0aGlzLl9zLCB0aGlzLl9lbmQsIGluZGV4KTtcbiAgICAgICAgdGhpcy5fdzEgPSBpbXBsLndpZHRoKHRoaXMuX2NwMSk7XG4gICAgICAgIHRoaXMuX2NwMiA9IGltcGwuYXQodGhpcy5fcywgdGhpcy5fZW5kLCBpbmRleCArIHRoaXMuX3cxKTtcbiAgICAgICAgdGhpcy5fdzIgPSBpbXBsLndpZHRoKHRoaXMuX2NwMik7XG4gICAgICAgIHRoaXMuX2NwMyA9IGltcGwuYXQodGhpcy5fcywgdGhpcy5fZW5kLCBpbmRleCArIHRoaXMuX3cxICsgdGhpcy5fdzIpO1xuICAgICAgICB0aGlzLl93MyA9IGltcGwud2lkdGgodGhpcy5fY3AzKTtcbiAgICAgICAgdGhpcy5fY3A0ID0gaW1wbC5hdCh0aGlzLl9zLCB0aGlzLl9lbmQsIGluZGV4ICsgdGhpcy5fdzEgKyB0aGlzLl93MiArIHRoaXMuX3czKTtcbiAgICB9XG4gICAgYWR2YW5jZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NwMSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGltcGwgPSB0aGlzLl9pbXBsO1xuICAgICAgICAgICAgdGhpcy5faSArPSB0aGlzLl93MTtcbiAgICAgICAgICAgIHRoaXMuX2NwMSA9IHRoaXMuX2NwMjtcbiAgICAgICAgICAgIHRoaXMuX3cxID0gdGhpcy5fdzI7XG4gICAgICAgICAgICB0aGlzLl9jcDIgPSB0aGlzLl9jcDM7XG4gICAgICAgICAgICB0aGlzLl93MiA9IGltcGwud2lkdGgodGhpcy5fY3AyKTtcbiAgICAgICAgICAgIHRoaXMuX2NwMyA9IHRoaXMuX2NwNDtcbiAgICAgICAgICAgIHRoaXMuX3czID0gaW1wbC53aWR0aCh0aGlzLl9jcDMpO1xuICAgICAgICAgICAgdGhpcy5fY3A0ID0gaW1wbC5hdCh0aGlzLl9zLCB0aGlzLl9lbmQsIHRoaXMuX2kgKyB0aGlzLl93MSArIHRoaXMuX3cyICsgdGhpcy5fdzMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVhdChjcCkge1xuICAgICAgICBpZiAodGhpcy5fY3AxID09PSBjcCkge1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVhdDIoY3AxLCBjcDIpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NwMSA9PT0gY3AxICYmIHRoaXMuX2NwMiA9PT0gY3AyKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXQzKGNwMSwgY3AyLCBjcDMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NwMSA9PT0gY3AxICYmIHRoaXMuX2NwMiA9PT0gY3AyICYmIHRoaXMuX2NwMyA9PT0gY3AzKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5jbGFzcyBSZWdFeHBTeW50YXhFcnJvciBleHRlbmRzIFN5bnRheEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UsIHVGbGFnLCBpbmRleCwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IGAvJHtzb3VyY2V9LyR7dUZsYWcgPyBcInVcIiA6IFwiXCJ9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZSA9IGA6ICR7c291cmNlfWA7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoYEludmFsaWQgcmVndWxhciBleHByZXNzaW9uJHtzb3VyY2V9OiAke21lc3NhZ2V9YCk7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzU3ludGF4Q2hhcmFjdGVyKGNwKSB7XG4gICAgcmV0dXJuIChjcCA9PT0gQ2lyY3VtZmxleEFjY2VudCB8fFxuICAgICAgICBjcCA9PT0gRG9sbGFyU2lnbiB8fFxuICAgICAgICBjcCA9PT0gUmV2ZXJzZVNvbGlkdXMgfHxcbiAgICAgICAgY3AgPT09IEZ1bGxTdG9wIHx8XG4gICAgICAgIGNwID09PSBBc3RlcmlzayB8fFxuICAgICAgICBjcCA9PT0gUGx1c1NpZ24gfHxcbiAgICAgICAgY3AgPT09IFF1ZXN0aW9uTWFyayB8fFxuICAgICAgICBjcCA9PT0gTGVmdFBhcmVudGhlc2lzIHx8XG4gICAgICAgIGNwID09PSBSaWdodFBhcmVudGhlc2lzIHx8XG4gICAgICAgIGNwID09PSBMZWZ0U3F1YXJlQnJhY2tldCB8fFxuICAgICAgICBjcCA9PT0gUmlnaHRTcXVhcmVCcmFja2V0IHx8XG4gICAgICAgIGNwID09PSBMZWZ0Q3VybHlCcmFja2V0IHx8XG4gICAgICAgIGNwID09PSBSaWdodEN1cmx5QnJhY2tldCB8fFxuICAgICAgICBjcCA9PT0gVmVydGljYWxMaW5lKTtcbn1cbmZ1bmN0aW9uIGlzUmVnRXhwSWRlbnRpZmllclN0YXJ0KGNwKSB7XG4gICAgcmV0dXJuIGlzSWRTdGFydChjcCkgfHwgY3AgPT09IERvbGxhclNpZ24gfHwgY3AgPT09IExvd0xpbmU7XG59XG5mdW5jdGlvbiBpc1JlZ0V4cElkZW50aWZpZXJQYXJ0KGNwKSB7XG4gICAgcmV0dXJuIChpc0lkQ29udGludWUoY3ApIHx8XG4gICAgICAgIGNwID09PSBEb2xsYXJTaWduIHx8XG4gICAgICAgIGNwID09PSBMb3dMaW5lIHx8XG4gICAgICAgIGNwID09PSBaZXJvV2lkdGhOb25Kb2luZXIgfHxcbiAgICAgICAgY3AgPT09IFplcm9XaWR0aEpvaW5lcik7XG59XG5mdW5jdGlvbiBpc1VuaWNvZGVQcm9wZXJ0eU5hbWVDaGFyYWN0ZXIoY3ApIHtcbiAgICByZXR1cm4gaXNMYXRpbkxldHRlcihjcCkgfHwgY3AgPT09IExvd0xpbmU7XG59XG5mdW5jdGlvbiBpc1VuaWNvZGVQcm9wZXJ0eVZhbHVlQ2hhcmFjdGVyKGNwKSB7XG4gICAgcmV0dXJuIGlzVW5pY29kZVByb3BlcnR5TmFtZUNoYXJhY3RlcihjcCkgfHwgaXNEZWNpbWFsRGlnaXQoY3ApO1xufVxuY2xhc3MgUmVnRXhwVmFsaWRhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3JlYWRlciA9IG5ldyBSZWFkZXIoKTtcbiAgICAgICAgdGhpcy5fdUZsYWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbkZsYWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gMDtcbiAgICAgICAgdGhpcy5fbGFzdE1pblZhbHVlID0gMDtcbiAgICAgICAgdGhpcy5fbGFzdE1heFZhbHVlID0gMDtcbiAgICAgICAgdGhpcy5fbGFzdFN0clZhbHVlID0gXCJcIjtcbiAgICAgICAgdGhpcy5fbGFzdEtleVZhbHVlID0gXCJcIjtcbiAgICAgICAgdGhpcy5fbGFzdFZhbFZhbHVlID0gXCJcIjtcbiAgICAgICAgdGhpcy5fbGFzdEFzc2VydGlvbklzUXVhbnRpZmlhYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX251bUNhcHR1cmluZ1BhcmVucyA9IDA7XG4gICAgICAgIHRoaXMuX2dyb3VwTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX2JhY2tyZWZlcmVuY2VOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgfVxuICAgIHZhbGlkYXRlTGl0ZXJhbChzb3VyY2UsIHN0YXJ0ID0gMCwgZW5kID0gc291cmNlLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl91RmxhZyA9IHRoaXMuX25GbGFnID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVzZXQoc291cmNlLCBzdGFydCwgZW5kKTtcbiAgICAgICAgdGhpcy5vbkxpdGVyYWxFbnRlcihzdGFydCk7XG4gICAgICAgIGlmICh0aGlzLmVhdChTb2xpZHVzKSAmJiB0aGlzLmVhdFJlZ0V4cEJvZHkoKSAmJiB0aGlzLmVhdChTb2xpZHVzKSkge1xuICAgICAgICAgICAgY29uc3QgZmxhZ1N0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgICAgIGNvbnN0IHVGbGFnID0gc291cmNlLmluY2x1ZGVzKFwidVwiLCBmbGFnU3RhcnQpO1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUZsYWdzKHNvdXJjZSwgZmxhZ1N0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVBhdHRlcm4oc291cmNlLCBzdGFydCArIDEsIGZsYWdTdGFydCAtIDEsIHVGbGFnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICAgICAgICAgIHRoaXMucmFpc2UoXCJFbXB0eVwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBTdHJpbmcuZnJvbUNvZGVQb2ludCh0aGlzLmN1cnJlbnRDb2RlUG9pbnQpO1xuICAgICAgICAgICAgdGhpcy5yYWlzZShgVW5leHBlY3RlZCBjaGFyYWN0ZXIgJyR7Y30nYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkxpdGVyYWxMZWF2ZShzdGFydCwgZW5kKTtcbiAgICB9XG4gICAgdmFsaWRhdGVGbGFncyhzb3VyY2UsIHN0YXJ0ID0gMCwgZW5kID0gc291cmNlLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBleGlzdGluZ0ZsYWdzID0gbmV3IFNldCgpO1xuICAgICAgICBsZXQgZ2xvYmFsID0gZmFsc2U7XG4gICAgICAgIGxldCBpZ25vcmVDYXNlID0gZmFsc2U7XG4gICAgICAgIGxldCBtdWx0aWxpbmUgPSBmYWxzZTtcbiAgICAgICAgbGV0IHN0aWNreSA9IGZhbHNlO1xuICAgICAgICBsZXQgdW5pY29kZSA9IGZhbHNlO1xuICAgICAgICBsZXQgZG90QWxsID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBmbGFnID0gc291cmNlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdGbGFncy5oYXMoZmxhZykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKGBEdXBsaWNhdGVkIGZsYWcgJyR7c291cmNlW2ldfSdgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4aXN0aW5nRmxhZ3MuYWRkKGZsYWcpO1xuICAgICAgICAgICAgaWYgKGZsYWcgPT09IExhdGluU21hbGxMZXR0ZXJHKSB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZsYWcgPT09IExhdGluU21hbGxMZXR0ZXJJKSB7XG4gICAgICAgICAgICAgICAgaWdub3JlQ2FzZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmbGFnID09PSBMYXRpblNtYWxsTGV0dGVyTSkge1xuICAgICAgICAgICAgICAgIG11bHRpbGluZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmbGFnID09PSBMYXRpblNtYWxsTGV0dGVyVSAmJiB0aGlzLmVjbWFWZXJzaW9uID49IDIwMTUpIHtcbiAgICAgICAgICAgICAgICB1bmljb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZsYWcgPT09IExhdGluU21hbGxMZXR0ZXJZICYmIHRoaXMuZWNtYVZlcnNpb24gPj0gMjAxNSkge1xuICAgICAgICAgICAgICAgIHN0aWNreSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmbGFnID09PSBMYXRpblNtYWxsTGV0dGVyUyAmJiB0aGlzLmVjbWFWZXJzaW9uID49IDIwMTgpIHtcbiAgICAgICAgICAgICAgICBkb3RBbGwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShgSW52YWxpZCBmbGFnICcke3NvdXJjZVtpXX0nYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkZsYWdzKHN0YXJ0LCBlbmQsIGdsb2JhbCwgaWdub3JlQ2FzZSwgbXVsdGlsaW5lLCB1bmljb2RlLCBzdGlja3ksIGRvdEFsbCk7XG4gICAgfVxuICAgIHZhbGlkYXRlUGF0dGVybihzb3VyY2UsIHN0YXJ0ID0gMCwgZW5kID0gc291cmNlLmxlbmd0aCwgdUZsYWcgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLl91RmxhZyA9IHVGbGFnICYmIHRoaXMuZWNtYVZlcnNpb24gPj0gMjAxNTtcbiAgICAgICAgdGhpcy5fbkZsYWcgPSB1RmxhZyAmJiB0aGlzLmVjbWFWZXJzaW9uID49IDIwMTg7XG4gICAgICAgIHRoaXMucmVzZXQoc291cmNlLCBzdGFydCwgZW5kKTtcbiAgICAgICAgdGhpcy5jb25zdW1lUGF0dGVybigpO1xuICAgICAgICBpZiAoIXRoaXMuX25GbGFnICYmXG4gICAgICAgICAgICB0aGlzLmVjbWFWZXJzaW9uID49IDIwMTggJiZcbiAgICAgICAgICAgIHRoaXMuX2dyb3VwTmFtZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX25GbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucmV3aW5kKHN0YXJ0KTtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZVBhdHRlcm4oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc3RyaWN0KCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLl9vcHRpb25zLnN0cmljdCB8fCB0aGlzLl91RmxhZyk7XG4gICAgfVxuICAgIGdldCBlY21hVmVyc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnMuZWNtYVZlcnNpb24gfHwgMjAyMDtcbiAgICB9XG4gICAgb25MaXRlcmFsRW50ZXIoc3RhcnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25MaXRlcmFsRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25MaXRlcmFsRW50ZXIoc3RhcnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uTGl0ZXJhbExlYXZlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25MaXRlcmFsTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25MaXRlcmFsTGVhdmUoc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25GbGFncyhzdGFydCwgZW5kLCBnbG9iYWwsIGlnbm9yZUNhc2UsIG11bHRpbGluZSwgdW5pY29kZSwgc3RpY2t5LCBkb3RBbGwpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25GbGFncykge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vbkZsYWdzKHN0YXJ0LCBlbmQsIGdsb2JhbCwgaWdub3JlQ2FzZSwgbXVsdGlsaW5lLCB1bmljb2RlLCBzdGlja3ksIGRvdEFsbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25QYXR0ZXJuRW50ZXIoc3RhcnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25QYXR0ZXJuRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25QYXR0ZXJuRW50ZXIoc3RhcnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uUGF0dGVybkxlYXZlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25QYXR0ZXJuTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25QYXR0ZXJuTGVhdmUoc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25EaXNqdW5jdGlvbkVudGVyKHN0YXJ0KSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uRGlzanVuY3Rpb25FbnRlcikge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vbkRpc2p1bmN0aW9uRW50ZXIoc3RhcnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRGlzanVuY3Rpb25MZWF2ZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uRGlzanVuY3Rpb25MZWF2ZSkge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vbkRpc2p1bmN0aW9uTGVhdmUoc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25BbHRlcm5hdGl2ZUVudGVyKHN0YXJ0LCBpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkFsdGVybmF0aXZlRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25BbHRlcm5hdGl2ZUVudGVyKHN0YXJ0LCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25BbHRlcm5hdGl2ZUxlYXZlKHN0YXJ0LCBlbmQsIGluZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uQWx0ZXJuYXRpdmVMZWF2ZSkge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vbkFsdGVybmF0aXZlTGVhdmUoc3RhcnQsIGVuZCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uR3JvdXBFbnRlcihzdGFydCkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkdyb3VwRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25Hcm91cEVudGVyKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkdyb3VwTGVhdmUoc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkdyb3VwTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25Hcm91cExlYXZlKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQ2FwdHVyaW5nR3JvdXBFbnRlcihzdGFydCwgbmFtZSkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkNhcHR1cmluZ0dyb3VwRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25DYXB0dXJpbmdHcm91cEVudGVyKHN0YXJ0LCBuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkNhcHR1cmluZ0dyb3VwTGVhdmUoc3RhcnQsIGVuZCwgbmFtZSkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkNhcHR1cmluZ0dyb3VwTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25DYXB0dXJpbmdHcm91cExlYXZlKHN0YXJ0LCBlbmQsIG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uUXVhbnRpZmllcihzdGFydCwgZW5kLCBtaW4sIG1heCwgZ3JlZWR5KSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uUXVhbnRpZmllcikge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vblF1YW50aWZpZXIoc3RhcnQsIGVuZCwgbWluLCBtYXgsIGdyZWVkeSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25Mb29rYXJvdW5kQXNzZXJ0aW9uRW50ZXIoc3RhcnQsIGtpbmQsIG5lZ2F0ZSkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkxvb2thcm91bmRBc3NlcnRpb25FbnRlcikge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vbkxvb2thcm91bmRBc3NlcnRpb25FbnRlcihzdGFydCwga2luZCwgbmVnYXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkxvb2thcm91bmRBc3NlcnRpb25MZWF2ZShzdGFydCwgZW5kLCBraW5kLCBuZWdhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25Mb29rYXJvdW5kQXNzZXJ0aW9uTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25Mb29rYXJvdW5kQXNzZXJ0aW9uTGVhdmUoc3RhcnQsIGVuZCwga2luZCwgbmVnYXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkVkZ2VBc3NlcnRpb24oc3RhcnQsIGVuZCwga2luZCkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkVkZ2VBc3NlcnRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25FZGdlQXNzZXJ0aW9uKHN0YXJ0LCBlbmQsIGtpbmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uV29yZEJvdW5kYXJ5QXNzZXJ0aW9uKHN0YXJ0LCBlbmQsIGtpbmQsIG5lZ2F0ZSkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbldvcmRCb3VuZGFyeUFzc2VydGlvbikge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vbldvcmRCb3VuZGFyeUFzc2VydGlvbihzdGFydCwgZW5kLCBraW5kLCBuZWdhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQW55Q2hhcmFjdGVyU2V0KHN0YXJ0LCBlbmQsIGtpbmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25BbnlDaGFyYWN0ZXJTZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25BbnlDaGFyYWN0ZXJTZXQoc3RhcnQsIGVuZCwga2luZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25Fc2NhcGVDaGFyYWN0ZXJTZXQoc3RhcnQsIGVuZCwga2luZCwgbmVnYXRlKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uRXNjYXBlQ2hhcmFjdGVyU2V0KSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uRXNjYXBlQ2hhcmFjdGVyU2V0KHN0YXJ0LCBlbmQsIGtpbmQsIG5lZ2F0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25Vbmljb2RlUHJvcGVydHlDaGFyYWN0ZXJTZXQoc3RhcnQsIGVuZCwga2luZCwga2V5LCB2YWx1ZSwgbmVnYXRlKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uVW5pY29kZVByb3BlcnR5Q2hhcmFjdGVyU2V0KSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uVW5pY29kZVByb3BlcnR5Q2hhcmFjdGVyU2V0KHN0YXJ0LCBlbmQsIGtpbmQsIGtleSwgdmFsdWUsIG5lZ2F0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25DaGFyYWN0ZXIoc3RhcnQsIGVuZCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25DaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25DaGFyYWN0ZXIoc3RhcnQsIGVuZCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQmFja3JlZmVyZW5jZShzdGFydCwgZW5kLCByZWYpIHtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25CYWNrcmVmZXJlbmNlKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLm9uQmFja3JlZmVyZW5jZShzdGFydCwgZW5kLCByZWYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQ2hhcmFjdGVyQ2xhc3NFbnRlcihzdGFydCwgbmVnYXRlKSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uQ2hhcmFjdGVyQ2xhc3NFbnRlcikge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vbkNoYXJhY3RlckNsYXNzRW50ZXIoc3RhcnQsIG5lZ2F0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25DaGFyYWN0ZXJDbGFzc0xlYXZlKHN0YXJ0LCBlbmQsIG5lZ2F0ZSkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbkNoYXJhY3RlckNsYXNzTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMub25DaGFyYWN0ZXJDbGFzc0xlYXZlKHN0YXJ0LCBlbmQsIG5lZ2F0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25DaGFyYWN0ZXJDbGFzc1JhbmdlKHN0YXJ0LCBlbmQsIG1pbiwgbWF4KSB7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uQ2hhcmFjdGVyQ2xhc3NSYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5vbkNoYXJhY3RlckNsYXNzUmFuZ2Uoc3RhcnQsIGVuZCwgbWluLCBtYXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBzb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkZXIuc291cmNlO1xuICAgIH1cbiAgICBnZXQgaW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkZXIuaW5kZXg7XG4gICAgfVxuICAgIGdldCBjdXJyZW50Q29kZVBvaW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZGVyLmN1cnJlbnRDb2RlUG9pbnQ7XG4gICAgfVxuICAgIGdldCBuZXh0Q29kZVBvaW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZGVyLm5leHRDb2RlUG9pbnQ7XG4gICAgfVxuICAgIGdldCBuZXh0Q29kZVBvaW50MigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWRlci5uZXh0Q29kZVBvaW50MjtcbiAgICB9XG4gICAgZ2V0IG5leHRDb2RlUG9pbnQzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZGVyLm5leHRDb2RlUG9pbnQzO1xuICAgIH1cbiAgICByZXNldChzb3VyY2UsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgdGhpcy5fcmVhZGVyLnJlc2V0KHNvdXJjZSwgc3RhcnQsIGVuZCwgdGhpcy5fdUZsYWcpO1xuICAgIH1cbiAgICByZXdpbmQoaW5kZXgpIHtcbiAgICAgICAgdGhpcy5fcmVhZGVyLnJld2luZChpbmRleCk7XG4gICAgfVxuICAgIGFkdmFuY2UoKSB7XG4gICAgICAgIHRoaXMuX3JlYWRlci5hZHZhbmNlKCk7XG4gICAgfVxuICAgIGVhdChjcCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZGVyLmVhdChjcCk7XG4gICAgfVxuICAgIGVhdDIoY3AxLCBjcDIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWRlci5lYXQyKGNwMSwgY3AyKTtcbiAgICB9XG4gICAgZWF0MyhjcDEsIGNwMiwgY3AzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkZXIuZWF0MyhjcDEsIGNwMiwgY3AzKTtcbiAgICB9XG4gICAgcmFpc2UobWVzc2FnZSkge1xuICAgICAgICB0aHJvdyBuZXcgUmVnRXhwU3ludGF4RXJyb3IodGhpcy5zb3VyY2UsIHRoaXMuX3VGbGFnLCB0aGlzLmluZGV4LCBtZXNzYWdlKTtcbiAgICB9XG4gICAgZWF0UmVnRXhwQm9keSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBsZXQgaW5DbGFzcyA9IGZhbHNlO1xuICAgICAgICBsZXQgZXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBjb25zdCBjcCA9IHRoaXMuY3VycmVudENvZGVQb2ludDtcbiAgICAgICAgICAgIGlmIChjcCA9PT0gLTEgfHwgaXNMaW5lVGVybWluYXRvcihjcCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBraW5kID0gaW5DbGFzcyA/IFwiY2hhcmFjdGVyIGNsYXNzXCIgOiBcInJlZ3VsYXIgZXhwcmVzc2lvblwiO1xuICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoYFVudGVybWluYXRlZCAke2tpbmR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXNjYXBlZCkge1xuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNwID09PSBSZXZlcnNlU29saWR1cykge1xuICAgICAgICAgICAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3AgPT09IExlZnRTcXVhcmVCcmFja2V0KSB7XG4gICAgICAgICAgICAgICAgaW5DbGFzcyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjcCA9PT0gUmlnaHRTcXVhcmVCcmFja2V0KSB7XG4gICAgICAgICAgICAgICAgaW5DbGFzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKGNwID09PSBTb2xpZHVzICYmICFpbkNsYXNzKSB8fFxuICAgICAgICAgICAgICAgIChjcCA9PT0gQXN0ZXJpc2sgJiYgdGhpcy5pbmRleCA9PT0gc3RhcnQpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbmRleCAhPT0gc3RhcnQ7XG4gICAgfVxuICAgIGNvbnN1bWVQYXR0ZXJuKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIHRoaXMuX251bUNhcHR1cmluZ1BhcmVucyA9IHRoaXMuY291bnRDYXB0dXJpbmdQYXJlbnMoKTtcbiAgICAgICAgdGhpcy5fZ3JvdXBOYW1lcy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9iYWNrcmVmZXJlbmNlTmFtZXMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5vblBhdHRlcm5FbnRlcihzdGFydCk7XG4gICAgICAgIHRoaXMuY29uc3VtZURpc2p1bmN0aW9uKCk7XG4gICAgICAgIGNvbnN0IGNwID0gdGhpcy5jdXJyZW50Q29kZVBvaW50O1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29kZVBvaW50ICE9PSAtMSkge1xuICAgICAgICAgICAgaWYgKGNwID09PSBSaWdodFBhcmVudGhlc2lzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIlVubWF0Y2hlZCAnKSdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3AgPT09IFJldmVyc2VTb2xpZHVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIlxcXFwgYXQgZW5kIG9mIHBhdHRlcm5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3AgPT09IFJpZ2h0U3F1YXJlQnJhY2tldCB8fCBjcCA9PT0gUmlnaHRDdXJseUJyYWNrZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKFwiTG9uZSBxdWFudGlmaWVyIGJyYWNrZXRzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYyA9IFN0cmluZy5mcm9tQ29kZVBvaW50KGNwKTtcbiAgICAgICAgICAgIHRoaXMucmFpc2UoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyICcke2N9J2ApO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiB0aGlzLl9iYWNrcmVmZXJlbmNlTmFtZXMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZ3JvdXBOYW1lcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKFwiSW52YWxpZCBuYW1lZCBjYXB0dXJlIHJlZmVyZW5jZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vblBhdHRlcm5MZWF2ZShzdGFydCwgdGhpcy5pbmRleCk7XG4gICAgfVxuICAgIGNvdW50Q2FwdHVyaW5nUGFyZW5zKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGxldCBpbkNsYXNzID0gZmFsc2U7XG4gICAgICAgIGxldCBlc2NhcGVkID0gZmFsc2U7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGxldCBjcCA9IDA7XG4gICAgICAgIHdoaWxlICgoY3AgPSB0aGlzLmN1cnJlbnRDb2RlUG9pbnQpICE9PSAtMSkge1xuICAgICAgICAgICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjcCA9PT0gUmV2ZXJzZVNvbGlkdXMpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNwID09PSBMZWZ0U3F1YXJlQnJhY2tldCkge1xuICAgICAgICAgICAgICAgIGluQ2xhc3MgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3AgPT09IFJpZ2h0U3F1YXJlQnJhY2tldCkge1xuICAgICAgICAgICAgICAgIGluQ2xhc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNwID09PSBMZWZ0UGFyZW50aGVzaXMgJiZcbiAgICAgICAgICAgICAgICAhaW5DbGFzcyAmJlxuICAgICAgICAgICAgICAgICh0aGlzLm5leHRDb2RlUG9pbnQgIT09IFF1ZXN0aW9uTWFyayB8fFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5uZXh0Q29kZVBvaW50MiA9PT0gTGVzc1RoYW5TaWduICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRDb2RlUG9pbnQzICE9PSBFcXVhbHNTaWduICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRDb2RlUG9pbnQzICE9PSBFeGNsYW1hdGlvbk1hcmspKSkge1xuICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJld2luZChzdGFydCk7XG4gICAgICAgIHJldHVybiBjb3VudDtcbiAgICB9XG4gICAgY29uc3VtZURpc2p1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgdGhpcy5vbkRpc2p1bmN0aW9uRW50ZXIoc3RhcnQpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVBbHRlcm5hdGl2ZShpKyspO1xuICAgICAgICB9IHdoaWxlICh0aGlzLmVhdChWZXJ0aWNhbExpbmUpKTtcbiAgICAgICAgaWYgKHRoaXMuY29uc3VtZVF1YW50aWZpZXIodHJ1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMucmFpc2UoXCJOb3RoaW5nIHRvIHJlcGVhdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lYXQoTGVmdEN1cmx5QnJhY2tldCkpIHtcbiAgICAgICAgICAgIHRoaXMucmFpc2UoXCJMb25lIHF1YW50aWZpZXIgYnJhY2tldHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkRpc2p1bmN0aW9uTGVhdmUoc3RhcnQsIHRoaXMuaW5kZXgpO1xuICAgIH1cbiAgICBjb25zdW1lQWx0ZXJuYXRpdmUoaSkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIHRoaXMub25BbHRlcm5hdGl2ZUVudGVyKHN0YXJ0LCBpKTtcbiAgICAgICAgd2hpbGUgKHRoaXMuY3VycmVudENvZGVQb2ludCAhPT0gLTEgJiYgdGhpcy5jb25zdW1lVGVybSgpKSB7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkFsdGVybmF0aXZlTGVhdmUoc3RhcnQsIHRoaXMuaW5kZXgsIGkpO1xuICAgIH1cbiAgICBjb25zdW1lVGVybSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3VGbGFnIHx8IHRoaXMuc3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuY29uc3VtZUFzc2VydGlvbigpIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMuY29uc3VtZUF0b20oKSAmJiB0aGlzLmNvbnN1bWVPcHRpb25hbFF1YW50aWZpZXIoKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKHRoaXMuY29uc3VtZUFzc2VydGlvbigpICYmXG4gICAgICAgICAgICAoIXRoaXMuX2xhc3RBc3NlcnRpb25Jc1F1YW50aWZpYWJsZSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZU9wdGlvbmFsUXVhbnRpZmllcigpKSkgfHxcbiAgICAgICAgICAgICh0aGlzLmNvbnN1bWVFeHRlbmRlZEF0b20oKSAmJiB0aGlzLmNvbnN1bWVPcHRpb25hbFF1YW50aWZpZXIoKSkpO1xuICAgIH1cbiAgICBjb25zdW1lT3B0aW9uYWxRdWFudGlmaWVyKCkge1xuICAgICAgICB0aGlzLmNvbnN1bWVRdWFudGlmaWVyKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdW1lQXNzZXJ0aW9uKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIHRoaXMuX2xhc3RBc3NlcnRpb25Jc1F1YW50aWZpYWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5lYXQoQ2lyY3VtZmxleEFjY2VudCkpIHtcbiAgICAgICAgICAgIHRoaXMub25FZGdlQXNzZXJ0aW9uKHN0YXJ0LCB0aGlzLmluZGV4LCBcInN0YXJ0XCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWF0KERvbGxhclNpZ24pKSB7XG4gICAgICAgICAgICB0aGlzLm9uRWRnZUFzc2VydGlvbihzdGFydCwgdGhpcy5pbmRleCwgXCJlbmRcIik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lYXQyKFJldmVyc2VTb2xpZHVzLCBMYXRpbkNhcGl0YWxMZXR0ZXJCKSkge1xuICAgICAgICAgICAgdGhpcy5vbldvcmRCb3VuZGFyeUFzc2VydGlvbihzdGFydCwgdGhpcy5pbmRleCwgXCJ3b3JkXCIsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWF0MihSZXZlcnNlU29saWR1cywgTGF0aW5TbWFsbExldHRlckIpKSB7XG4gICAgICAgICAgICB0aGlzLm9uV29yZEJvdW5kYXJ5QXNzZXJ0aW9uKHN0YXJ0LCB0aGlzLmluZGV4LCBcIndvcmRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWF0MihMZWZ0UGFyZW50aGVzaXMsIFF1ZXN0aW9uTWFyaykpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvb2tiZWhpbmQgPSB0aGlzLmVjbWFWZXJzaW9uID49IDIwMTggJiYgdGhpcy5lYXQoTGVzc1RoYW5TaWduKTtcbiAgICAgICAgICAgIGxldCBuZWdhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhdChFcXVhbHNTaWduKSB8fCAobmVnYXRlID0gdGhpcy5lYXQoRXhjbGFtYXRpb25NYXJrKSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBraW5kID0gbG9va2JlaGluZCA/IFwibG9va2JlaGluZFwiIDogXCJsb29rYWhlYWRcIjtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTG9va2Fyb3VuZEFzc2VydGlvbkVudGVyKHN0YXJ0LCBraW5kLCBuZWdhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZURpc2p1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmVhdChSaWdodFBhcmVudGhlc2lzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKFwiVW50ZXJtaW5hdGVkIGdyb3VwXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0QXNzZXJ0aW9uSXNRdWFudGlmaWFibGUgPSAhbG9va2JlaGluZCAmJiAhdGhpcy5zdHJpY3Q7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkxvb2thcm91bmRBc3NlcnRpb25MZWF2ZShzdGFydCwgdGhpcy5pbmRleCwga2luZCwgbmVnYXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmV3aW5kKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN1bWVRdWFudGlmaWVyKG5vQ29uc3VtZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgbGV0IG1pbiA9IDA7XG4gICAgICAgIGxldCBtYXggPSAwO1xuICAgICAgICBsZXQgZ3JlZWR5ID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmVhdChBc3RlcmlzaykpIHtcbiAgICAgICAgICAgIG1pbiA9IDA7XG4gICAgICAgICAgICBtYXggPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5lYXQoUGx1c1NpZ24pKSB7XG4gICAgICAgICAgICBtaW4gPSAxO1xuICAgICAgICAgICAgbWF4ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZWF0KFF1ZXN0aW9uTWFyaykpIHtcbiAgICAgICAgICAgIG1pbiA9IDA7XG4gICAgICAgICAgICBtYXggPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZWF0QnJhY2VkUXVhbnRpZmllcihub0NvbnN1bWUpKSB7XG4gICAgICAgICAgICBtaW4gPSB0aGlzLl9sYXN0TWluVmFsdWU7XG4gICAgICAgICAgICBtYXggPSB0aGlzLl9sYXN0TWF4VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZ3JlZWR5ID0gIXRoaXMuZWF0KFF1ZXN0aW9uTWFyayk7XG4gICAgICAgIGlmICghbm9Db25zdW1lKSB7XG4gICAgICAgICAgICB0aGlzLm9uUXVhbnRpZmllcihzdGFydCwgdGhpcy5pbmRleCwgbWluLCBtYXgsIGdyZWVkeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVhdEJyYWNlZFF1YW50aWZpZXIobm9FcnJvcikge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmVhdChMZWZ0Q3VybHlCcmFja2V0KSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE1pblZhbHVlID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RNYXhWYWx1ZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhdERlY2ltYWxEaWdpdHMoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RNaW5WYWx1ZSA9IHRoaXMuX2xhc3RNYXhWYWx1ZSA9IHRoaXMuX2xhc3RJbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lYXQoQ29tbWEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RNYXhWYWx1ZSA9IHRoaXMuZWF0RGVjaW1hbERpZ2l0cygpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuX2xhc3RJbnRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVhdChSaWdodEN1cmx5QnJhY2tldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFub0Vycm9yICYmIHRoaXMuX2xhc3RNYXhWYWx1ZSA8IHRoaXMuX2xhc3RNaW5WYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIm51bWJlcnMgb3V0IG9mIG9yZGVyIGluIHt9IHF1YW50aWZpZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFub0Vycm9yICYmICh0aGlzLl91RmxhZyB8fCB0aGlzLnN0cmljdCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKFwiSW5jb21wbGV0ZSBxdWFudGlmaWVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXdpbmQoc3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZUF0b20oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5jb25zdW1lUGF0dGVybkNoYXJhY3RlcigpIHx8XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVEb3QoKSB8fFxuICAgICAgICAgICAgdGhpcy5jb25zdW1lUmV2ZXJzZVNvbGlkdXNBdG9tRXNjYXBlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXJhY3RlckNsYXNzKCkgfHxcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZVVuY2FwdHVyaW5nR3JvdXAoKSB8fFxuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2FwdHVyaW5nR3JvdXAoKSk7XG4gICAgfVxuICAgIGNvbnN1bWVEb3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmVhdChGdWxsU3RvcCkpIHtcbiAgICAgICAgICAgIHRoaXMub25BbnlDaGFyYWN0ZXJTZXQodGhpcy5pbmRleCAtIDEsIHRoaXMuaW5kZXgsIFwiYW55XCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdW1lUmV2ZXJzZVNvbGlkdXNBdG9tRXNjYXBlKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmVhdChSZXZlcnNlU29saWR1cykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnN1bWVBdG9tRXNjYXBlKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmV3aW5kKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN1bWVVbmNhcHR1cmluZ0dyb3VwKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmVhdDMoTGVmdFBhcmVudGhlc2lzLCBRdWVzdGlvbk1hcmssIENvbG9uKSkge1xuICAgICAgICAgICAgdGhpcy5vbkdyb3VwRW50ZXIoc3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lRGlzanVuY3Rpb24oKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5lYXQoUmlnaHRQYXJlbnRoZXNpcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKFwiVW50ZXJtaW5hdGVkIGdyb3VwXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbkdyb3VwTGVhdmUoc3RhcnQsIHRoaXMuaW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdW1lQ2FwdHVyaW5nR3JvdXAoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgaWYgKHRoaXMuZWF0KExlZnRQYXJlbnRoZXNpcykpIHtcbiAgICAgICAgICAgIGxldCBuYW1lID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmVjbWFWZXJzaW9uID49IDIwMTgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25zdW1lR3JvdXBTcGVjaWZpZXIoKSkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lID0gdGhpcy5fbGFzdFN0clZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudENvZGVQb2ludCA9PT0gUXVlc3Rpb25NYXJrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIkludmFsaWQgZ3JvdXBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9uQ2FwdHVyaW5nR3JvdXBFbnRlcihzdGFydCwgbmFtZSk7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVEaXNqdW5jdGlvbigpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVhdChSaWdodFBhcmVudGhlc2lzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoXCJVbnRlcm1pbmF0ZWQgZ3JvdXBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9uQ2FwdHVyaW5nR3JvdXBMZWF2ZShzdGFydCwgdGhpcy5pbmRleCwgbmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN1bWVFeHRlbmRlZEF0b20oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5jb25zdW1lRG90KCkgfHxcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZVJldmVyc2VTb2xpZHVzQXRvbUVzY2FwZSgpIHx8XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVSZXZlcnNlU29saWR1c0ZvbGxvd2VkQnlDKCkgfHxcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNoYXJhY3RlckNsYXNzKCkgfHxcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZVVuY2FwdHVyaW5nR3JvdXAoKSB8fFxuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2FwdHVyaW5nR3JvdXAoKSB8fFxuICAgICAgICAgICAgdGhpcy5jb25zdW1lSW52YWxpZEJyYWNlZFF1YW50aWZpZXIoKSB8fFxuICAgICAgICAgICAgdGhpcy5jb25zdW1lRXh0ZW5kZWRQYXR0ZXJuQ2hhcmFjdGVyKCkpO1xuICAgIH1cbiAgICBjb25zdW1lUmV2ZXJzZVNvbGlkdXNGb2xsb3dlZEJ5QygpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29kZVBvaW50ID09PSBSZXZlcnNlU29saWR1cyAmJlxuICAgICAgICAgICAgdGhpcy5uZXh0Q29kZVBvaW50ID09PSBMYXRpblNtYWxsTGV0dGVyQykge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gdGhpcy5jdXJyZW50Q29kZVBvaW50O1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhcmFjdGVyKHN0YXJ0LCB0aGlzLmluZGV4LCBSZXZlcnNlU29saWR1cyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN1bWVJbnZhbGlkQnJhY2VkUXVhbnRpZmllcigpIHtcbiAgICAgICAgaWYgKHRoaXMuZWF0QnJhY2VkUXVhbnRpZmllcih0cnVlKSkge1xuICAgICAgICAgICAgdGhpcy5yYWlzZShcIk5vdGhpbmcgdG8gcmVwZWF0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZVBhdHRlcm5DaGFyYWN0ZXIoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgY29uc3QgY3AgPSB0aGlzLmN1cnJlbnRDb2RlUG9pbnQ7XG4gICAgICAgIGlmIChjcCAhPT0gLTEgJiYgIWlzU3ludGF4Q2hhcmFjdGVyKGNwKSkge1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhcmFjdGVyKHN0YXJ0LCB0aGlzLmluZGV4LCBjcCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN1bWVFeHRlbmRlZFBhdHRlcm5DaGFyYWN0ZXIoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgY29uc3QgY3AgPSB0aGlzLmN1cnJlbnRDb2RlUG9pbnQ7XG4gICAgICAgIGlmIChjcCAhPT0gLTEgJiZcbiAgICAgICAgICAgIGNwICE9PSBDaXJjdW1mbGV4QWNjZW50ICYmXG4gICAgICAgICAgICBjcCAhPT0gRG9sbGFyU2lnbiAmJlxuICAgICAgICAgICAgY3AgIT09IFJldmVyc2VTb2xpZHVzICYmXG4gICAgICAgICAgICBjcCAhPT0gRnVsbFN0b3AgJiZcbiAgICAgICAgICAgIGNwICE9PSBBc3RlcmlzayAmJlxuICAgICAgICAgICAgY3AgIT09IFBsdXNTaWduICYmXG4gICAgICAgICAgICBjcCAhPT0gUXVlc3Rpb25NYXJrICYmXG4gICAgICAgICAgICBjcCAhPT0gTGVmdFBhcmVudGhlc2lzICYmXG4gICAgICAgICAgICBjcCAhPT0gUmlnaHRQYXJlbnRoZXNpcyAmJlxuICAgICAgICAgICAgY3AgIT09IExlZnRTcXVhcmVCcmFja2V0ICYmXG4gICAgICAgICAgICBjcCAhPT0gVmVydGljYWxMaW5lKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHRoaXMub25DaGFyYWN0ZXIoc3RhcnQsIHRoaXMuaW5kZXgsIGNwKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZUdyb3VwU3BlY2lmaWVyKCkge1xuICAgICAgICBpZiAodGhpcy5lYXQoUXVlc3Rpb25NYXJrKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWF0R3JvdXBOYW1lKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2dyb3VwTmFtZXMuaGFzKHRoaXMuX2xhc3RTdHJWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ3JvdXBOYW1lcy5hZGQodGhpcy5fbGFzdFN0clZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoXCJEdXBsaWNhdGUgY2FwdHVyZSBncm91cCBuYW1lXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yYWlzZShcIkludmFsaWQgZ3JvdXBcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdW1lQXRvbUVzY2FwZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uc3VtZUJhY2tyZWZlcmVuY2UoKSB8fFxuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcmFjdGVyQ2xhc3NFc2NhcGUoKSB8fFxuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ2hhcmFjdGVyRXNjYXBlKCkgfHxcbiAgICAgICAgICAgICh0aGlzLl9uRmxhZyAmJiB0aGlzLmNvbnN1bWVLR3JvdXBOYW1lKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdHJpY3QgfHwgdGhpcy5fdUZsYWcpIHtcbiAgICAgICAgICAgIHRoaXMucmFpc2UoXCJJbnZhbGlkIGVzY2FwZVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN1bWVCYWNrcmVmZXJlbmNlKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmVhdERlY2ltYWxFc2NhcGUoKSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuX2xhc3RJbnRWYWx1ZTtcbiAgICAgICAgICAgIGlmIChuIDw9IHRoaXMuX251bUNhcHR1cmluZ1BhcmVucykge1xuICAgICAgICAgICAgICAgIHRoaXMub25CYWNrcmVmZXJlbmNlKHN0YXJ0IC0gMSwgdGhpcy5pbmRleCwgbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdHJpY3QgfHwgdGhpcy5fdUZsYWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKFwiSW52YWxpZCBlc2NhcGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJld2luZChzdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdW1lQ2hhcmFjdGVyQ2xhc3NFc2NhcGUoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgaWYgKHRoaXMuZWF0KExhdGluU21hbGxMZXR0ZXJEKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gLTE7XG4gICAgICAgICAgICB0aGlzLm9uRXNjYXBlQ2hhcmFjdGVyU2V0KHN0YXJ0IC0gMSwgdGhpcy5pbmRleCwgXCJkaWdpdFwiLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lYXQoTGF0aW5DYXBpdGFsTGV0dGVyRCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IC0xO1xuICAgICAgICAgICAgdGhpcy5vbkVzY2FwZUNoYXJhY3RlclNldChzdGFydCAtIDEsIHRoaXMuaW5kZXgsIFwiZGlnaXRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lYXQoTGF0aW5TbWFsbExldHRlclMpKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSAtMTtcbiAgICAgICAgICAgIHRoaXMub25Fc2NhcGVDaGFyYWN0ZXJTZXQoc3RhcnQgLSAxLCB0aGlzLmluZGV4LCBcInNwYWNlXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVhdChMYXRpbkNhcGl0YWxMZXR0ZXJTKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gLTE7XG4gICAgICAgICAgICB0aGlzLm9uRXNjYXBlQ2hhcmFjdGVyU2V0KHN0YXJ0IC0gMSwgdGhpcy5pbmRleCwgXCJzcGFjZVwiLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVhdChMYXRpblNtYWxsTGV0dGVyVykpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IC0xO1xuICAgICAgICAgICAgdGhpcy5vbkVzY2FwZUNoYXJhY3RlclNldChzdGFydCAtIDEsIHRoaXMuaW5kZXgsIFwid29yZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lYXQoTGF0aW5DYXBpdGFsTGV0dGVyVykpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IC0xO1xuICAgICAgICAgICAgdGhpcy5vbkVzY2FwZUNoYXJhY3RlclNldChzdGFydCAtIDEsIHRoaXMuaW5kZXgsIFwid29yZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZWdhdGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX3VGbGFnICYmXG4gICAgICAgICAgICB0aGlzLmVjbWFWZXJzaW9uID49IDIwMTggJiZcbiAgICAgICAgICAgICh0aGlzLmVhdChMYXRpblNtYWxsTGV0dGVyUCkgfHxcbiAgICAgICAgICAgICAgICAobmVnYXRlID0gdGhpcy5lYXQoTGF0aW5DYXBpdGFsTGV0dGVyUCkpKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gLTE7XG4gICAgICAgICAgICBpZiAodGhpcy5lYXQoTGVmdEN1cmx5QnJhY2tldCkgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmVhdFVuaWNvZGVQcm9wZXJ0eVZhbHVlRXhwcmVzc2lvbigpICYmXG4gICAgICAgICAgICAgICAgdGhpcy5lYXQoUmlnaHRDdXJseUJyYWNrZXQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblVuaWNvZGVQcm9wZXJ0eUNoYXJhY3RlclNldChzdGFydCAtIDEsIHRoaXMuaW5kZXgsIFwicHJvcGVydHlcIiwgdGhpcy5fbGFzdEtleVZhbHVlLCB0aGlzLl9sYXN0VmFsVmFsdWUgfHwgbnVsbCwgbmVnYXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmFpc2UoXCJJbnZhbGlkIHByb3BlcnR5IG5hbWVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdW1lQ2hhcmFjdGVyRXNjYXBlKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmVhdENvbnRyb2xFc2NhcGUoKSB8fFxuICAgICAgICAgICAgdGhpcy5lYXRDQ29udHJvbExldHRlcigpIHx8XG4gICAgICAgICAgICB0aGlzLmVhdFplcm8oKSB8fFxuICAgICAgICAgICAgdGhpcy5lYXRIZXhFc2NhcGVTZXF1ZW5jZSgpIHx8XG4gICAgICAgICAgICB0aGlzLmVhdFJlZ0V4cFVuaWNvZGVFc2NhcGVTZXF1ZW5jZSgpIHx8XG4gICAgICAgICAgICAoIXRoaXMuc3RyaWN0ICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuX3VGbGFnICYmXG4gICAgICAgICAgICAgICAgdGhpcy5lYXRMZWdhY3lPY3RhbEVzY2FwZVNlcXVlbmNlKCkpIHx8XG4gICAgICAgICAgICB0aGlzLmVhdElkZW50aXR5RXNjYXBlKCkpIHtcbiAgICAgICAgICAgIHRoaXMub25DaGFyYWN0ZXIoc3RhcnQgLSAxLCB0aGlzLmluZGV4LCB0aGlzLl9sYXN0SW50VmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdW1lS0dyb3VwTmFtZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5lYXQoTGF0aW5TbWFsbExldHRlckspKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lYXRHcm91cE5hbWUoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwTmFtZSA9IHRoaXMuX2xhc3RTdHJWYWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9iYWNrcmVmZXJlbmNlTmFtZXMuYWRkKGdyb3VwTmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkJhY2tyZWZlcmVuY2Uoc3RhcnQgLSAxLCB0aGlzLmluZGV4LCBncm91cE5hbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yYWlzZShcIkludmFsaWQgbmFtZWQgcmVmZXJlbmNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZUNoYXJhY3RlckNsYXNzKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmVhdChMZWZ0U3F1YXJlQnJhY2tldCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5lZ2F0ZSA9IHRoaXMuZWF0KENpcmN1bWZsZXhBY2NlbnQpO1xuICAgICAgICAgICAgdGhpcy5vbkNoYXJhY3RlckNsYXNzRW50ZXIoc3RhcnQsIG5lZ2F0ZSk7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDbGFzc1JhbmdlcygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVhdChSaWdodFNxdWFyZUJyYWNrZXQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIlVudGVybWluYXRlZCBjaGFyYWN0ZXIgY2xhc3NcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9uQ2hhcmFjdGVyQ2xhc3NMZWF2ZShzdGFydCwgdGhpcy5pbmRleCwgbmVnYXRlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZUNsYXNzUmFuZ2VzKCkge1xuICAgICAgICBjb25zdCBzdHJpY3QgPSB0aGlzLnN0cmljdCB8fCB0aGlzLl91RmxhZztcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgY29uc3QgcmFuZ2VTdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29uc3VtZUNsYXNzQXRvbSgpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtaW4gPSB0aGlzLl9sYXN0SW50VmFsdWU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZWF0KEh5cGhlbk1pbnVzKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbkNoYXJhY3Rlcih0aGlzLmluZGV4IC0gMSwgdGhpcy5pbmRleCwgSHlwaGVuTWludXMpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbnN1bWVDbGFzc0F0b20oKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWF4ID0gdGhpcy5fbGFzdEludFZhbHVlO1xuICAgICAgICAgICAgaWYgKG1pbiA9PT0gLTEgfHwgbWF4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIkludmFsaWQgY2hhcmFjdGVyIGNsYXNzXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtaW4gPiBtYXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKFwiUmFuZ2Ugb3V0IG9mIG9yZGVyIGluIGNoYXJhY3RlciBjbGFzc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub25DaGFyYWN0ZXJDbGFzc1JhbmdlKHJhbmdlU3RhcnQsIHRoaXMuaW5kZXgsIG1pbiwgbWF4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdW1lQ2xhc3NBdG9tKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGNvbnN0IGNwID0gdGhpcy5jdXJyZW50Q29kZVBvaW50O1xuICAgICAgICBpZiAoY3AgIT09IC0xICYmIGNwICE9PSBSZXZlcnNlU29saWR1cyAmJiBjcCAhPT0gUmlnaHRTcXVhcmVCcmFja2V0KSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IGNwO1xuICAgICAgICAgICAgdGhpcy5vbkNoYXJhY3RlcihzdGFydCwgdGhpcy5pbmRleCwgdGhpcy5fbGFzdEludFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVhdChSZXZlcnNlU29saWR1cykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnN1bWVDbGFzc0VzY2FwZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RyaWN0ICYmIHRoaXMuY3VycmVudENvZGVQb2ludCA9PT0gTGF0aW5TbWFsbExldHRlckMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSBSZXZlcnNlU29saWR1cztcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhcmFjdGVyKHN0YXJ0LCB0aGlzLmluZGV4LCB0aGlzLl9sYXN0SW50VmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RyaWN0IHx8IHRoaXMuX3VGbGFnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIkludmFsaWQgZXNjYXBlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXdpbmQoc3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3VtZUNsYXNzRXNjYXBlKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmVhdChMYXRpblNtYWxsTGV0dGVyQikpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IEJhY2tzcGFjZTtcbiAgICAgICAgICAgIHRoaXMub25DaGFyYWN0ZXIoc3RhcnQgLSAxLCB0aGlzLmluZGV4LCB0aGlzLl9sYXN0SW50VmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3VGbGFnICYmIHRoaXMuZWF0KEh5cGhlbk1pbnVzKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gSHlwaGVuTWludXM7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhcmFjdGVyKHN0YXJ0IC0gMSwgdGhpcy5pbmRleCwgdGhpcy5fbGFzdEludFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjcCA9IDA7XG4gICAgICAgIGlmICghdGhpcy5zdHJpY3QgJiZcbiAgICAgICAgICAgICF0aGlzLl91RmxhZyAmJlxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29kZVBvaW50ID09PSBMYXRpblNtYWxsTGV0dGVyQyAmJlxuICAgICAgICAgICAgKGlzRGVjaW1hbERpZ2l0KChjcCA9IHRoaXMubmV4dENvZGVQb2ludCkpIHx8IGNwID09PSBMb3dMaW5lKSkge1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IGNwICUgMHgyMDtcbiAgICAgICAgICAgIHRoaXMub25DaGFyYWN0ZXIoc3RhcnQgLSAxLCB0aGlzLmluZGV4LCB0aGlzLl9sYXN0SW50VmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLmNvbnN1bWVDaGFyYWN0ZXJDbGFzc0VzY2FwZSgpIHx8IHRoaXMuY29uc3VtZUNoYXJhY3RlckVzY2FwZSgpKTtcbiAgICB9XG4gICAgZWF0R3JvdXBOYW1lKCkge1xuICAgICAgICBpZiAodGhpcy5lYXQoTGVzc1RoYW5TaWduKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWF0UmVnRXhwSWRlbnRpZmllck5hbWUoKSAmJiB0aGlzLmVhdChHcmVhdGVyVGhhblNpZ24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJhaXNlKFwiSW52YWxpZCBjYXB0dXJlIGdyb3VwIG5hbWVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXRSZWdFeHBJZGVudGlmaWVyTmFtZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWF0UmVnRXhwSWRlbnRpZmllclN0YXJ0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RTdHJWYWx1ZSA9IFN0cmluZy5mcm9tQ29kZVBvaW50KHRoaXMuX2xhc3RJbnRWYWx1ZSk7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5lYXRSZWdFeHBJZGVudGlmaWVyUGFydCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdFN0clZhbHVlICs9IFN0cmluZy5mcm9tQ29kZVBvaW50KHRoaXMuX2xhc3RJbnRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVhdFJlZ0V4cElkZW50aWZpZXJTdGFydCgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBjb25zdCBmb3JjZVVGbGFnID0gIXRoaXMuX3VGbGFnICYmIHRoaXMuZWNtYVZlcnNpb24gPj0gMjAyMDtcbiAgICAgICAgbGV0IGNwID0gdGhpcy5jdXJyZW50Q29kZVBvaW50O1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgaWYgKGNwID09PSBSZXZlcnNlU29saWR1cyAmJlxuICAgICAgICAgICAgdGhpcy5lYXRSZWdFeHBVbmljb2RlRXNjYXBlU2VxdWVuY2UoZm9yY2VVRmxhZykpIHtcbiAgICAgICAgICAgIGNwID0gdGhpcy5fbGFzdEludFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvcmNlVUZsYWcgJiZcbiAgICAgICAgICAgIGlzTGVhZFN1cnJvZ2F0ZShjcCkgJiZcbiAgICAgICAgICAgIGlzVHJhaWxTdXJyb2dhdGUodGhpcy5jdXJyZW50Q29kZVBvaW50KSkge1xuICAgICAgICAgICAgY3AgPSBjb21iaW5lU3Vycm9nYXRlUGFpcihjcCwgdGhpcy5jdXJyZW50Q29kZVBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlZ0V4cElkZW50aWZpZXJTdGFydChjcCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IGNwO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5kZXggIT09IHN0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnJld2luZChzdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXRSZWdFeHBJZGVudGlmaWVyUGFydCgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBjb25zdCBmb3JjZVVGbGFnID0gIXRoaXMuX3VGbGFnICYmIHRoaXMuZWNtYVZlcnNpb24gPj0gMjAyMDtcbiAgICAgICAgbGV0IGNwID0gdGhpcy5jdXJyZW50Q29kZVBvaW50O1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgaWYgKGNwID09PSBSZXZlcnNlU29saWR1cyAmJlxuICAgICAgICAgICAgdGhpcy5lYXRSZWdFeHBVbmljb2RlRXNjYXBlU2VxdWVuY2UoZm9yY2VVRmxhZykpIHtcbiAgICAgICAgICAgIGNwID0gdGhpcy5fbGFzdEludFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvcmNlVUZsYWcgJiZcbiAgICAgICAgICAgIGlzTGVhZFN1cnJvZ2F0ZShjcCkgJiZcbiAgICAgICAgICAgIGlzVHJhaWxTdXJyb2dhdGUodGhpcy5jdXJyZW50Q29kZVBvaW50KSkge1xuICAgICAgICAgICAgY3AgPSBjb21iaW5lU3Vycm9nYXRlUGFpcihjcCwgdGhpcy5jdXJyZW50Q29kZVBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlZ0V4cElkZW50aWZpZXJQYXJ0KGNwKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gY3A7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbmRleCAhPT0gc3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMucmV3aW5kKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVhdENDb250cm9sTGV0dGVyKCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlmICh0aGlzLmVhdChMYXRpblNtYWxsTGV0dGVyQykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhdENvbnRyb2xMZXR0ZXIoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXdpbmQoc3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWF0WmVybygpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENvZGVQb2ludCA9PT0gRGlnaXRaZXJvICYmXG4gICAgICAgICAgICAhaXNEZWNpbWFsRGlnaXQodGhpcy5uZXh0Q29kZVBvaW50KSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gMDtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXRDb250cm9sRXNjYXBlKCkge1xuICAgICAgICBpZiAodGhpcy5lYXQoTGF0aW5TbWFsbExldHRlckYpKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSBGb3JtRmVlZDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVhdChMYXRpblNtYWxsTGV0dGVyTikpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IExpbmVGZWVkO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWF0KExhdGluU21hbGxMZXR0ZXJSKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gQ2FycmlhZ2VSZXR1cm47XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lYXQoTGF0aW5TbWFsbExldHRlclQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSBDaGFyYWN0ZXJUYWJ1bGF0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWF0KExhdGluU21hbGxMZXR0ZXJWKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gTGluZVRhYnVsYXRpb247XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVhdENvbnRyb2xMZXR0ZXIoKSB7XG4gICAgICAgIGNvbnN0IGNwID0gdGhpcy5jdXJyZW50Q29kZVBvaW50O1xuICAgICAgICBpZiAoaXNMYXRpbkxldHRlcihjcCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gY3AgJSAweDIwO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXRSZWdFeHBVbmljb2RlRXNjYXBlU2VxdWVuY2UoZm9yY2VVRmxhZyA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgY29uc3QgdUZsYWcgPSBmb3JjZVVGbGFnIHx8IHRoaXMuX3VGbGFnO1xuICAgICAgICBpZiAodGhpcy5lYXQoTGF0aW5TbWFsbExldHRlclUpKSB7XG4gICAgICAgICAgICBpZiAoKHVGbGFnICYmIHRoaXMuZWF0UmVnRXhwVW5pY29kZVN1cnJvZ2F0ZVBhaXJFc2NhcGUoKSkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmVhdEZpeGVkSGV4RGlnaXRzKDQpIHx8XG4gICAgICAgICAgICAgICAgKHVGbGFnICYmIHRoaXMuZWF0UmVnRXhwVW5pY29kZUNvZGVQb2ludEVzY2FwZSgpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RyaWN0IHx8IHVGbGFnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYWlzZShcIkludmFsaWQgdW5pY29kZSBlc2NhcGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJld2luZChzdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXRSZWdFeHBVbmljb2RlU3Vycm9nYXRlUGFpckVzY2FwZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5lYXRGaXhlZEhleERpZ2l0cyg0KSkge1xuICAgICAgICAgICAgY29uc3QgbGVhZCA9IHRoaXMuX2xhc3RJbnRWYWx1ZTtcbiAgICAgICAgICAgIGlmIChpc0xlYWRTdXJyb2dhdGUobGVhZCkgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmVhdChSZXZlcnNlU29saWR1cykgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmVhdChMYXRpblNtYWxsTGV0dGVyVSkgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmVhdEZpeGVkSGV4RGlnaXRzKDQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhaWwgPSB0aGlzLl9sYXN0SW50VmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGlzVHJhaWxTdXJyb2dhdGUodHJhaWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IGNvbWJpbmVTdXJyb2dhdGVQYWlyKGxlYWQsIHRyYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXdpbmQoc3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWF0UmVnRXhwVW5pY29kZUNvZGVQb2ludEVzY2FwZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5lYXQoTGVmdEN1cmx5QnJhY2tldCkgJiZcbiAgICAgICAgICAgIHRoaXMuZWF0SGV4RGlnaXRzKCkgJiZcbiAgICAgICAgICAgIHRoaXMuZWF0KFJpZ2h0Q3VybHlCcmFja2V0KSAmJlxuICAgICAgICAgICAgaXNWYWxpZFVuaWNvZGUodGhpcy5fbGFzdEludFZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXdpbmQoc3RhcnQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVhdElkZW50aXR5RXNjYXBlKCkge1xuICAgICAgICBjb25zdCBjcCA9IHRoaXMuY3VycmVudENvZGVQb2ludDtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZElkZW50aXR5RXNjYXBlKGNwKSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gY3A7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaXNWYWxpZElkZW50aXR5RXNjYXBlKGNwKSB7XG4gICAgICAgIGlmIChjcCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdUZsYWcpIHtcbiAgICAgICAgICAgIHJldHVybiBpc1N5bnRheENoYXJhY3RlcihjcCkgfHwgY3AgPT09IFNvbGlkdXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gIWlzSWRDb250aW51ZShjcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX25GbGFnKSB7XG4gICAgICAgICAgICByZXR1cm4gIShjcCA9PT0gTGF0aW5TbWFsbExldHRlckMgfHwgY3AgPT09IExhdGluU21hbGxMZXR0ZXJLKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3AgIT09IExhdGluU21hbGxMZXR0ZXJDO1xuICAgIH1cbiAgICBlYXREZWNpbWFsRXNjYXBlKCkge1xuICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSAwO1xuICAgICAgICBsZXQgY3AgPSB0aGlzLmN1cnJlbnRDb2RlUG9pbnQ7XG4gICAgICAgIGlmIChjcCA+PSBEaWdpdE9uZSAmJiBjcCA8PSBEaWdpdE5pbmUpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSAxMCAqIHRoaXMuX2xhc3RJbnRWYWx1ZSArIChjcCAtIERpZ2l0WmVybyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICB9IHdoaWxlICgoY3AgPSB0aGlzLmN1cnJlbnRDb2RlUG9pbnQpID49IERpZ2l0WmVybyAmJlxuICAgICAgICAgICAgICAgIGNwIDw9IERpZ2l0TmluZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVhdFVuaWNvZGVQcm9wZXJ0eVZhbHVlRXhwcmVzc2lvbigpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICBpZiAodGhpcy5lYXRVbmljb2RlUHJvcGVydHlOYW1lKCkgJiYgdGhpcy5lYXQoRXF1YWxzU2lnbikpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RLZXlWYWx1ZSA9IHRoaXMuX2xhc3RTdHJWYWx1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVhdFVuaWNvZGVQcm9wZXJ0eVZhbHVlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0VmFsVmFsdWUgPSB0aGlzLl9sYXN0U3RyVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRVbmljb2RlUHJvcGVydHkodGhpcy5lY21hVmVyc2lvbiwgdGhpcy5fbGFzdEtleVZhbHVlLCB0aGlzLl9sYXN0VmFsVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJhaXNlKFwiSW52YWxpZCBwcm9wZXJ0eSBuYW1lXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmV3aW5kKHN0YXJ0KTtcbiAgICAgICAgaWYgKHRoaXMuZWF0TG9uZVVuaWNvZGVQcm9wZXJ0eU5hbWVPclZhbHVlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVPclZhbHVlID0gdGhpcy5fbGFzdFN0clZhbHVlO1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRVbmljb2RlUHJvcGVydHkodGhpcy5lY21hVmVyc2lvbiwgXCJHZW5lcmFsX0NhdGVnb3J5XCIsIG5hbWVPclZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RLZXlWYWx1ZSA9IFwiR2VuZXJhbF9DYXRlZ29yeVwiO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RWYWxWYWx1ZSA9IG5hbWVPclZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzVmFsaWRMb25lVW5pY29kZVByb3BlcnR5KHRoaXMuZWNtYVZlcnNpb24sIG5hbWVPclZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RLZXlWYWx1ZSA9IG5hbWVPclZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RWYWxWYWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJhaXNlKFwiSW52YWxpZCBwcm9wZXJ0eSBuYW1lXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWF0VW5pY29kZVByb3BlcnR5TmFtZSgpIHtcbiAgICAgICAgdGhpcy5fbGFzdFN0clZhbHVlID0gXCJcIjtcbiAgICAgICAgd2hpbGUgKGlzVW5pY29kZVByb3BlcnR5TmFtZUNoYXJhY3Rlcih0aGlzLmN1cnJlbnRDb2RlUG9pbnQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0U3RyVmFsdWUgKz0gU3RyaW5nLmZyb21Db2RlUG9pbnQodGhpcy5jdXJyZW50Q29kZVBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXN0U3RyVmFsdWUgIT09IFwiXCI7XG4gICAgfVxuICAgIGVhdFVuaWNvZGVQcm9wZXJ0eVZhbHVlKCkge1xuICAgICAgICB0aGlzLl9sYXN0U3RyVmFsdWUgPSBcIlwiO1xuICAgICAgICB3aGlsZSAoaXNVbmljb2RlUHJvcGVydHlWYWx1ZUNoYXJhY3Rlcih0aGlzLmN1cnJlbnRDb2RlUG9pbnQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0U3RyVmFsdWUgKz0gU3RyaW5nLmZyb21Db2RlUG9pbnQodGhpcy5jdXJyZW50Q29kZVBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXN0U3RyVmFsdWUgIT09IFwiXCI7XG4gICAgfVxuICAgIGVhdExvbmVVbmljb2RlUHJvcGVydHlOYW1lT3JWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWF0VW5pY29kZVByb3BlcnR5VmFsdWUoKTtcbiAgICB9XG4gICAgZWF0SGV4RXNjYXBlU2VxdWVuY2UoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgaWYgKHRoaXMuZWF0KExhdGluU21hbGxMZXR0ZXJYKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWF0Rml4ZWRIZXhEaWdpdHMoMikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl91RmxhZyB8fCB0aGlzLnN0cmljdCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmFpc2UoXCJJbnZhbGlkIGVzY2FwZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmV3aW5kKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVhdERlY2ltYWxEaWdpdHMoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gMDtcbiAgICAgICAgd2hpbGUgKGlzRGVjaW1hbERpZ2l0KHRoaXMuY3VycmVudENvZGVQb2ludCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9XG4gICAgICAgICAgICAgICAgMTAgKiB0aGlzLl9sYXN0SW50VmFsdWUgKyBkaWdpdFRvSW50KHRoaXMuY3VycmVudENvZGVQb2ludCk7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbmRleCAhPT0gc3RhcnQ7XG4gICAgfVxuICAgIGVhdEhleERpZ2l0cygpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSAwO1xuICAgICAgICB3aGlsZSAoaXNIZXhEaWdpdCh0aGlzLmN1cnJlbnRDb2RlUG9pbnQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPVxuICAgICAgICAgICAgICAgIDE2ICogdGhpcy5fbGFzdEludFZhbHVlICsgZGlnaXRUb0ludCh0aGlzLmN1cnJlbnRDb2RlUG9pbnQpO1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXggIT09IHN0YXJ0O1xuICAgIH1cbiAgICBlYXRMZWdhY3lPY3RhbEVzY2FwZVNlcXVlbmNlKCkge1xuICAgICAgICBpZiAodGhpcy5lYXRPY3RhbERpZ2l0KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG4xID0gdGhpcy5fbGFzdEludFZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuZWF0T2N0YWxEaWdpdCgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbjIgPSB0aGlzLl9sYXN0SW50VmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKG4xIDw9IDMgJiYgdGhpcy5lYXRPY3RhbERpZ2l0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gbjEgKiA2NCArIG4yICogOCArIHRoaXMuX2xhc3RJbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IG4xICogOCArIG4yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IG4xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlYXRPY3RhbERpZ2l0KCkge1xuICAgICAgICBjb25zdCBjcCA9IHRoaXMuY3VycmVudENvZGVQb2ludDtcbiAgICAgICAgaWYgKGlzT2N0YWxEaWdpdChjcCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdEludFZhbHVlID0gY3AgLSBEaWdpdFplcm87XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSAwO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVhdEZpeGVkSGV4RGlnaXRzKGxlbmd0aCkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIHRoaXMuX2xhc3RJbnRWYWx1ZSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGNwID0gdGhpcy5jdXJyZW50Q29kZVBvaW50O1xuICAgICAgICAgICAgaWYgKCFpc0hleERpZ2l0KGNwKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmV3aW5kKHN0YXJ0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9sYXN0SW50VmFsdWUgPSAxNiAqIHRoaXMuX2xhc3RJbnRWYWx1ZSArIGRpZ2l0VG9JbnQoY3ApO1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuXG5jb25zdCBEdW1teVBhdHRlcm4gPSB7fTtcbmNvbnN0IER1bW15RmxhZ3MgPSB7fTtcbmNvbnN0IER1bW15Q2FwdHVyaW5nR3JvdXAgPSB7fTtcbmNsYXNzIFJlZ0V4cFBhcnNlclN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX25vZGUgPSBEdW1teVBhdHRlcm47XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gRHVtbXlGbGFncztcbiAgICAgICAgdGhpcy5fYmFja3JlZmVyZW5jZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fY2FwdHVyaW5nR3JvdXBzID0gW107XG4gICAgICAgIHRoaXMuc291cmNlID0gXCJcIjtcbiAgICAgICAgdGhpcy5zdHJpY3QgPSBCb29sZWFuKG9wdGlvbnMgJiYgb3B0aW9ucy5zdHJpY3QpO1xuICAgICAgICB0aGlzLmVjbWFWZXJzaW9uID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5lY21hVmVyc2lvbikgfHwgMjAyMDtcbiAgICB9XG4gICAgZ2V0IHBhdHRlcm4oKSB7XG4gICAgICAgIGlmICh0aGlzLl9ub2RlLnR5cGUgIT09IFwiUGF0dGVyblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX25vZGU7XG4gICAgfVxuICAgIGdldCBmbGFncygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZsYWdzLnR5cGUgIT09IFwiRmxhZ3NcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9mbGFncztcbiAgICB9XG4gICAgb25GbGFncyhzdGFydCwgZW5kLCBnbG9iYWwsIGlnbm9yZUNhc2UsIG11bHRpbGluZSwgdW5pY29kZSwgc3RpY2t5LCBkb3RBbGwpIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSB7XG4gICAgICAgICAgICB0eXBlOiBcIkZsYWdzXCIsXG4gICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIHJhdzogdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCksXG4gICAgICAgICAgICBnbG9iYWwsXG4gICAgICAgICAgICBpZ25vcmVDYXNlLFxuICAgICAgICAgICAgbXVsdGlsaW5lLFxuICAgICAgICAgICAgdW5pY29kZSxcbiAgICAgICAgICAgIHN0aWNreSxcbiAgICAgICAgICAgIGRvdEFsbCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgb25QYXR0ZXJuRW50ZXIoc3RhcnQpIHtcbiAgICAgICAgdGhpcy5fbm9kZSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiUGF0dGVyblwiLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHN0YXJ0LFxuICAgICAgICAgICAgcmF3OiBcIlwiLFxuICAgICAgICAgICAgYWx0ZXJuYXRpdmVzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fYmFja3JlZmVyZW5jZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fY2FwdHVyaW5nR3JvdXBzLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIG9uUGF0dGVybkxlYXZlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgdGhpcy5fbm9kZS5lbmQgPSBlbmQ7XG4gICAgICAgIHRoaXMuX25vZGUucmF3ID0gdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIGZvciAoY29uc3QgcmVmZXJlbmNlIG9mIHRoaXMuX2JhY2tyZWZlcmVuY2VzKSB7XG4gICAgICAgICAgICBjb25zdCByZWYgPSByZWZlcmVuY2UucmVmO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB0eXBlb2YgcmVmID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgPyB0aGlzLl9jYXB0dXJpbmdHcm91cHNbcmVmIC0gMV1cbiAgICAgICAgICAgICAgICA6IHRoaXMuX2NhcHR1cmluZ0dyb3Vwcy5maW5kKGcgPT4gZy5uYW1lID09PSByZWYpO1xuICAgICAgICAgICAgcmVmZXJlbmNlLnJlc29sdmVkID0gZ3JvdXA7XG4gICAgICAgICAgICBncm91cC5yZWZlcmVuY2VzLnB1c2gocmVmZXJlbmNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkFsdGVybmF0aXZlRW50ZXIoc3RhcnQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkFzc2VydGlvblwiICYmXG4gICAgICAgICAgICBwYXJlbnQudHlwZSAhPT0gXCJDYXB0dXJpbmdHcm91cFwiICYmXG4gICAgICAgICAgICBwYXJlbnQudHlwZSAhPT0gXCJHcm91cFwiICYmXG4gICAgICAgICAgICBwYXJlbnQudHlwZSAhPT0gXCJQYXR0ZXJuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ub2RlID0ge1xuICAgICAgICAgICAgdHlwZTogXCJBbHRlcm5hdGl2ZVwiLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHN0YXJ0LFxuICAgICAgICAgICAgcmF3OiBcIlwiLFxuICAgICAgICAgICAgZWxlbWVudHM6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBwYXJlbnQuYWx0ZXJuYXRpdmVzLnB1c2godGhpcy5fbm9kZSk7XG4gICAgfVxuICAgIG9uQWx0ZXJuYXRpdmVMZWF2ZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLl9ub2RlO1xuICAgICAgICBpZiAobm9kZS50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmVuZCA9IGVuZDtcbiAgICAgICAgbm9kZS5yYXcgPSB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgICAgdGhpcy5fbm9kZSA9IG5vZGUucGFyZW50O1xuICAgIH1cbiAgICBvbkdyb3VwRW50ZXIoc3RhcnQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ub2RlID0ge1xuICAgICAgICAgICAgdHlwZTogXCJHcm91cFwiLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHN0YXJ0LFxuICAgICAgICAgICAgcmF3OiBcIlwiLFxuICAgICAgICAgICAgYWx0ZXJuYXRpdmVzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgcGFyZW50LmVsZW1lbnRzLnB1c2godGhpcy5fbm9kZSk7XG4gICAgfVxuICAgIG9uR3JvdXBMZWF2ZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLl9ub2RlO1xuICAgICAgICBpZiAobm9kZS50eXBlICE9PSBcIkdyb3VwXCIgfHwgbm9kZS5wYXJlbnQudHlwZSAhPT0gXCJBbHRlcm5hdGl2ZVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5lbmQgPSBlbmQ7XG4gICAgICAgIG5vZGUucmF3ID0gdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIHRoaXMuX25vZGUgPSBub2RlLnBhcmVudDtcbiAgICB9XG4gICAgb25DYXB0dXJpbmdHcm91cEVudGVyKHN0YXJ0LCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChwYXJlbnQudHlwZSAhPT0gXCJBbHRlcm5hdGl2ZVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbm9kZSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiQ2FwdHVyaW5nR3JvdXBcIixcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBzdGFydCxcbiAgICAgICAgICAgIHJhdzogXCJcIixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBhbHRlcm5hdGl2ZXM6IFtdLFxuICAgICAgICAgICAgcmVmZXJlbmNlczogW10sXG4gICAgICAgIH07XG4gICAgICAgIHBhcmVudC5lbGVtZW50cy5wdXNoKHRoaXMuX25vZGUpO1xuICAgICAgICB0aGlzLl9jYXB0dXJpbmdHcm91cHMucHVzaCh0aGlzLl9ub2RlKTtcbiAgICB9XG4gICAgb25DYXB0dXJpbmdHcm91cExlYXZlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChub2RlLnR5cGUgIT09IFwiQ2FwdHVyaW5nR3JvdXBcIiB8fFxuICAgICAgICAgICAgbm9kZS5wYXJlbnQudHlwZSAhPT0gXCJBbHRlcm5hdGl2ZVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5lbmQgPSBlbmQ7XG4gICAgICAgIG5vZGUucmF3ID0gdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIHRoaXMuX25vZGUgPSBub2RlLnBhcmVudDtcbiAgICB9XG4gICAgb25RdWFudGlmaWVyKHN0YXJ0LCBlbmQsIG1pbiwgbWF4LCBncmVlZHkpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50ID0gcGFyZW50LmVsZW1lbnRzLnBvcCgpO1xuICAgICAgICBpZiAoZWxlbWVudCA9PSBudWxsIHx8XG4gICAgICAgICAgICBlbGVtZW50LnR5cGUgPT09IFwiUXVhbnRpZmllclwiIHx8XG4gICAgICAgICAgICAoZWxlbWVudC50eXBlID09PSBcIkFzc2VydGlvblwiICYmIGVsZW1lbnQua2luZCAhPT0gXCJsb29rYWhlYWRcIikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub2RlID0ge1xuICAgICAgICAgICAgdHlwZTogXCJRdWFudGlmaWVyXCIsXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICBzdGFydDogZWxlbWVudC5zdGFydCxcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIHJhdzogdGhpcy5zb3VyY2Uuc2xpY2UoZWxlbWVudC5zdGFydCwgZW5kKSxcbiAgICAgICAgICAgIG1pbixcbiAgICAgICAgICAgIG1heCxcbiAgICAgICAgICAgIGdyZWVkeSxcbiAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgIH07XG4gICAgICAgIHBhcmVudC5lbGVtZW50cy5wdXNoKG5vZGUpO1xuICAgICAgICBlbGVtZW50LnBhcmVudCA9IG5vZGU7XG4gICAgfVxuICAgIG9uTG9va2Fyb3VuZEFzc2VydGlvbkVudGVyKHN0YXJ0LCBraW5kLCBuZWdhdGUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub2RlID0gKHRoaXMuX25vZGUgPSB7XG4gICAgICAgICAgICB0eXBlOiBcIkFzc2VydGlvblwiLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHN0YXJ0LFxuICAgICAgICAgICAgcmF3OiBcIlwiLFxuICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgIG5lZ2F0ZSxcbiAgICAgICAgICAgIGFsdGVybmF0aXZlczogW10sXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnQuZWxlbWVudHMucHVzaChub2RlKTtcbiAgICB9XG4gICAgb25Mb29rYXJvdW5kQXNzZXJ0aW9uTGVhdmUoc3RhcnQsIGVuZCkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKG5vZGUudHlwZSAhPT0gXCJBc3NlcnRpb25cIiB8fCBub2RlLnBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmVuZCA9IGVuZDtcbiAgICAgICAgbm9kZS5yYXcgPSB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgICAgdGhpcy5fbm9kZSA9IG5vZGUucGFyZW50O1xuICAgIH1cbiAgICBvbkVkZ2VBc3NlcnRpb24oc3RhcnQsIGVuZCwga2luZCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLl9ub2RlO1xuICAgICAgICBpZiAocGFyZW50LnR5cGUgIT09IFwiQWx0ZXJuYXRpdmVcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC5lbGVtZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwiQXNzZXJ0aW9uXCIsXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIHJhdzogdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCksXG4gICAgICAgICAgICBraW5kLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb25Xb3JkQm91bmRhcnlBc3NlcnRpb24oc3RhcnQsIGVuZCwga2luZCwgbmVnYXRlKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChwYXJlbnQudHlwZSAhPT0gXCJBbHRlcm5hdGl2ZVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50LmVsZW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJBc3NlcnRpb25cIixcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgcmF3OiB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgZW5kKSxcbiAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICBuZWdhdGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbkFueUNoYXJhY3RlclNldChzdGFydCwgZW5kLCBraW5kKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChwYXJlbnQudHlwZSAhPT0gXCJBbHRlcm5hdGl2ZVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50LmVsZW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJDaGFyYWN0ZXJTZXRcIixcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgcmF3OiB0aGlzLnNvdXJjZS5zbGljZShzdGFydCwgZW5kKSxcbiAgICAgICAgICAgIGtpbmQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbkVzY2FwZUNoYXJhY3RlclNldChzdGFydCwgZW5kLCBraW5kLCBuZWdhdGUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIgJiYgcGFyZW50LnR5cGUgIT09IFwiQ2hhcmFjdGVyQ2xhc3NcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC5lbGVtZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwiQ2hhcmFjdGVyU2V0XCIsXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIHJhdzogdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCksXG4gICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgbmVnYXRlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb25Vbmljb2RlUHJvcGVydHlDaGFyYWN0ZXJTZXQoc3RhcnQsIGVuZCwga2luZCwga2V5LCB2YWx1ZSwgbmVnYXRlKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChwYXJlbnQudHlwZSAhPT0gXCJBbHRlcm5hdGl2ZVwiICYmIHBhcmVudC50eXBlICE9PSBcIkNoYXJhY3RlckNsYXNzXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQuZWxlbWVudHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBcIkNoYXJhY3RlclNldFwiLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICByYXc6IHRoaXMuc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpLFxuICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbmVnYXRlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb25DaGFyYWN0ZXIoc3RhcnQsIGVuZCwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIgJiYgcGFyZW50LnR5cGUgIT09IFwiQ2hhcmFjdGVyQ2xhc3NcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC5lbGVtZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwiQ2hhcmFjdGVyXCIsXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIHJhdzogdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCksXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uQmFja3JlZmVyZW5jZShzdGFydCwgZW5kLCByZWYpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fbm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC50eXBlICE9PSBcIkFsdGVybmF0aXZlXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub2RlID0ge1xuICAgICAgICAgICAgdHlwZTogXCJCYWNrcmVmZXJlbmNlXCIsXG4gICAgICAgICAgICBwYXJlbnQsXG4gICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIHJhdzogdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCksXG4gICAgICAgICAgICByZWYsXG4gICAgICAgICAgICByZXNvbHZlZDogRHVtbXlDYXB0dXJpbmdHcm91cCxcbiAgICAgICAgfTtcbiAgICAgICAgcGFyZW50LmVsZW1lbnRzLnB1c2gobm9kZSk7XG4gICAgICAgIHRoaXMuX2JhY2tyZWZlcmVuY2VzLnB1c2gobm9kZSk7XG4gICAgfVxuICAgIG9uQ2hhcmFjdGVyQ2xhc3NFbnRlcihzdGFydCwgbmVnYXRlKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChwYXJlbnQudHlwZSAhPT0gXCJBbHRlcm5hdGl2ZVwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbm9kZSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiQ2hhcmFjdGVyQ2xhc3NcIixcbiAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBzdGFydCxcbiAgICAgICAgICAgIHJhdzogXCJcIixcbiAgICAgICAgICAgIG5lZ2F0ZSxcbiAgICAgICAgICAgIGVsZW1lbnRzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgcGFyZW50LmVsZW1lbnRzLnB1c2godGhpcy5fbm9kZSk7XG4gICAgfVxuICAgIG9uQ2hhcmFjdGVyQ2xhc3NMZWF2ZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLl9ub2RlO1xuICAgICAgICBpZiAobm9kZS50eXBlICE9PSBcIkNoYXJhY3RlckNsYXNzXCIgfHxcbiAgICAgICAgICAgIG5vZGUucGFyZW50LnR5cGUgIT09IFwiQWx0ZXJuYXRpdmVcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93bkVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuZW5kID0gZW5kO1xuICAgICAgICBub2RlLnJhdyA9IHRoaXMuc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgICB0aGlzLl9ub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgfVxuICAgIG9uQ2hhcmFjdGVyQ2xhc3NSYW5nZShzdGFydCwgZW5kKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX25vZGU7XG4gICAgICAgIGlmIChwYXJlbnQudHlwZSAhPT0gXCJDaGFyYWN0ZXJDbGFzc1wiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBwYXJlbnQuZWxlbWVudHM7XG4gICAgICAgIGNvbnN0IG1heCA9IGVsZW1lbnRzLnBvcCgpO1xuICAgICAgICBjb25zdCBoeXBoZW4gPSBlbGVtZW50cy5wb3AoKTtcbiAgICAgICAgY29uc3QgbWluID0gZWxlbWVudHMucG9wKCk7XG4gICAgICAgIGlmICghbWluIHx8XG4gICAgICAgICAgICAhbWF4IHx8XG4gICAgICAgICAgICAhaHlwaGVuIHx8XG4gICAgICAgICAgICBtaW4udHlwZSAhPT0gXCJDaGFyYWN0ZXJcIiB8fFxuICAgICAgICAgICAgbWF4LnR5cGUgIT09IFwiQ2hhcmFjdGVyXCIgfHxcbiAgICAgICAgICAgIGh5cGhlbi50eXBlICE9PSBcIkNoYXJhY3RlclwiIHx8XG4gICAgICAgICAgICBoeXBoZW4udmFsdWUgIT09IEh5cGhlbk1pbnVzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgbm9kZSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiQ2hhcmFjdGVyQ2xhc3NSYW5nZVwiLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICByYXc6IHRoaXMuc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpLFxuICAgICAgICAgICAgbWluLFxuICAgICAgICAgICAgbWF4LFxuICAgICAgICB9O1xuICAgICAgICBtaW4ucGFyZW50ID0gbm9kZTtcbiAgICAgICAgbWF4LnBhcmVudCA9IG5vZGU7XG4gICAgICAgIGVsZW1lbnRzLnB1c2gobm9kZSk7XG4gICAgfVxufVxuY2xhc3MgUmVnRXhwUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gbmV3IFJlZ0V4cFBhcnNlclN0YXRlKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl92YWxpZGF0b3IgPSBuZXcgUmVnRXhwVmFsaWRhdG9yKHRoaXMuX3N0YXRlKTtcbiAgICB9XG4gICAgcGFyc2VMaXRlcmFsKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdG9yLnZhbGlkYXRlTGl0ZXJhbChzb3VyY2UsIHN0YXJ0LCBlbmQpO1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5fc3RhdGUucGF0dGVybjtcbiAgICAgICAgY29uc3QgZmxhZ3MgPSB0aGlzLl9zdGF0ZS5mbGFncztcbiAgICAgICAgY29uc3QgbGl0ZXJhbCA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiUmVnRXhwTGl0ZXJhbFwiLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBlbmQsXG4gICAgICAgICAgICByYXc6IHNvdXJjZSxcbiAgICAgICAgICAgIHBhdHRlcm4sXG4gICAgICAgICAgICBmbGFncyxcbiAgICAgICAgfTtcbiAgICAgICAgcGF0dGVybi5wYXJlbnQgPSBsaXRlcmFsO1xuICAgICAgICBmbGFncy5wYXJlbnQgPSBsaXRlcmFsO1xuICAgICAgICByZXR1cm4gbGl0ZXJhbDtcbiAgICB9XG4gICAgcGFyc2VGbGFncyhzb3VyY2UsIHN0YXJ0ID0gMCwgZW5kID0gc291cmNlLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9zdGF0ZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRvci52YWxpZGF0ZUZsYWdzKHNvdXJjZSwgc3RhcnQsIGVuZCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZS5mbGFncztcbiAgICB9XG4gICAgcGFyc2VQYXR0ZXJuKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoLCB1RmxhZyA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdG9yLnZhbGlkYXRlUGF0dGVybihzb3VyY2UsIHN0YXJ0LCBlbmQsIHVGbGFnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLnBhdHRlcm47XG4gICAgfVxufVxuXG5jbGFzcyBSZWdFeHBWaXNpdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihoYW5kbGVycykge1xuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IGhhbmRsZXJzO1xuICAgIH1cbiAgICB2aXNpdChub2RlKSB7XG4gICAgICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiQWx0ZXJuYXRpdmVcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0QWx0ZXJuYXRpdmUobm9kZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQXNzZXJ0aW9uXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdEFzc2VydGlvbihub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJCYWNrcmVmZXJlbmNlXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdEJhY2tyZWZlcmVuY2Uobm9kZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQ2FwdHVyaW5nR3JvdXBcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0Q2FwdHVyaW5nR3JvdXAobm9kZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQ2hhcmFjdGVyXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdENoYXJhY3Rlcihub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJDaGFyYWN0ZXJDbGFzc1wiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRDaGFyYWN0ZXJDbGFzcyhub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJDaGFyYWN0ZXJDbGFzc1JhbmdlXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdENoYXJhY3RlckNsYXNzUmFuZ2Uobm9kZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQ2hhcmFjdGVyU2V0XCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdENoYXJhY3RlclNldChub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJGbGFnc1wiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRGbGFncyhub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJHcm91cFwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRHcm91cChub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJQYXR0ZXJuXCI6XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdFBhdHRlcm4obm9kZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiUXVhbnRpZmllclwiOlxuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRRdWFudGlmaWVyKG5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIlJlZ0V4cExpdGVyYWxcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0UmVnRXhwTGl0ZXJhbChub2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHR5cGU6ICR7bm9kZS50eXBlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0QWx0ZXJuYXRpdmUobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25BbHRlcm5hdGl2ZUVudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkFsdGVybmF0aXZlRW50ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5lbGVtZW50cy5mb3JFYWNoKHRoaXMudmlzaXQsIHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25BbHRlcm5hdGl2ZUxlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkFsdGVybmF0aXZlTGVhdmUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaXRBc3NlcnRpb24obm9kZSkge1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25Bc3NlcnRpb25FbnRlcikge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25Bc3NlcnRpb25FbnRlcihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5raW5kID09PSBcImxvb2thaGVhZFwiIHx8IG5vZGUua2luZCA9PT0gXCJsb29rYmVoaW5kXCIpIHtcbiAgICAgICAgICAgIG5vZGUuYWx0ZXJuYXRpdmVzLmZvckVhY2godGhpcy52aXNpdCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uQXNzZXJ0aW9uTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQXNzZXJ0aW9uTGVhdmUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaXRCYWNrcmVmZXJlbmNlKG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uQmFja3JlZmVyZW5jZUVudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkJhY2tyZWZlcmVuY2VFbnRlcihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25CYWNrcmVmZXJlbmNlTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQmFja3JlZmVyZW5jZUxlYXZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0Q2FwdHVyaW5nR3JvdXAobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25DYXB0dXJpbmdHcm91cEVudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkNhcHR1cmluZ0dyb3VwRW50ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5hbHRlcm5hdGl2ZXMuZm9yRWFjaCh0aGlzLnZpc2l0LCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uQ2FwdHVyaW5nR3JvdXBMZWF2ZSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25DYXB0dXJpbmdHcm91cExlYXZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0Q2hhcmFjdGVyKG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyRW50ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyTGVhdmUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlzaXRDaGFyYWN0ZXJDbGFzcyhub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vbkNoYXJhY3RlckNsYXNzRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyQ2xhc3NFbnRlcihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmVsZW1lbnRzLmZvckVhY2godGhpcy52aXNpdCwgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vbkNoYXJhY3RlckNsYXNzTGVhdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyQ2xhc3NMZWF2ZShub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpdENoYXJhY3RlckNsYXNzUmFuZ2Uobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25DaGFyYWN0ZXJDbGFzc1JhbmdlRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyQ2xhc3NSYW5nZUVudGVyKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlzaXRDaGFyYWN0ZXIobm9kZS5taW4pO1xuICAgICAgICB0aGlzLnZpc2l0Q2hhcmFjdGVyKG5vZGUubWF4KTtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uQ2hhcmFjdGVyQ2xhc3NSYW5nZUxlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkNoYXJhY3RlckNsYXNzUmFuZ2VMZWF2ZShub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpdENoYXJhY3RlclNldChub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vbkNoYXJhY3RlclNldEVudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkNoYXJhY3RlclNldEVudGVyKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vbkNoYXJhY3RlclNldExlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkNoYXJhY3RlclNldExlYXZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0RmxhZ3Mobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25GbGFnc0VudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkZsYWdzRW50ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uRmxhZ3NMZWF2ZSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25GbGFnc0xlYXZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0R3JvdXAobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25Hcm91cEVudGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vbkdyb3VwRW50ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5hbHRlcm5hdGl2ZXMuZm9yRWFjaCh0aGlzLnZpc2l0LCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uR3JvdXBMZWF2ZSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25Hcm91cExlYXZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpc2l0UGF0dGVybihub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVycy5vblBhdHRlcm5FbnRlcikge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnMub25QYXR0ZXJuRW50ZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5hbHRlcm5hdGl2ZXMuZm9yRWFjaCh0aGlzLnZpc2l0LCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uUGF0dGVybkxlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vblBhdHRlcm5MZWF2ZShub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpdFF1YW50aWZpZXIobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25RdWFudGlmaWVyRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uUXVhbnRpZmllckVudGVyKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlzaXQobm9kZS5lbGVtZW50KTtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uUXVhbnRpZmllckxlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vblF1YW50aWZpZXJMZWF2ZShub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aXNpdFJlZ0V4cExpdGVyYWwobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5faGFuZGxlcnMub25SZWdFeHBMaXRlcmFsRW50ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzLm9uUmVnRXhwTGl0ZXJhbEVudGVyKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlzaXRQYXR0ZXJuKG5vZGUucGF0dGVybik7XG4gICAgICAgIHRoaXMudmlzaXRGbGFncyhub2RlLmZsYWdzKTtcbiAgICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzLm9uUmVnRXhwTGl0ZXJhbExlYXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVycy5vblJlZ0V4cExpdGVyYWxMZWF2ZShub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VSZWdFeHBMaXRlcmFsKHNvdXJjZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwUGFyc2VyKG9wdGlvbnMpLnBhcnNlTGl0ZXJhbChTdHJpbmcoc291cmNlKSk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVJlZ0V4cExpdGVyYWwoc291cmNlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHBWYWxpZGF0b3Iob3B0aW9ucykudmFsaWRhdGVMaXRlcmFsKHNvdXJjZSk7XG59XG5mdW5jdGlvbiB2aXNpdFJlZ0V4cEFTVChub2RlLCBoYW5kbGVycykge1xuICAgIG5ldyBSZWdFeHBWaXNpdG9yKGhhbmRsZXJzKS52aXNpdChub2RlKTtcbn1cblxuZXhwb3J0cy5BU1QgPSBhc3Q7XG5leHBvcnRzLlJlZ0V4cFBhcnNlciA9IFJlZ0V4cFBhcnNlcjtcbmV4cG9ydHMuUmVnRXhwVmFsaWRhdG9yID0gUmVnRXhwVmFsaWRhdG9yO1xuZXhwb3J0cy5wYXJzZVJlZ0V4cExpdGVyYWwgPSBwYXJzZVJlZ0V4cExpdGVyYWw7XG5leHBvcnRzLnZhbGlkYXRlUmVnRXhwTGl0ZXJhbCA9IHZhbGlkYXRlUmVnRXhwTGl0ZXJhbDtcbmV4cG9ydHMudmlzaXRSZWdFeHBBU1QgPSB2aXNpdFJlZ0V4cEFTVDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIixudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGxdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQzVFQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUNBO0FBR0E7OztBQUNBO0FBQ0E7QUFHQTs7O0FBQ0E7QUFDQTtBQUdBOzs7OztBQUdBO0FBQ0E7QUFDQTtBQUtBO0FBS0E7QUFDQTtBQUtBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUNBO0FDckVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNySUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrR0E7QUFDQTs7O0FBeEVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQS9GQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7OztBQ3BEQTs7Ozs7QUFFQTtBQUlBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFaQTtBQWFBO0FBQ0E7O0FBcEJBO0FBQ0E7QUM0RUE7QUFDQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrU0E7QUFvQkE7QUFBQTtBQWxCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTs7O0FBUUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFTQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBVUE7OztBQVVBO0FBR0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFTQTtBQUNBO0FBVUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFPQTtBQUNBO0FBUUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7O0FBOEJBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUlBO0FBQ0E7QUFNQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBdkJBO0FBQUE7QUFDQTtBQURBO0FBdUJBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBM0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQTJCQTtBQUNBOzs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFVQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBVUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTs7O0FBbUJBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQU1BOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBeUJBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQW1CQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBYUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBZUE7QUFDQTtBQVFBOzs7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFTQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBU0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBU0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFrQkE7QUFDQTtBQVVBOzs7QUFTQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBaUJBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQVdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUNBO0FBQUE7QUFLQTtBQVFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQWlCQTtBQUNBO0FBQ0E7QUFBQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBU0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFZQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQWtCQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBbUJBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7O0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQVVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFVQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFhQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFpQkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFrQkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBY0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFZQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBWUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQVlBO0FBQ0E7QUFDQTs7O0FBYUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBY0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBV0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQS8zREE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQW9QQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7OztBQ3Z4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQUE7QUFQQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQWdCQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBWEE7QUFDQTtBQUdBO0FBQUE7QUFRQTtBQVpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFhQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQU1BO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7OztBQUdBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTs7O0FBR0E7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7OztBQUdBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7OztBQUdBO0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTs7O0FBR0E7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBOzs7QUE3YkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7OztBQXljQTtBQVFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBU0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7OztBQVVBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBV0E7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7O0FDM2pCQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUF6Q0E7QUEyQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ3hMQTtBQUlBO0FBQ0E7QUFDQTtBQU1BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7Ozs7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/regexpp/index.js\n");

/***/ })

}]);